!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var p="function"==typeof require&&require;if(!f&&p)return p(i,!0);if(u)return u(i,!0);throw(p=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",p}p=n[i]={exports:{}},e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){module.exports=function(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2},module.exports.default=module.exports,module.exports.__esModule=!0},{}],2:[function(require,module,exports){module.exports=function(arr){if(Array.isArray(arr))return arr},module.exports.default=module.exports,module.exports.__esModule=!0},{}],3:[function(require,module,exports){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}module.exports=function(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}},module.exports.default=module.exports,module.exports.__esModule=!0},{}],4:[function(require,module,exports){module.exports=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},module.exports.default=module.exports,module.exports.__esModule=!0},{}],5:[function(require,module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor},module.exports.default=module.exports,module.exports.__esModule=!0},{}],6:[function(require,module,exports){module.exports=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},module.exports.default=module.exports,module.exports.__esModule=!0},{}],7:[function(require,module,exports){module.exports=function(obj){return obj&&obj.__esModule?obj:{default:obj}},module.exports.default=module.exports,module.exports.__esModule=!0},{}],8:[function(require,module,exports){module.exports=function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}},module.exports.default=module.exports,module.exports.__esModule=!0},{}],9:[function(require,module,exports){module.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},module.exports.default=module.exports,module.exports.__esModule=!0},{}],10:[function(require,module,exports){var arrayWithHoles=require("./arrayWithHoles.js"),iterableToArrayLimit=require("./iterableToArrayLimit.js"),unsupportedIterableToArray=require("./unsupportedIterableToArray.js"),nonIterableRest=require("./nonIterableRest.js");module.exports=function(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||unsupportedIterableToArray(arr,i)||nonIterableRest()},module.exports.default=module.exports,module.exports.__esModule=!0},{"./arrayWithHoles.js":2,"./iterableToArrayLimit.js":8,"./nonIterableRest.js":9,"./unsupportedIterableToArray.js":12}],11:[function(require,module,exports){function _typeof(obj){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=_typeof=function(obj){return typeof obj}:module.exports=_typeof=function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},module.exports.default=module.exports,module.exports.__esModule=!0,_typeof(obj)}module.exports=_typeof,module.exports.default=module.exports,module.exports.__esModule=!0},{}],12:[function(require,module,exports){var arrayLikeToArray=require("./arrayLikeToArray.js");module.exports=function(o,minLen){if(o){if("string"==typeof o)return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?arrayLikeToArray(o,minLen):void 0}},module.exports.default=module.exports,module.exports.__esModule=!0},{"./arrayLikeToArray.js":1}],13:[function(require,module,exports){module.exports=require("regenerator-runtime")},{"regenerator-runtime":286}],14:[function(require,module,exports){!function(Buffer){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("util"),common_1=require("./common");var Class,Tag;!function(Class){Class[Class.UNIVERSAL=0]="UNIVERSAL",Class[Class.APPLICATION=64]="APPLICATION",Class[Class.CONTEXT_SPECIFIC=128]="CONTEXT_SPECIFIC",Class[Class.PRIVATE=192]="PRIVATE"}(Class=exports.Class||(exports.Class={})),function(Tag){Tag[Tag.NONE=0]="NONE",Tag[Tag.BOOLEAN=1]="BOOLEAN",Tag[Tag.INTEGER=2]="INTEGER",Tag[Tag.BITSTRING=3]="BITSTRING",Tag[Tag.OCTETSTRING=4]="OCTETSTRING",Tag[Tag.NULL=5]="NULL",Tag[Tag.OID=6]="OID",Tag[Tag.ENUMERATED=10]="ENUMERATED",Tag[Tag.UTF8=12]="UTF8",Tag[Tag.SEQUENCE=16]="SEQUENCE",Tag[Tag.SET=17]="SET",Tag[Tag.NUMERICSTRING=18]="NUMERICSTRING",Tag[Tag.PRINTABLESTRING=19]="PRINTABLESTRING",Tag[Tag.T61STRING=20]="T61STRING",Tag[Tag.IA5STRING=22]="IA5STRING",Tag[Tag.UTCTIME=23]="UTCTIME",Tag[Tag.GENERALIZEDTIME=24]="GENERALIZEDTIME",Tag[Tag.GENERALSTRING=27]="GENERALSTRING"}(Tag=exports.Tag||(exports.Tag={}));class BitString{constructor(buf,bitLen){this.buf=buf,this.bitLen=bitLen}at(i){if(i<0||i>=this.bitLen||!Number.isInteger(i))return 0;var x=Math.floor(i/8);return this.buf[x]>>7-i%8&1}rightAlign(){var shift=8-this.bitLen%8;if(8==shift||0===this.buf.length)return this.buf;const buf=Buffer.alloc(this.buf.length);buf[0]=this.buf[0]>>shift;for(let i=1;i<this.buf.length;i++)buf[i]=this.buf[i-1]<<8-shift,buf[i]|=this.buf[i]>>shift;return buf}}exports.BitString=BitString;class ASN1{static Bool(val){const asn1=new ASN1(Class.UNIVERSAL,Tag.BOOLEAN,Buffer.from([val?255:0]));return asn1._value=val,asn1}static parseBool(buf){if(!(buf instanceof Buffer)||1!==buf.length)throw new Error("ASN1 syntax error: invalid boolean");switch(buf[0]){case 0:return!1;case 255:return!0;default:throw new Error("ASN1 syntax error: invalid boolean")}}static Integer(val){if(val instanceof Buffer){const asn=new ASN1(Class.UNIVERSAL,Tag.INTEGER,val);return asn._value=val.toString("hex"),asn}if(!Number.isSafeInteger(val))throw new Error("ASN1 syntax error: invalid integer");let buf;if(-128<=val&&val<128)buf=Buffer.alloc(1),buf.writeInt8(val,0);else if(-32768<=val&&val<32768)buf=Buffer.alloc(2),buf.writeIntBE(val,0,2);else if(-8388608<=val&&val<8388608)buf=Buffer.alloc(3),buf.writeIntBE(val,0,3);else if(-2147483648<=val&&val<2147483648)buf=Buffer.alloc(4),buf.writeIntBE(val,0,4);else if(-549755813888<=val&&val<549755813888)buf=Buffer.alloc(5),buf.writeIntBE(val,0,5);else{if(!(-0x800000000000<=val&&val<0x800000000000))throw new Error("ASN1 syntax error: invalid Integer");buf=Buffer.alloc(6),buf.writeIntBE(val,0,6)}const asn1=new ASN1(Class.UNIVERSAL,Tag.INTEGER,buf);return asn1._value=val,asn1}static parseInteger(buf){if(!(buf instanceof Buffer)||0===buf.length)throw new Error("ASN1 syntax error: invalid Integer");return 6<buf.length?buf.toString("hex"):buf.readIntBE(0,buf.length)}static parseIntegerNum(value){value=ASN1.parseInteger(value);if("number"!=typeof value)throw new Error("ASN1 syntax error: invalid Integer number");return value}static parseIntegerStr(buf){const value=ASN1.parseInteger(buf);return"number"==typeof value?value.toString(16):value}static BitString(val){var paddingBits=8*(val=val instanceof Buffer?new BitString(val,8*val.length):val).buf.length-val.bitLen;const buf=Buffer.alloc(val.buf.length+1);return buf.writeInt8(paddingBits,0),val.buf.copy(buf,1),new ASN1(Class.UNIVERSAL,Tag.BITSTRING,buf)}static parseBitString(buf){if(!(buf instanceof Buffer)||0===buf.length)throw new Error("ASN1 syntax error: invalid BitString");var paddingBits=buf[0];if(7<paddingBits||1===buf.length&&0<paddingBits||0!=(buf[buf.length-1]&(1<<buf[0])-1))throw new Error("ASN1 syntax error: invalid padding bits in BIT STRING");return new BitString(buf.slice(1),8*(buf.length-1)-paddingBits)}static Null(){const asn1=new ASN1(Class.UNIVERSAL,Tag.NULL,Buffer.alloc(0));return asn1._value=null,asn1}static parseNull(buf){if(!(buf instanceof Buffer)||0!==buf.length)throw new Error("ASN1 syntax error: invalid null");return null}static OID(val){var values=val.split(".");if(0===values.length)throw new Error("ASN1 syntax error: invalid Object Identifier");const bytes=[];bytes.push(40*mustParseInt(values[0])+mustParseInt(values[1]));const valueBytes=[];for(let i=2;i<values.length;++i){let value=mustParseInt(values[i]);for(valueBytes.length=0,valueBytes.push(127&value);127<value;)value>>>=7,valueBytes.unshift(127&value|128);bytes.push(...valueBytes)}const asn1=new ASN1(Class.UNIVERSAL,Tag.OID,Buffer.from(bytes));return asn1._value=val,asn1}static parseOID(buf){if(!(buf instanceof Buffer)||0===buf.length)throw new Error("ASN1 syntax error: invalid OID");let oid=Math.floor(buf[0]/40)+"."+buf[0]%40,high=0;for(let i=1;i<buf.length;i++)128<=buf[i]?(high+=127&buf[i],high<<=7):(oid+="."+(high+buf[i]),high=0);return oid}static UTF8(val){const asn1=new ASN1(Class.UNIVERSAL,Tag.UTF8,Buffer.from(val,"utf8"));return asn1._value=val,asn1}static parseUTF8(buf){if(!(buf instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return buf.toString("utf8")}static NumericString(val){if(!isNumericString(val))throw new Error("ASN1 syntax error: invalid NumericString");const asn1=new ASN1(Class.UNIVERSAL,Tag.NUMERICSTRING,Buffer.from(val,"utf8"));return asn1._value=val,asn1}static parseNumericString(str){if(!(str instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");str=str.toString("utf8");if(!isNumericString(str))throw new Error("ASN1 syntax error: invalid NumericString");return str}static PrintableString(val){const asn1=new ASN1(Class.UNIVERSAL,Tag.PRINTABLESTRING,Buffer.from(val,"utf8"));return asn1._value=val,asn1}static parsePrintableString(buf){if(!(buf instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return buf.toString("utf8")}static IA5String(val){if(!isIA5String(val))throw new Error("ASN1 syntax error: invalid IA5String");const asn1=new ASN1(Class.UNIVERSAL,Tag.IA5STRING,Buffer.from(val,"utf8"));return asn1._value=val,asn1}static parseIA5String(str){if(!(str instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");str=str.toString("utf8");if(!isIA5String(str))throw new Error("ASN1 syntax error: invalid IA5String");return str}static T61String(val){const asn1=new ASN1(Class.UNIVERSAL,Tag.T61STRING,Buffer.from(val,"utf8"));return asn1._value=val,asn1}static parseT61String(buf){if(!(buf instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return buf.toString("utf8")}static GeneralString(val){const asn1=new ASN1(Class.UNIVERSAL,Tag.GENERALSTRING,Buffer.from(val,"utf8"));return asn1._value=val,asn1}static parseGeneralString(buf){if(!(buf instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return buf.toString("utf8")}static UTCTime(date){let rval="";const format=[];format.push((""+date.getUTCFullYear()).substr(2)),format.push(""+(date.getUTCMonth()+1)),format.push(""+date.getUTCDate()),format.push(""+date.getUTCHours()),format.push(""+date.getUTCMinutes()),format.push(""+date.getUTCSeconds());for(const s of format)s.length<2&&(rval+="0"),rval+=s;rval+="Z";const asn1=new ASN1(Class.UNIVERSAL,Tag.UTCTIME,Buffer.from(rval,"utf8"));return asn1._value=date,asn1}static parseUTCTime(offset){if(!(offset instanceof Buffer)||0===offset.length)throw new Error("ASN1 syntax error: invalid UTC Time");const utc=offset.toString("utf8"),date=new Date;let year=mustParseInt(utc.substr(0,2));year=50<=year?1900+year:2e3+year;var MM=mustParseInt(utc.substr(2,2))-1,DD=mustParseInt(utc.substr(4,2)),hh=mustParseInt(utc.substr(6,2)),offset=mustParseInt(utc.substr(8,2));let ss=0,end=0,c="";return 11<utc.length&&(end=10,c=utc.charAt(end),"+"!==c&&"-"!==c&&(ss=mustParseInt(utc.substr(10,2)),end+=2)),date.setUTCFullYear(year,MM,DD),date.setUTCHours(hh,offset,ss,0),0<end&&(c=utc.charAt(end),"+"!==c&&"-"!==c||(offset=60*mustParseInt(utc.substr(end+1,2))+mustParseInt(utc.substr(end+4,2)),offset*=6e4,"+"===c?date.setTime(+date-offset):date.setTime(+date+offset))),date}static GeneralizedTime(date){let rval="";const format=[];format.push(""+date.getUTCFullYear()),format.push(""+(date.getUTCMonth()+1)),format.push(""+date.getUTCDate()),format.push(""+date.getUTCHours()),format.push(""+date.getUTCMinutes()),format.push(""+date.getUTCSeconds());for(const s of format)s.length<2&&(rval+="0"),rval+=s;rval+="Z";const asn1=new ASN1(Class.UNIVERSAL,Tag.GENERALIZEDTIME,Buffer.from(rval,"utf8"));return asn1._value=date,asn1}static parseGeneralizedTime(hhoffset){if(!(hhoffset instanceof Buffer)||0===hhoffset.length)throw new Error("ASN1 syntax error: invalid Generalized Time");const gentime=hhoffset.toString("utf8"),date=new Date;var YYYY=mustParseInt(gentime.substr(0,4)),MM=mustParseInt(gentime.substr(4,2))-1,DD=mustParseInt(gentime.substr(6,2)),hh=mustParseInt(gentime.substr(8,2)),mm=mustParseInt(gentime.substr(10,2)),ss=mustParseInt(gentime.substr(12,2));let fff=0,offset=0,isUTC=!1;"Z"===gentime.charAt(gentime.length-1)&&(isUTC=!0);var mmoffset=gentime.length-5,c=gentime.charAt(mmoffset);return"+"!==c&&"-"!==c||(hhoffset=mustParseInt(gentime.substr(1+mmoffset,2)),mmoffset=mustParseInt(gentime.substr(4+mmoffset,2)),offset=60*hhoffset+mmoffset,offset*=6e4,"+"===c&&(offset*=-1),isUTC=!0),"."===gentime.charAt(14)&&(fff=1e3*parseFloat(gentime.substr(14))),isUTC?(date.setUTCFullYear(YYYY,MM,DD),date.setUTCHours(hh,mm,ss,fff),date.setTime(+date+offset)):(date.setFullYear(YYYY,MM,DD),date.setHours(hh,mm,ss,fff)),date}static parseTime(tag,buf){switch(tag){case Tag.UTCTIME:return ASN1.parseUTCTime(buf);case Tag.GENERALIZEDTIME:return ASN1.parseGeneralizedTime(buf);default:throw new Error("Invalid ASN1 time tag")}}static Set(objs){const asn1=new ASN1(Class.UNIVERSAL,Tag.SET,Buffer.concat(objs.map(obj=>obj.toDER())));return asn1._value=objs,asn1}static Seq(objs){const asn1=new ASN1(Class.UNIVERSAL,Tag.SEQUENCE,Buffer.concat(objs.map(obj=>obj.toDER())));return asn1._value=objs,asn1}static Spec(tag,objs,isCompound=!0){var bytes=Array.isArray(objs)?Buffer.concat(objs.map(obj=>obj.toDER())):objs.toDER();Array.isArray(objs)&&(isCompound=!0);const asn1=new ASN1(Class.CONTEXT_SPECIFIC,tag,bytes,isCompound);return asn1._value=objs,asn1}static fromDER(buf,deepParse=!1){return ASN1._fromDER(new common_1.BufferVisitor(buf),deepParse)}static parseDER(obj,tagClass,tag){obj=ASN1._fromDER(new common_1.BufferVisitor(obj),!1);if(obj.class!==tagClass&&obj.tag!==tag)throw new Error(`invalid ASN.1 DER for class ${tagClass} and tag `+tag);return obj}static parseDERWithTemplate(captures,tpl){const obj=ASN1._fromDER(new common_1.BufferVisitor(captures),!0);captures={};const err=obj.validate(tpl,captures);if(null!=err)throw err.data=obj,err;return captures}static _parseCompound(buf,deepParse){const values=[];var len=buf.length,bufv=new common_1.BufferVisitor(buf);let readByteLen=0;for(;readByteLen<len;){var start=bufv.end;values.push(ASN1._fromDER(bufv,deepParse)),readByteLen+=bufv.end-start}return values}static _fromDER(bufv,deepParse){if(!(bufv.buf instanceof Buffer)||0===bufv.length)throw new Error("ASN1 syntax error: invalid Generalized Time");bufv.mustWalk(1,"Too few bytes to read ASN.1 tag.");var start=bufv.start,isCompound=bufv.buf[start],tagClass=192&isCompound,tag=31&isCompound,valueLen=function(bufv){bufv.mustWalk(1,"Too few bytes to read ASN.1 value length.");var byteLen=bufv.buf[bufv.start];if(0==(128&byteLen))return byteLen;byteLen&=127;return bufv.mustWalk(byteLen,"Too few bytes to read ASN.1 value length."),bufv.buf.readUIntBE(bufv.start,byteLen)}(bufv);if(bufv.mustHas(valueLen),0!==valueLen&&tag===Tag.NULL)throw new Error("invalid value length or NULL tag.");bufv.mustWalk(valueLen);isCompound=32==(32&isCompound);const asn1=new ASN1(tagClass,tag,bufv.buf.slice(bufv.start,bufv.end),isCompound);return isCompound&&deepParse&&(asn1._value=ASN1._parseCompound(asn1.bytes,deepParse)),asn1._der=bufv.buf.slice(start,bufv.end),asn1}constructor(tagClass,tag,data,isCompound=!1){this.class=tagClass,this.tag=tag,this.bytes=data,this.isCompound=isCompound||tag===Tag.SEQUENCE||tag===Tag.SET,this._value=void 0,this._der=null}get value(){return void 0===this._value&&(this._value=this.valueOf()),this._value}get DER(){return null==this._der&&(this._der=this.toDER()),this._der}mustCompound(msg="asn1 object value is not compound"){if(this.isCompound&&Array.isArray(this.value))return this.value;{const err=new Error(msg);throw err.data=this.toJSON(),err}}equals(obj){return obj instanceof ASN1&&(this.class===obj.class&&this.tag===obj.tag&&this.isCompound===obj.isCompound&&!!this.bytes.equals(obj.bytes))}toDER(){let b1=this.class|this.tag;this.isCompound&&(b1|=32);var valueLenBytes=function(valueLen){{if(valueLen<=127)return 0;if(valueLen<=255)return 1;if(valueLen<=65535)return 2;if(valueLen<=16777215)return 3;if(valueLen<=4294967295)return 4;if(valueLen<=0xffffffffff)return 5;if(valueLen<=0xffffffffffff)return 6;throw new Error("invalid value length")}}(this.bytes.length);const buf=Buffer.allocUnsafe(2+valueLenBytes+this.bytes.length);return buf.writeInt8(b1,0),0===valueLenBytes?(buf.writeUInt8(this.bytes.length,1),this.bytes.copy(buf,2)):(buf.writeUInt8(128|valueLenBytes,1),buf.writeUIntBE(this.bytes.length,2,valueLenBytes),this.bytes.copy(buf,2+valueLenBytes)),buf}valueOf(){if(this.isCompound)return ASN1._parseCompound(this.bytes,!1);if(this.class!==Class.UNIVERSAL)return this.bytes;switch(this.tag){case Tag.BOOLEAN:return ASN1.parseBool(this.bytes);case Tag.INTEGER:return ASN1.parseInteger(this.bytes);case Tag.BITSTRING:return ASN1.parseBitString(this.bytes);case Tag.NULL:return ASN1.parseNull(this.bytes);case Tag.OID:return ASN1.parseOID(this.bytes);case Tag.UTF8:return ASN1.parseUTF8(this.bytes);case Tag.NUMERICSTRING:return ASN1.parseNumericString(this.bytes);case Tag.PRINTABLESTRING:return ASN1.parsePrintableString(this.bytes);case Tag.T61STRING:return ASN1.parseT61String(this.bytes);case Tag.IA5STRING:return ASN1.parseIA5String(this.bytes);case Tag.GENERALSTRING:return ASN1.parseGeneralString(this.bytes);case Tag.UTCTIME:return ASN1.parseUTCTime(this.bytes);case Tag.GENERALIZEDTIME:return ASN1.parseGeneralizedTime(this.bytes);default:return this.bytes}}validate(tpl,captures={}){if(this.class!==tpl.class)return new Error(`ASN.1 object validate failure for ${tpl.name} : error class `+Class[this.class]);const tplTags=Array.isArray(tpl.tag)?tpl.tag:[tpl.tag];if(!tplTags.includes(this.tag))return new Error(`ASN.1 object validate failure for ${tpl.name}: error tag `+Tag[this.tag]);if(null!=tpl.capture&&(captures[tpl.capture]=this),Array.isArray(tpl.value)){const values=this.mustCompound(tpl.name+" need compound ASN1 value");for(let i=0,j=0;i<tpl.value.length;i++)if(null!=values[j]){var err=values[j].validate(tpl.value[i],captures);if(null==err)j++;else if(!0!==tpl.value[i].optional)return err}else if(!0!==tpl.value[i].optional)return new Error(`ASN.1 object validate failure for ${tpl.value[i].name}: not exists`)}else if(null!=tpl.value){var buf=this.tag===Tag.BITSTRING?this.bytes.slice(1):this.bytes;return ASN1.fromDER(buf).validate(tpl.value,captures)}return null}toJSON(){let value=this.value;return Array.isArray(value)&&(value=value.map(val=>val.toJSON())),{class:Class[this.class],tag:this.class===Class.UNIVERSAL?Tag[this.tag]:this.tag,value:value}}[util_1.inspect.custom](_depth,options){return options.depth<=2&&(options.depth=10),`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}function isNumericString(str){for(const s of str){var n=s.charCodeAt(0);if(32!==n&&(n<48||57<n))return}return 1}function isIA5String(str){for(const s of str)if(128<=s.charCodeAt(0))return;return 1}function mustParseInt(str,radix=10){var val=parseInt(str,radix);if(Number.isNaN(val))throw new Error(`Invalid numeric string "${str}" in radix ${radix}.`);return val}exports.ASN1=ASN1}.call(this)}.call(this,require("buffer").Buffer)},{"./common":15,buffer:93,util:320}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.BufferVisitor=class{constructor(buf,start=0,end=0){this.start=start,this.end=start<end?end:start,this.buf=buf}get length(){return this.buf.length}reset(start=0,end=0){return this.start=start,end>=this.start?this.end=end:this.end<this.start&&(this.end=this.start),this}walk(steps){return this.start=this.end,this.end+=steps,this}mustHas(requested,message="Too few bytes to parse."){requested=this.end+requested;if(requested>this.buf.length){const error=new Error(message);throw error.available=this.buf.length,error.requested=requested,error}return this.walk(0),this}mustWalk(steps,message){return this.mustHas(steps,message),this.walk(steps),this}}},{}],16:[function(asn1_1,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var pem_1=asn1_1("./common");exports.BufferVisitor=pem_1.BufferVisitor;pem_1=asn1_1("./pem");exports.PEM=pem_1.PEM;asn1_1=asn1_1("./asn1");exports.ASN1=asn1_1.ASN1,exports.Class=asn1_1.Class,exports.Tag=asn1_1.Tag,exports.BitString=asn1_1.BitString},{"./asn1":14,"./common":15,"./pem":17}],17:[function(require,module,exports){!function(Buffer){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("util");class PEM{static parse(data){const res=[];for(var lines=data.toString("utf8").split("\n").map(s=>s.trim()).filter(s=>""!==s&&!s.startsWith("#"));0<lines.length;)res.push(function(lines){let line=lines.shift();if(null==line||!line.startsWith("-----BEGIN ")||!line.endsWith("-----"))throw new Error("pem: invalid BEGIN line");var type=line.slice("-----BEGIN ".length,line.length-"-----".length);if(""===type)throw new Error("pem: invalid type");const headers=[];line=lines.shift();for(;null!=line&&line.includes(": ");){var header=line.split(": ");if(2!==header.length||""===header[0]||""===header[1])throw new Error("pem: invalid Header line");headers.push(header),line=lines.shift()}let body="";for(;null!=line&&!line.startsWith("-----END ");)body+=line,line=lines.shift();if(null==line||line!==`-----END ${type}-----`)throw new Error("pem: invalid END line");const pem=new PEM(type,Buffer.from(body,"base64"));if(""===body||pem.body.toString("base64")!==body)throw new Error("pem: invalid base64 body");for(const header of headers)pem.setHeader(header[0],header[1]);return pem}(lines));if(0===res.length)throw new Error("PEM: no block");return res}constructor(type,body){this.type=type,this.body=body,this.headers=Object.create(null)}get procType(){return this.getHeader("Proc-Type")}getHeader(val){val=this.headers[val];return null==val?"":val}setHeader(key,val){if(key.includes(":"))throw new Error("pem: cannot encode a header key that contains a colon");if(""===key||""===val)throw new Error("pem: invalid header key or value");this.headers[key]=val}toString(){let rVal="-----BEGIN "+this.type+"-----\n";const headers=Object.keys(this.headers);if(0<headers.length){var type=this.procType;""!==type&&(rVal+=`Proc-Type: ${type}
`),headers.sort();for(const key of headers)"Proc-Type"!==key&&(rVal+=`${key}: ${this.headers[key]}\n`);rVal+="\n"}const body=this.body.toString("base64");let offset=0;for(;offset<body.length;)rVal+=body.slice(offset,offset+64)+"\n",offset+=64;return rVal+="-----END "+this.type+"-----\n",rVal}toBuffer(){return Buffer.from(this.toString(),"utf8")}valueOf(){return this.body}toJSON(){return{type:this.type,body:this.body,headers:this.headers}}[util_1.inspect.custom](_depth,options){return`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}exports.PEM=PEM}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,util:320}],18:[function(require,module,exports){!function(Buffer){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const net_1=require("net");exports.bytesFromIP=function(ip){switch(net_1.isIP(ip)){case 4:return Buffer.from(ip.split(".").map(val=>parseInt(val,10)));case 6:const vals=ip.split(":"),buf=Buffer.alloc(16);let offset=0;""===vals[vals.length-1]&&(vals[vals.length-1]="0");for(let i=0;i<vals.length;i++)""!==vals[i]?(buf.writeUInt16BE(parseInt(vals[i],16),offset),offset+=2):i+1<vals.length&&""!==vals[i+1]&&(offset=16-2*(vals.length-i-1));return buf;default:return null}},exports.bytesToIP=function(bytes){switch(bytes.length){case 4:return[bytes[0],bytes[1],bytes[2],bytes[3]].join(".");case 16:const ip=[];let zeroAt=-1,zeroLen=0,maxAt=-1,maxLen=0;for(let i=0;i<bytes.length;i+=2){const hex=bytes[i]<<8|bytes[i+1];0===hex?(zeroLen++,-1===zeroAt&&(zeroAt=ip.length),zeroLen>maxLen&&(maxLen=zeroLen,maxAt=zeroAt)):(zeroAt=-1,zeroLen=0),ip.push(hex.toString(16))}if(0<maxLen){let padding="";var rest=ip.slice(maxAt+maxLen);ip.length=maxAt,0===ip.length&&(padding+=":"),0===rest.length&&(padding+=":"),ip.push(padding,...rest)}return ip.join(":");default:return""}};const oids=Object.create(null),oidReg=/^[0-9.]+$/;function initOID(oid,name){oids[oid]=name,oids[name]=oid}exports.getOID=function(nameOrId){return oidReg.test(nameOrId)&&""!==oids[nameOrId]?nameOrId:null==oids[nameOrId]?"":oids[nameOrId]},exports.getOIDName=function(nameOrId){return!oidReg.test(nameOrId)&&""!==oids[nameOrId]||null==oids[nameOrId]?nameOrId:oids[nameOrId]},initOID("1.2.840.113549.1.1.1","rsaEncryption"),initOID("1.2.840.113549.1.1.4","md5WithRsaEncryption"),initOID("1.2.840.113549.1.1.5","sha1WithRsaEncryption"),initOID("1.2.840.113549.1.1.8","mgf1"),initOID("1.2.840.113549.1.1.10","RSASSA-PSS"),initOID("1.2.840.113549.1.1.11","sha256WithRsaEncryption"),initOID("1.2.840.113549.1.1.12","sha384WithRsaEncryption"),initOID("1.2.840.113549.1.1.13","sha512WithRsaEncryption"),initOID("1.2.840.10045.2.1","ecEncryption"),initOID("1.2.840.10045.4.1","ecdsaWithSha1"),initOID("1.2.840.10045.4.3.2","ecdsaWithSha256"),initOID("1.2.840.10045.4.3.3","ecdsaWithSha384"),initOID("1.2.840.10045.4.3.4","ecdsaWithSha512"),initOID("1.2.840.10040.4.3","dsaWithSha1"),initOID("2.16.840.1.101.3.4.3.2","dsaWithSha256"),initOID("1.3.14.3.2.7","desCBC"),initOID("1.3.14.3.2.26","sha1"),initOID("2.16.840.1.101.3.4.2.1","sha256"),initOID("2.16.840.1.101.3.4.2.2","sha384"),initOID("2.16.840.1.101.3.4.2.3","sha512"),initOID("1.2.840.113549.2.5","md5"),initOID("1.3.101.110","X25519"),initOID("1.3.101.111","X448"),initOID("1.3.101.112","Ed25519"),initOID("1.3.101.113","Ed448"),initOID("1.2.840.113549.1.7.1","data"),initOID("1.2.840.113549.1.7.2","signedData"),initOID("1.2.840.113549.1.7.3","envelopedData"),initOID("1.2.840.113549.1.7.4","signedAndEnvelopedData"),initOID("1.2.840.113549.1.7.5","digestedData"),initOID("1.2.840.113549.1.7.6","encryptedData"),initOID("1.2.840.113549.1.9.1","emailAddress"),initOID("1.2.840.113549.1.9.2","unstructuredName"),initOID("1.2.840.113549.1.9.3","contentType"),initOID("1.2.840.113549.1.9.4","messageDigest"),initOID("1.2.840.113549.1.9.5","signingTime"),initOID("1.2.840.113549.1.9.6","counterSignature"),initOID("1.2.840.113549.1.9.7","challengePassword"),initOID("1.2.840.113549.1.9.8","unstructuredAddress"),initOID("1.2.840.113549.1.9.14","extensionRequest"),initOID("1.2.840.113549.1.9.20","friendlyName"),initOID("1.2.840.113549.1.9.21","localKeyId"),initOID("1.2.840.113549.1.9.22.1","x509Certificate"),initOID("1.2.840.113549.1.12.10.1.1","keyBag"),initOID("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),initOID("1.2.840.113549.1.12.10.1.3","certBag"),initOID("1.2.840.113549.1.12.10.1.4","crlBag"),initOID("1.2.840.113549.1.12.10.1.5","secretBag"),initOID("1.2.840.113549.1.12.10.1.6","safeContentsBag"),initOID("1.2.840.113549.1.5.13","pkcs5PBES2"),initOID("1.2.840.113549.1.5.12","pkcs5PBKDF2"),initOID("1.2.840.113549.2.7","hmacWithSha1"),initOID("1.2.840.113549.2.9","hmacWithSha256"),initOID("1.2.840.113549.2.10","hmacWithSha384"),initOID("1.2.840.113549.2.11","hmacWithSha512"),initOID("1.2.840.113549.3.7","3desCBC"),initOID("2.16.840.1.101.3.4.1.2","aesCBC128"),initOID("2.16.840.1.101.3.4.1.42","aesCBC256"),initOID("2.5.4.3","commonName"),initOID("2.5.4.5","serialName"),initOID("2.5.4.6","countryName"),initOID("2.5.4.7","localityName"),initOID("2.5.4.8","stateOrProvinceName"),initOID("2.5.4.10","organizationName"),initOID("2.5.4.11","organizationalUnitName"),initOID("2.5.4.15","businessCategory"),initOID("2.16.840.1.113730.1.1","nsCertType"),initOID("2.5.29.2","keyAttributes"),initOID("2.5.29.4","keyUsageRestriction"),initOID("2.5.29.6","subtreesConstraint"),initOID("2.5.29.9","subjectDirectoryAttributes"),initOID("2.5.29.14","subjectKeyIdentifier"),initOID("2.5.29.15","keyUsage"),initOID("2.5.29.16","privateKeyUsagePeriod"),initOID("2.5.29.17","subjectAltName"),initOID("2.5.29.18","issuerAltName"),initOID("2.5.29.19","basicConstraints"),initOID("2.5.29.20","cRLNumber"),initOID("2.5.29.21","cRLReason"),initOID("2.5.29.22","expirationDate"),initOID("2.5.29.23","instructionCode"),initOID("2.5.29.24","invalidityDate"),initOID("2.5.29.27","deltaCRLIndicator"),initOID("2.5.29.28","issuingDistributionPoint"),initOID("2.5.29.29","certificateIssuer"),initOID("2.5.29.30","nameConstraints"),initOID("2.5.29.31","cRLDistributionPoints"),initOID("2.5.29.32","certificatePolicies"),initOID("2.5.29.33","policyMappings"),initOID("2.5.29.35","authorityKeyIdentifier"),initOID("2.5.29.36","policyConstraints"),initOID("2.5.29.37","extKeyUsage"),initOID("2.5.29.46","freshestCRL"),initOID("2.5.29.54","inhibitAnyPolicy"),initOID("1.3.6.1.4.1.311.60.2.1.2","jurisdictionST"),initOID("1.3.6.1.4.1.311.60.2.1.3","jurisdictionC"),initOID("1.3.6.1.4.1.11129.2.4.2","timestampList"),initOID("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),initOID("1.3.6.1.5.5.7.3.1","serverAuth"),initOID("1.3.6.1.5.5.7.3.2","clientAuth"),initOID("1.3.6.1.5.5.7.3.3","codeSigning"),initOID("1.3.6.1.5.5.7.3.4","emailProtection"),initOID("1.3.6.1.5.5.7.3.8","timeStamping"),initOID("1.3.6.1.5.5.7.48.1","authorityInfoAccessOcsp"),initOID("1.3.6.1.5.5.7.48.2","authorityInfoAccessIssuers")}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,net:91}],19:[function(x509_1,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var pki_1=x509_1("./common");exports.bytesFromIP=pki_1.bytesFromIP,exports.bytesToIP=pki_1.bytesToIP,exports.getOID=pki_1.getOID,exports.getOIDName=pki_1.getOIDName;pki_1=x509_1("./pki");exports.PublicKey=pki_1.PublicKey,exports.PrivateKey=pki_1.PrivateKey,exports.RSAPublicKey=pki_1.RSAPublicKey,exports.RSAPrivateKey=pki_1.RSAPrivateKey;x509_1=x509_1("./x509");exports.Certificate=x509_1.Certificate,exports.DistinguishedName=x509_1.DistinguishedName},{"./common":18,"./pki":20,"./x509":21}],20:[function(require,module,exports){!function(Buffer){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("util"),crypto_1=require("crypto"),tweetnacl_1=require("tweetnacl"),asn1_1=require("@fidm/asn1"),common_1=require("./common");exports.publicKeyValidator={name:"PublicKeyInfo",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,capture:"publicKeyInfo",value:[{name:"PublicKeyInfo.AlgorithmIdentifier",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"PublicKeyAlgorithmIdentifier.algorithm",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OID,capture:"publicKeyOID"}]},{name:"PublicKeyInfo.PublicKey",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.BITSTRING,capture:"publicKey"}]},exports.privateKeyValidator={name:"PrivateKeyInfo",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,capture:"privateKeyInfo",value:[{name:"PrivateKeyInfo.Version",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.AlgorithmIdentifier",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"PrivateKeyAlgorithmIdentifier.algorithm",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OID,capture:"privateKeyOID"}]},{name:"PrivateKeyInfo.PrivateKey",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OCTETSTRING,capture:"privateKey"}]};const rsaPublicKeyValidator={name:"RSAPublicKey",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"RSAPublicKey.modulus",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"publicKeyExponent"}]},rsaPrivateKeyValidator={name:"RSAPrivateKey",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"RSAPrivateKey.version",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"privateKeyCoefficient"}]},EdDSAPrivateKeyOIDs=[common_1.getOID("X25519"),common_1.getOID("X448"),common_1.getOID("Ed25519"),common_1.getOID("Ed448")];class PublicKey{constructor(obj){var captures={},err=obj.validate(exports.publicKeyValidator,captures);if(null!=err)throw new Error("Cannot read X.509 public key: "+err.message);this.oid=asn1_1.ASN1.parseOID(captures.publicKeyOID.bytes),this.algo=common_1.getOIDName(this.oid),this._pkcs8=obj,this._keyRaw=asn1_1.ASN1.parseBitString(captures.publicKey.bytes).buf,this._finalKey=this._keyRaw,this._finalPEM=""}static fromPEM(pem){const msg=asn1_1.PEM.parse(pem)[0];if(msg.procType.includes("ENCRYPTED"))throw new Error("Could not convert public key from PEM, PEM is encrypted.");var obj=asn1_1.ASN1.fromDER(msg.body,!0);switch(msg.type){case"PUBLIC KEY":return new PublicKey(obj);case"RSA PUBLIC KEY":var _pkcs8=asn1_1.ASN1.Seq([asn1_1.ASN1.Seq([asn1_1.ASN1.OID(common_1.getOID("rsaEncryption")),asn1_1.ASN1.Null()]),asn1_1.ASN1.BitString(obj.DER)]);return new PublicKey(_pkcs8);default:throw new Error("Could not convert public key from PEM, recommend PKCS#8 PEM")}}static addVerifier(oid,fn){if(""===(oid=common_1.getOID(oid)))throw new Error("Invalid object identifier: "+oid);if(null!=PublicKey._verifiers[oid])throw new Error(`Verifier ${oid} exists`);PublicKey._verifiers[oid]=fn}get keyRaw(){return this._finalKey}verify(data,signature,hashAlgorithm){const verifier=PublicKey._verifiers[this.oid];if(null!=verifier){var sum=crypto_1.createHash(hashAlgorithm).update(data).digest();return verifier.call(this,sum,signature)}const verify=crypto_1.createVerify(hashAlgorithm);return verify.update(data),verify.verify(this.toPEM(),signature)}getFingerprint(hashAlgorithm,type="PublicKey"){let bytes;switch(type){case"PublicKeyInfo":bytes=this._pkcs8.DER;break;case"PublicKey":bytes=this._keyRaw;break;default:throw new Error(`Unknown fingerprint type "${type}".`)}const hasher=crypto_1.createHash(hashAlgorithm);return hasher.update(bytes),hasher.digest()}toASN1(){return this._pkcs8}toDER(){return this._pkcs8.DER}toPEM(){return""===this._finalPEM&&(this._finalPEM=new asn1_1.PEM("PUBLIC KEY",this._pkcs8.DER).toString()),this._finalPEM}toJSON(){return{oid:this.oid,algo:this.algo,publicKey:this._keyRaw}}[util_1.inspect.custom](_depth,options){return`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}PublicKey._verifiers=Object.create(null),exports.PublicKey=PublicKey;class PrivateKey{constructor(obj){var keypair=Object.create(null),err=obj.validate(exports.privateKeyValidator,keypair);if(null!=err)throw new Error("Cannot read X.509 private key: "+err.message);if(this.version=asn1_1.ASN1.parseIntegerNum(keypair.privateKeyVersion.bytes)+1,this.oid=asn1_1.ASN1.parseOID(keypair.privateKeyOID.bytes),this.algo=common_1.getOIDName(this.oid),this._pkcs8=obj,this._keyRaw=keypair.privateKey.bytes,this._publicKeyRaw=null,this._finalKey=this._keyRaw,this._finalPEM="",EdDSAPrivateKeyOIDs.includes(this.oid))if(this._finalKey=this._keyRaw=asn1_1.ASN1.parseDER(this._keyRaw,asn1_1.Class.UNIVERSAL,asn1_1.Tag.OCTETSTRING).bytes,"1.3.101.112"===this.oid){keypair=tweetnacl_1.sign.keyPair.fromSeed(this._keyRaw);this._publicKeyRaw=Buffer.from(keypair.publicKey),this._finalKey=Buffer.from(keypair.secretKey)}else if(2===this.version)for(const val of obj.mustCompound())val.class===asn1_1.Class.CONTEXT_SPECIFIC&&1===val.tag&&(this._publicKeyRaw=asn1_1.ASN1.parseBitString(val.bytes).buf,this._finalKey=Buffer.concat([this._keyRaw,this._publicKeyRaw]))}static fromPEM(pem){const msg=asn1_1.PEM.parse(pem)[0];if(msg.procType.includes("ENCRYPTED"))throw new Error("Could not convert private key from PEM, PEM is encrypted.");let obj=asn1_1.ASN1.fromDER(msg.body,!0);switch(msg.type){case"PRIVATE KEY":return new PrivateKey(obj);case"RSA PRIVATE KEY":return obj=asn1_1.ASN1.Seq([obj.value[0],asn1_1.ASN1.Seq([asn1_1.ASN1.OID(common_1.getOID("rsaEncryption")),asn1_1.ASN1.Null()]),new asn1_1.ASN1(asn1_1.Class.UNIVERSAL,asn1_1.Tag.OCTETSTRING,obj.DER)]),new PrivateKey(obj);default:throw new Error("Could not convert private key from PEM, recommend PKCS#8 PEM")}}static addSigner(oid,fn){if(""===(oid=common_1.getOID(oid)))throw new Error("Invalid object identifier: "+oid);if(null!=PrivateKey._signers[oid])throw new Error(`Signer ${oid} exists`);PrivateKey._signers[oid]=fn}get keyRaw(){return this._finalKey}get publicKeyRaw(){return this._publicKeyRaw}sign(data,hashAlgorithm){const signer=PrivateKey._signers[this.oid];if(null!=signer){var sum=crypto_1.createHash(hashAlgorithm).update(data).digest();return signer.call(this,sum)}const sign=crypto_1.createSign(hashAlgorithm);return sign.update(data),sign.sign(this.toPEM())}toASN1(){return this._pkcs8}toDER(){return this._pkcs8.DER}toPEM(){return""===this._finalPEM&&(this._finalPEM=new asn1_1.PEM("PRIVATE KEY",this._pkcs8.DER).toString()),this._finalPEM}toJSON(){return{version:this.version,oid:this.oid,algo:this.algo,privateKey:this._keyRaw,publicKey:this._publicKeyRaw}}[util_1.inspect.custom](_depth,options){return`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}PrivateKey._signers=Object.create(null),exports.PrivateKey=PrivateKey;class RSAPublicKey extends PublicKey{static fromPublicKey(publicKey){return new RSAPublicKey(publicKey.toASN1())}constructor(err){if(super(err),common_1.getOID(this.oid)!==common_1.getOID("rsaEncryption"))throw new Error("Invalid RSA public key, unknown OID: "+this.oid);var captures=Object.create(null);this._pkcs1=asn1_1.ASN1.fromDER(this._keyRaw,!0);err=this._pkcs1.validate(rsaPublicKeyValidator,captures);if(null!=err)throw new Error("Cannot read RSA public key: "+err.message);this.modulus=asn1_1.ASN1.parseIntegerStr(captures.publicKeyModulus.bytes),this.exponent=asn1_1.ASN1.parseIntegerNum(captures.publicKeyExponent.bytes)}toASN1(){return this._pkcs1}toDER(){return this._keyRaw}toPEM(){return""===this._finalPEM&&(this._finalPEM=new asn1_1.PEM("RSA PUBLIC KEY",this._keyRaw).toString()),this._finalPEM}toPublicKeyPEM(){return new asn1_1.PEM("PUBLIC KEY",this._pkcs8.DER).toString()}toJSON(){return{oid:this.oid,algo:this.algo,modulus:trimLeadingZeroByte(this.modulus),exponent:this.exponent}}[util_1.inspect.custom](_depth,options){return`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}exports.RSAPublicKey=RSAPublicKey;class RSAPrivateKey extends PrivateKey{static fromPrivateKey(privateKey){return new RSAPrivateKey(privateKey.toASN1())}constructor(err){if(super(err),common_1.getOID(this.oid)!==common_1.getOID("rsaEncryption"))throw new Error("Invalid RSA private key, unknown OID: "+this.oid);var captures=Object.create(null);this._pkcs1=asn1_1.ASN1.fromDER(this._keyRaw,!0);err=this._pkcs1.validate(rsaPrivateKeyValidator,captures);if(null!=err)throw new Error("Cannot read RSA private key: "+err.message);this.publicExponent=asn1_1.ASN1.parseIntegerNum(captures.privateKeyPublicExponent.bytes),this.privateExponent=asn1_1.ASN1.parseIntegerStr(captures.privateKeyPrivateExponent.bytes),this.modulus=asn1_1.ASN1.parseIntegerStr(captures.privateKeyModulus.bytes),this.prime1=asn1_1.ASN1.parseIntegerStr(captures.privateKeyPrime1.bytes),this.prime2=asn1_1.ASN1.parseIntegerStr(captures.privateKeyPrime2.bytes),this.exponent1=asn1_1.ASN1.parseIntegerStr(captures.privateKeyExponent1.bytes),this.exponent2=asn1_1.ASN1.parseIntegerStr(captures.privateKeyExponent2.bytes),this.coefficient=asn1_1.ASN1.parseIntegerStr(captures.privateKeyCoefficient.bytes)}toASN1(){return this._pkcs1}toDER(){return this._keyRaw}toPEM(){return""===this._finalPEM&&(this._finalPEM=new asn1_1.PEM("RSA PRIVATE KEY",this._keyRaw).toString()),this._finalPEM}toPrivateKeyPEM(){return new asn1_1.PEM("PRIVATE KEY",this._pkcs8.DER).toString()}toJSON(){return{version:this.version,oid:this.oid,algo:this.algo,publicExponent:this.publicExponent,privateExponent:trimLeadingZeroByte(this.privateExponent),modulus:trimLeadingZeroByte(this.modulus),prime1:trimLeadingZeroByte(this.prime1),prime2:trimLeadingZeroByte(this.prime2),exponent1:trimLeadingZeroByte(this.exponent1),exponent2:trimLeadingZeroByte(this.exponent2),coefficient:trimLeadingZeroByte(this.coefficient)}}[util_1.inspect.custom](_depth,options){return`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}function trimLeadingZeroByte(hex){return hex.length%8!=0&&hex.startsWith("00")?hex.slice(2):hex}exports.RSAPrivateKey=RSAPrivateKey,PublicKey.addVerifier(common_1.getOID("Ed25519"),function(data,signature){return tweetnacl_1.sign.detached.verify(data,signature,this.keyRaw)}),PrivateKey.addSigner(common_1.getOID("Ed25519"),function(data){var key=this.keyRaw;if(64!==key.length)throw new Error("Invalid signing key.");return Buffer.from(tweetnacl_1.sign.detached(data,key))})}.call(this)}.call(this,require("buffer").Buffer)},{"./common":18,"@fidm/asn1":16,buffer:93,crypto:130,tweetnacl:314,util:320}],21:[function(require,module,exports){!function(Buffer){!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const util_1=require("util"),crypto_1=require("crypto"),asn1_1=require("@fidm/asn1"),common_1=require("./common"),pki_1=require("./pki"),shortNames=Object.create(null);shortNames.CN=common_1.getOID("commonName"),shortNames.commonName="CN",shortNames.C=common_1.getOID("countryName"),shortNames.countryName="C",shortNames.L=common_1.getOID("localityName"),shortNames.localityName="L",shortNames.ST=common_1.getOID("stateOrProvinceName"),shortNames.stateOrProvinceName="ST",shortNames.O=common_1.getOID("organizationName"),shortNames.organizationName="O",shortNames.OU=common_1.getOID("organizationalUnitName"),shortNames.organizationalUnitName="OU",shortNames.E=common_1.getOID("emailAddress"),shortNames.emailAddress="E";const x509CertificateValidator={name:"Certificate",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,capture:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.NONE,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.INTEGER,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate.signature.algorithm",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OID,capture:"certinfoSignatureOID"},{name:"Certificate.TBSCertificate.signature.parameters",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OCTETSTRING,optional:!0,capture:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,capture:"certIssuer"},{name:"Certificate.TBSCertificate.validity",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate.validity.notBefore",class:asn1_1.Class.UNIVERSAL,tag:[asn1_1.Tag.UTCTIME,asn1_1.Tag.GENERALIZEDTIME],capture:"certValidityNotBefore"},{name:"Certificate.TBSCertificate.validity.notAfter",class:asn1_1.Class.UNIVERSAL,tag:[asn1_1.Tag.UTCTIME,asn1_1.Tag.GENERALIZEDTIME],capture:"certValidityNotAfter"}]},{name:"Certificate.TBSCertificate.subject",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,capture:"certSubject"},pki_1.publicKeyValidator,{name:"Certificate.TBSCertificate.issuerUniqueID",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.BOOLEAN,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.BITSTRING,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.INTEGER,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.BITSTRING,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.BITSTRING,capture:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"Certificate.signatureAlgorithm.algorithm",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OID,capture:"certSignatureOID"},{name:"Certificate.TBSCertificate.signature.parameters",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OCTETSTRING,optional:!0,capture:"certSignatureParams"}]},{name:"Certificate.signatureValue",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.BITSTRING,capture:"certSignature"}]};class DistinguishedName{constructor(){this.attributes=[],this.uniqueId=null}get commonName(){return this.getFieldValue("commonName")}get organizationName(){return this.getFieldValue("organizationName")}get organizationalUnitName(){return this.getFieldValue("organizationalUnitName")}get countryName(){return this.getFieldValue("countryName")}get localityName(){return this.getFieldValue("localityName")}get serialName(){return this.getFieldValue("serialName")}getHash(){const hasher=crypto_1.createHash("sha1");for(const attr of this.attributes)hasher.update(attr.oid),hasher.update(attr.value);return hasher.digest()}getField(key){for(const attr of this.attributes)if(key===attr.oid||key===attr.name||key===attr.shortName)return attr;return null}addField(attr){fillMissingFields([attr]),this.attributes.push(attr)}setAttrs(attrs){fillMissingFields(attrs),this.attributes=attrs}toJSON(){const obj={};for(const attr of this.attributes){var key=attr.shortName;"string"==typeof key&&""!==key&&(obj[key]=attr.value)}return obj.uniqueId=this.uniqueId,obj.attributes=this.attributes,obj}getFieldValue(val){val=this.getField(val);return null!=val?val.value:""}}exports.DistinguishedName=DistinguishedName;class Certificate{static fromPEMs(data){const certs=[];for(const pem of asn1_1.PEM.parse(data)){if("CERTIFICATE"!==pem.type&&"X509 CERTIFICATE"!==pem.type&&"TRUSTED CERTIFICATE"!==pem.type)throw new Error("Could not convert certificate from PEM: invalid type");if(pem.procType.includes("ENCRYPTED"))throw new Error("Could not convert certificate from PEM: PEM is encrypted.");var obj=asn1_1.ASN1.fromDER(pem.body);certs.push(new Certificate(obj))}if(0===certs.length)throw new Error("No Certificate");return certs}static fromPEM(data){return Certificate.fromPEMs(data)[0]}constructor(obj){var captures=Object.create(null),err=obj.validate(x509CertificateValidator,captures);if(null!=err)throw new Error("Cannot read X.509 certificate: "+err.message);if(this.raw=obj.DER,this.version=null==captures.certVersion?0:asn1_1.ASN1.parseIntegerNum(captures.certVersion.bytes)+1,this.serialNumber=asn1_1.ASN1.parseIntegerStr(captures.certSerialNumber.bytes),this.signatureOID=asn1_1.ASN1.parseOID(captures.certSignatureOID.bytes),this.signatureAlgorithm=common_1.getOIDName(this.signatureOID),this.infoSignatureOID=asn1_1.ASN1.parseOID(captures.certinfoSignatureOID.bytes),this.signature=asn1_1.ASN1.parseBitString(captures.certSignature.bytes).buf,this.validFrom=asn1_1.ASN1.parseTime(captures.certValidityNotBefore.tag,captures.certValidityNotBefore.bytes),this.validTo=asn1_1.ASN1.parseTime(captures.certValidityNotAfter.tag,captures.certValidityNotAfter.bytes),this.issuer=new DistinguishedName,this.issuer.setAttrs(RDNAttributesAsArray(captures.certIssuer)),null!=captures.certIssuerUniqueId&&(this.issuer.uniqueId=asn1_1.ASN1.parseBitString(captures.certIssuerUniqueId.bytes)),this.subject=new DistinguishedName,this.subject.setAttrs(RDNAttributesAsArray(captures.certSubject)),null!=captures.certSubjectUniqueId&&(this.subject.uniqueId=asn1_1.ASN1.parseBitString(captures.certSubjectUniqueId.bytes)),this.extensions=[],this.subjectKeyIdentifier="",this.authorityKeyIdentifier="",this.ocspServer="",this.issuingCertificateURL="",this.isCA=!1,this.maxPathLen=-1,this.basicConstraintsValid=!1,this.keyUsage=0,this.dnsNames=[],this.emailAddresses=[],this.ipAddresses=[],this.uris=[],null!=captures.certExtensions){this.extensions=function(exts){const res=[];for(const val of exts.mustCompound())for(const ext of val.mustCompound())res.push(function(ext){const e={};e.oid=asn1_1.ASN1.parseOID(ext.value[0].bytes),e.critical=!1,ext.value[1].tag===asn1_1.Tag.BOOLEAN?(e.critical=asn1_1.ASN1.parseBool(ext.value[1].bytes),e.value=ext.value[2].bytes):e.value=ext.value[1].bytes;switch(e.name=common_1.getOIDName(e.oid),e.name){case"keyUsage":!function(e){const ev=asn1_1.ASN1.parseBitString(asn1_1.ASN1.fromDER(e.value).bytes);let b2=0,b3=0;for(let i=e.keyUsage=0;i<9;i++)0!==ev.at(i)&&(e.keyUsage|=1<<i);0<ev.buf.length&&(b2=ev.buf[0],b3=1<ev.buf.length?ev.buf[1]:0);e.digitalSignature=128==(128&b2),e.nonRepudiation=64==(64&b2),e.keyEncipherment=32==(32&b2),e.dataEncipherment=16==(16&b2),e.keyAgreement=8==(8&b2),e.keyCertSign=4==(4&b2),e.cRLSign=2==(2&b2),e.encipherOnly=1==(1&b2),e.decipherOnly=128==(128&b3)}(e);break;case"basicConstraints":!function(e){const ev=asn1_1.ASN1.fromDER(e.value),vals=ev.mustCompound();0<vals.length&&vals[0].tag===asn1_1.Tag.BOOLEAN?e.isCA=asn1_1.ASN1.parseBool(vals[0].bytes):e.isCA=!1;let value=null;0<vals.length&&vals[0].tag===asn1_1.Tag.INTEGER?value=vals[0].bytes:1<vals.length&&(value=vals[1].bytes);null!==value?e.maxPathLen=asn1_1.ASN1.parseInteger(value):e.maxPathLen=-1;e.basicConstraintsValid=!0}(e);break;case"extKeyUsage":!function(e){const ev=asn1_1.ASN1.fromDER(e.value),vals=ev.mustCompound();for(const val of vals)e[common_1.getOIDName(asn1_1.ASN1.parseOID(val.bytes))]=!0}(e);break;case"nsCertType":!function(e){var ev=asn1_1.ASN1.parseBitString(asn1_1.ASN1.fromDER(e.value).bytes);let b2=0;0<ev.buf.length&&(b2=ev.buf[0]);e.client=128==(128&b2),e.server=64==(64&b2),e.email=32==(32&b2),e.objsign=16==(16&b2),e.reserved=8==(8&b2),e.sslCA=4==(4&b2),e.emailCA=2==(2&b2),e.objCA=1==(1&b2)}(e);break;case"subjectAltName":case"issuerAltName":decodeExtAltName(e);break;case"subjectKeyIdentifier":!function(e){const captures=asn1_1.ASN1.parseDERWithTemplate(e.value,subjectKeyIdentifierValidator);e.subjectKeyIdentifier=captures.subjectKeyIdentifier.bytes.toString("hex")}(e);break;case"authorityKeyIdentifier":!function(e){const captures=asn1_1.ASN1.parseDERWithTemplate(e.value,authorityKeyIdentifierValidator);e.authorityKeyIdentifier=captures.authorityKeyIdentifier.bytes.toString("hex")}(e);break;case"authorityInfoAccess":!function(e){const captures=asn1_1.ASN1.parseDERWithTemplate(e.value,authorityInfoAccessValidator);null!=captures.authorityInfoAccessOcsp&&(e.authorityInfoAccessOcsp=captures.authorityInfoAccessOcsp.bytes.toString());null!=captures.authorityInfoAccessIssuers&&(e.authorityInfoAccessIssuers=captures.authorityInfoAccessIssuers.bytes.toString())}(e)}return e}(ext));return res}(captures.certExtensions);for(const ext of this.extensions)if("string"==typeof ext.subjectKeyIdentifier&&(this.subjectKeyIdentifier=ext.subjectKeyIdentifier),"string"==typeof ext.authorityKeyIdentifier&&(this.authorityKeyIdentifier=ext.authorityKeyIdentifier),"string"==typeof ext.authorityInfoAccessOcsp&&(this.ocspServer=ext.authorityInfoAccessOcsp),"string"==typeof ext.authorityInfoAccessIssuers&&(this.issuingCertificateURL=ext.authorityInfoAccessIssuers),"boolean"==typeof ext.basicConstraintsValid&&(this.isCA=ext.isCA,this.maxPathLen=ext.maxPathLen,this.basicConstraintsValid=ext.basicConstraintsValid),"number"==typeof ext.keyUsage&&(this.keyUsage=ext.keyUsage),Array.isArray(ext.altNames))for(const item of ext.altNames)null!=item.dnsName&&this.dnsNames.push(item.dnsName),null!=item.email&&this.emailAddresses.push(item.email),null!=item.ip&&this.ipAddresses.push(item.ip),null!=item.uri&&this.uris.push(item.uri)}this.publicKey=new pki_1.PublicKey(captures.publicKeyInfo),this.publicKeyRaw=this.publicKey.toDER(),this.tbsCertificate=captures.tbsCertificate}getExtension(name,key=""){for(const ext of this.extensions)if(name===ext.oid||name===ext.name)return""===key?ext:ext[key];return null}checkSignature(child){if(3===this.version&&!this.basicConstraintsValid||this.basicConstraintsValid&&!this.isCA)return new Error("The parent constraint violation error");if(!0!==this.getExtension("keyUsage","keyCertSign"))return new Error("The parent constraint violation error");if(!child.isIssuer(this))return new Error("The parent certificate did not issue the given child certificate");var agl=function(oid){switch(common_1.getOIDName(oid)){case"sha1WithRsaEncryption":return"sha1";case"md5WithRsaEncryption":return"md5";case"sha256WithRsaEncryption":return"sha256";case"sha384WithRsaEncryption":return"sha384";case"sha512WithRsaEncryption":return"sha512";case"RSASSA-PSS":return"sha256";case"ecdsaWithSha1":return"sha1";case"ecdsaWithSha256":return"sha256";case"ecdsaWithSha384":return"sha384";case"ecdsaWithSha512":return"sha512";case"dsaWithSha1":return"sha1";case"dsaWithSha256":return"sha256";default:return""}}(child.signatureOID);return""===agl?new Error("Unknown child signature OID."):!1===this.publicKey.verify(child.tbsCertificate.DER,child.signature,agl)?new Error("Child signature not matched"):null}isIssuer(parent){return this.issuer.getHash().equals(parent.subject.getHash())}verifySubjectKeyIdentifier(){const ski=this.publicKey.getFingerprint("sha1","PublicKey");return ski.toString("hex")===this.subjectKeyIdentifier}toJSON(){const obj={};for(const key of Object.keys(this))obj[key]=null==(val=this[key])||val instanceof Buffer||"function"!=typeof val.toJSON?val:val.toJSON();var val;return delete obj.tbsCertificate,obj}[util_1.inspect.custom](_depth,options){return options.depth<=2&&(options.depth=10),`<${this.constructor.name} ${util_1.inspect(this.toJSON(),options)}>`}}function decodeExtAltName(e){e.altNames=[];const ev=asn1_1.ASN1.fromDER(e.value);for(const gn of ev.mustCompound()){const item={tag:gn.tag,value:gn.bytes};switch(e.altNames.push(item),gn.tag){case 1:item.email=gn.bytes.toString();break;case 2:item.dnsName=gn.bytes.toString();break;case 6:item.uri=gn.bytes.toString();break;case 7:item.ip=common_1.bytesToIP(gn.bytes);break;case 8:item.oid=asn1_1.ASN1.parseOID(gn.bytes)}}}exports.Certificate=Certificate;const subjectKeyIdentifierValidator={name:"subjectKeyIdentifier",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OCTETSTRING,capture:"subjectKeyIdentifier"};const authorityKeyIdentifierValidator={name:"authorityKeyIdentifier",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"authorityKeyIdentifier.value",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.NONE,capture:"authorityKeyIdentifier"}]};const authorityInfoAccessValidator={name:"authorityInfoAccess",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,value:[{name:"authorityInfoAccess.authorityInfoAccessOcsp",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,optional:!0,value:[{name:"authorityInfoAccess.authorityInfoAccessOcsp.oid",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OID},{name:"authorityInfoAccess.authorityInfoAccessOcsp.value",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.OID,capture:"authorityInfoAccessOcsp"}]},{name:"authorityInfoAccess.authorityInfoAccessIssuers",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.SEQUENCE,optional:!0,value:[{name:"authorityInfoAccess.authorityInfoAccessIssuers.oid",class:asn1_1.Class.UNIVERSAL,tag:asn1_1.Tag.OID},{name:"authorityInfoAccess.authorityInfoAccessIssuers.value",class:asn1_1.Class.CONTEXT_SPECIFIC,tag:asn1_1.Tag.OID,capture:"authorityInfoAccessIssuers"}]}]};function fillMissingFields(attrs){for(const attr of attrs){if(null!=attr.name&&""!==attr.name||(null!=attr.oid&&(attr.name=common_1.getOIDName(attr.oid)),""===attr.name&&null!=attr.shortName&&(attr.name=common_1.getOIDName(shortNames[attr.shortName]))),null==attr.oid||""===attr.oid){if(""===attr.name)throw new Error("Attribute oid not specified.");attr.oid=common_1.getOID(attr.name)}if(null!=attr.shortName&&""!==attr.shortName||(attr.shortName=null==shortNames[attr.name]?"":shortNames[attr.name]),null==attr.value)throw new Error("Attribute value not specified.")}}function RDNAttributesAsArray(rdn){const rval=[];for(const set of rdn.mustCompound())for(const attr of set.mustCompound()){var name=attr.mustCompound();const obj={};obj.oid=asn1_1.ASN1.parseOID(name[0].bytes),obj.value=name[1].value,obj.valueTag=name[1].tag,obj.name=common_1.getOIDName(obj.oid),obj.shortName=(name=obj.name,null==shortNames[name]?"":shortNames[name]),rval.push(obj)}return rval}}.call(this)}.call(this,require("buffer").Buffer)},{"./common":18,"./pki":20,"@fidm/asn1":16,buffer:93,crypto:130,util:320}],22:[function(require,module,exports){!function(Buffer){!function(){"use strict";const crypto=require("crypto"),toAlg={16:"aes-128-cbc",32:"aes-256-cbc"},supportedLen={8:!0,16:!0},iv=Buffer.alloc(16,0);exports.create=function(key,msg,len){if(!Buffer.isBuffer(key))throw new Error("Key must be of type Buffer");if(!Buffer.isBuffer(msg))throw new Error("Msg must be of type Buffer");if(!supportedLen[len])throw new Error("Len must be 8 or 16");var algorithm=toAlg[key.length];if(!algorithm)throw new Error("Unsupported key length "+key.length);var tagStart=16-msg.length%16,tagStart=16==tagStart?Buffer.alloc(0,0):Buffer.alloc(tagStart,0),tagStart=Buffer.concat([msg,tagStart]);const cipher=crypto.createCipheriv(algorithm,key,iv),enc=cipher.update(tagStart);tagStart=enc.length-16;return enc.slice(tagStart,tagStart+len)}}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,crypto:130}],23:[function(require,module,exports){module.exports=require("./register")().Promise},{"./register":25}],24:[function(require,module,exports){"use strict";var registered=null;module.exports=function(root,loadImplementation){return function(implementation,opts){implementation=implementation||null;var registerGlobal=!1!==(opts=opts||{}).global;if(null!==(registered=null===registered&&registerGlobal?root["@@any-promise/REGISTRATION"]||null:registered)&&null!==implementation&&registered.implementation!==implementation)throw new Error('any-promise already defined as "'+registered.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===registered&&(registered=null!==implementation&&void 0!==opts.Promise?{Promise:opts.Promise,implementation:implementation}:loadImplementation(implementation),registerGlobal&&(root["@@any-promise/REGISTRATION"]=registered)),registered}}},{}],25:[function(require,module,exports){"use strict";module.exports=require("./loader")(window,function(){if(void 0!==window.Promise)return{Promise:window.Promise,implementation:"window.Promise"};throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')")})},{"./loader":24}],26:[function(require,module,exports){"use strict";const asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders")},{"./asn1/api":27,"./asn1/base":29,"./asn1/constants":33,"./asn1/decoders":35,"./asn1/encoders":38,"bn.js":40}],27:[function(require,module,exports){"use strict";const encoders=require("./encoders"),decoders=require("./decoders"),inherits=require("inherits"),api=exports;function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}api.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(Base){const name=this.name;function Generated(entity){this._initNamed(entity,name)}return inherits(Generated,Base),Generated.prototype._initNamed=function(entity,name){Base.call(this,entity,name)},new Generated(this)},Entity.prototype._getDecoder=function(enc){return this.decoders.hasOwnProperty(enc=enc||"der")||(this.decoders[enc]=this._createNamed(decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return this.encoders.hasOwnProperty(enc=enc||"der")||(this.encoders[enc]=this._createNamed(encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"./decoders":35,"./encoders":38,inherits:201}],28:[function(require,module,exports){"use strict";const inherits=require("inherits"),Reporter=require("../base/reporter").Reporter,Buffer=require("safer-buffer").Buffer;function DecoderBuffer(base,options){Reporter.call(this,options),Buffer.isBuffer(base)?(this.base=base,this.offset=0,this.length=base.length):this.error("Input not Buffer")}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return EncoderBuffer.isEncoderBuffer(item)||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+typeof value);this.value=value,this.length=value.length}}inherits(DecoderBuffer,Reporter),(exports.DecoderBuffer=DecoderBuffer).isDecoderBuffer=function(data){return data instanceof DecoderBuffer||"object"==typeof data&&Buffer.isBuffer(data.base)&&"DecoderBuffer"===data.constructor.name&&"number"==typeof data.offset&&"number"==typeof data.length&&"function"==typeof data.save&&"function"==typeof data.restore&&"function"==typeof data.isEmpty&&"function"==typeof data.readUInt8&&"function"==typeof data.skip&&"function"==typeof data.raw},DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(save){const res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,Reporter.prototype.restore.call(this,save.reporter),res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");const res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice((save||this).offset,this.length)},(exports.EncoderBuffer=EncoderBuffer).isEncoderBuffer=function(data){return data instanceof EncoderBuffer||"object"==typeof data&&"EncoderBuffer"===data.constructor.name&&"number"==typeof data.length&&"function"==typeof data.join},EncoderBuffer.prototype.join=function(out,offset){return out=out||Buffer.alloc(this.length),offset=offset||0,0===this.length||(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length)),out}},{"../base/reporter":31,inherits:201,"safer-buffer":289}],29:[function(require,module,exports){"use strict";const base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node")},{"./buffer":28,"./node":30,"./reporter":31}],30:[function(require,module,exports){"use strict";const Reporter=require("../base/reporter").Reporter,EncoderBuffer=require("../base/buffer").EncoderBuffer,DecoderBuffer=require("../base/buffer").DecoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags);function Node(enc,parent,name){const state={};this._baseState=state,state.name=name,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state.default=null,state.explicit=null,state.implicit=null,state.contains=null,state.parent||(state.children=[],this._wrap())}module.exports=Node;const stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){const state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});const res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){const state=this._baseState;methods.forEach(function(method){this[method]=function(){const clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){const state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){const state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!=typeof arg||arg.constructor!==Object)return arg;const res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){const state=this._baseState;var args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){assert(item);const state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){const state=this._baseState;return state.optional=!0,this},Node.prototype.def=function(val){const state=this._baseState;return assert(null===state.default),state.default=val,state.optional=!0,this},Node.prototype.explicit=function(num){const state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){const state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){const state=this._baseState;var args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){const state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){const state=this._baseState;return state.any=!0,this},Node.prototype.choice=function(obj){const state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype.contains=function(item){const state=this._baseState;return assert(null===state.use),state.contains=item,this},Node.prototype._decode=function(input,options){const state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input,options));let result=state.default,present=!0,prevKey=null;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional){let tag=null;if(null!==state.explicit?tag=state.explicit:null!==state.implicit?tag=state.implicit:null!==state.tag&&(tag=state.tag),null!==tag||state.any){if(present=this._peekTag(input,tag,state.any),input.isError(present))return present}else{var data=input.save();try{null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),present=!0}catch(e){present=!1}input.restore(data)}}let prevObj;if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var body=this._decodeTag(input,state.explicit);if(input.isError(body))return body;input=body}data=input.offset;if(null===state.use&&null===state.choice){let save;state.any&&(save=input.save());body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(options&&options.track&&null!==state.tag&&options.track(input.path(),data,input.length,"tagged"),options&&options.track&&null!==state.tag&&options.track(input.path(),input.offset,input.length,"content"),state.any||(result=null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options)),input.isError(result))return result;state.any||null!==state.choice||null===state.children||state.children.forEach(function(child){child._decode(input,options)}),!state.contains||"octstr"!==state.tag&&"bitstr"!==state.tag||(data=new DecoderBuffer(result),result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options))}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&!0!==present?null!==prevKey&&input.exitKey(prevKey):input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input,options){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0],options):/str$/.test(tag)?this._decodeStr(input,tag,options):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1],options):"objid"===tag?this._decodeObjid(input,null,null,options):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag,options):"null_"===tag?this._decodeNull(input,options):"bool"===tag?this._decodeBool(input,options):"objDesc"===tag?this._decodeStr(input,tag,options):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0],options):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input,options):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){const state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input,options){const state=this._baseState;let result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save();const node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(result,reporter,parent){var state=this._baseState;if(null===state.default||state.default!==result){result=this._encodeValue(result,reporter,parent);if(void 0!==result&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,cls){const state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);let result=null;if(this.reporter=reporter,state.optional&&void 0===data){if(null===state.default)return;data=state.default}let content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.contains)content=this._getUse(state.contains,cls)._encode(data,reporter),primitive=!0;else if(state.children)content=state.children.map(function(res){if("null_"===res._baseState.tag)return res._encode(null,reporter,data);if(null===res._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(res._baseState.key);if("object"!=typeof data)return reporter.error("Child expected, but input is not object");res=res._encode(data[res._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");const child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,cls)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);var tag;return state.any||null!==state.choice||(tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context",null===tag?null===state.use&&reporter.error("Tag could be omitted only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))),null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState;const node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);if("objDesc"===tag)return this._encodeStr(data,tag);throw new Error("Unsupported tag: "+tag)},Node.prototype._isNumstr=function(str){return/^[0-9 ]*$/.test(str)},Node.prototype._isPrintstr=function(str){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(str)}},{"../base/buffer":28,"../base/reporter":31,"minimalistic-assert":211}],31:[function(require,module,exports){"use strict";const inherits=require("inherits");function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}(exports.Reporter=Reporter).prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.save=function(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}},Reporter.prototype.restore=function(data){const state=this._reporterState;state.obj=data.obj,state.path=state.path.slice(0,data.pathLen)},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.exitKey=function(index){const state=this._reporterState;state.path=state.path.slice(0,index-1)},Reporter.prototype.leaveKey=function(index,key,value){const state=this._reporterState;this.exitKey(index),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){const state=this._reporterState;var prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){const state=this._reporterState;var now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){let err;const state=this._reporterState;var inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){if(this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:201}],32:[function(require,module,exports){"use strict";function reverse(map){const res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key|=0);var value=map[key];res[value]=key}),res}exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=reverse(exports.tag)},{}],33:[function(require,module,exports){"use strict";const constants=exports;constants._reverse=function(map){const res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key|=0);var value=map[key];res[value]=key}),res},constants.der=require("./der")},{"./der":32}],34:[function(require,module,exports){"use strict";const inherits=require("inherits"),bignum=require("bn.js"),DecoderBuffer=require("../base/buffer").DecoderBuffer,Node=require("../base/node"),der=require("../constants/der");function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){Node.call(this,"der",parent)}function derDecodeTag(buf,fail){let tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0==(32&tag);if(31==(31&tag)){let oct=tag;for(tag=0;128==(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){let len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0==(128&len))return len;var num=127&len;if(4<num)return buf.error("length octect is too long");for(let i=len=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}(module.exports=DERDecoder).prototype.decode=function(data,options){return DecoderBuffer.isDecoderBuffer(data)||(data=new DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,Node),DERNode.prototype._peekTag=function(buffer,tag,any){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any)},DERNode.prototype._decodeTag=function(buffer,tag,state){var res=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(res))return res;let len=derDecodeLen(buffer,res.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!state&&res.tag!==tag&&res.tagStr!==tag&&res.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(res.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');state=buffer.save(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:(len=buffer.offset-state.offset,buffer.restore(state),buffer.skip(len,'Failed to match body of: "'+tag+'"'))},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;let res;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder,options){const result=[];for(;!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,printstr){if("bitstr"===printstr){var numstr=buffer.readUInt8();return buffer.isError(numstr)?numstr:{unused:numstr,data:buffer.raw()}}if("bmpstr"===printstr){const raw=buffer.raw();if(raw.length%2==1)return buffer.error("Decoding of string type: bmpstr length mismatch");let str="";for(let i=0;i<raw.length/2;i++)str+=String.fromCharCode(raw.readUInt16BE(2*i));return str}if("numstr"===printstr){numstr=buffer.raw().toString("ascii");return this._isNumstr(numstr)?numstr:buffer.error("Decoding of string type: numstr unsupported characters")}if("octstr"===printstr)return buffer.raw();if("objDesc"===printstr)return buffer.raw();if("printstr"!==printstr)return/str$/.test(printstr)?buffer.raw().toString():buffer.error("Decoding of string type: "+printstr+" unsupported");printstr=buffer.raw().toString("ascii");return this._isPrintstr(printstr)?printstr:buffer.error("Decoding of string type: printstr unsupported characters")},DERNode.prototype._decodeObjid=function(buffer,values,relative){let result;const identifiers=[];let ident=0,subident=0;for(;!buffer.isEmpty();)subident=buffer.readUInt8(),ident<<=7,ident|=127&subident,0==(128&subident)&&(identifiers.push(ident),ident=0);128&subident&&identifiers.push(ident);const first=identifiers[0]/40|0,second=identifiers[0]%40;if(result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values){let tmp=values[result.join(" ")];void 0===tmp&&(tmp=values[result.join(".")]),void 0!==tmp&&(result=tmp)}return result},DERNode.prototype._decodeTime=function(buffer,tag){const str=buffer.raw().toString();let year,mon,day,hour,min,sec;if("gentime"===tag)year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return buffer.error("Decoding "+tag+" time is not supported yet");year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12),year=year<70?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(raw,values){raw=raw.raw();let res=new bignum(raw);return values&&(res=values[res.toString(10)]||res),res},DERNode.prototype._use=function(entity,obj){return(entity="function"==typeof entity?entity(obj):entity)._getDecoder("der").tree}},{"../base/buffer":28,"../base/node":30,"../constants/der":32,"bn.js":40,inherits:201}],35:[function(require,module,exports){"use strict";const decoders=exports;decoders.der=require("./der"),decoders.pem=require("./pem")},{"./der":34,"./pem":36}],36:[function(require,module,exports){"use strict";const inherits=require("inherits"),Buffer=require("safer-buffer").Buffer,DERDecoder=require("./der");function PEMDecoder(entity){DERDecoder.call(this,entity),this.enc="pem"}inherits(PEMDecoder,DERDecoder),(module.exports=PEMDecoder).prototype.decode=function(input,options){const lines=input.toString().split(/[\r\n]+/g);var label=options.label.toUpperCase(),re=/^-----(BEGIN|END) ([^-]+)-----$/;let start=-1,end=-1;for(let i=0;i<lines.length;i++){var match=lines[i].match(re);if(null!==match&&match[2]===label){if(-1!==start){if("END"!==match[1])break;end=i;break}if("BEGIN"!==match[1])break;start=i}}if(-1===start||-1===end)throw new Error("PEM section not found for: "+label);const base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9+/=]+/gi,"");input=Buffer.from(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"./der":34,inherits:201,"safer-buffer":289}],37:[function(require,module,exports){"use strict";const inherits=require("inherits"),Buffer=require("safer-buffer").Buffer,Node=require("../base/node"),der=require("../constants/der");function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){Node.call(this,"der",parent)}function two(num){return num<10?"0"+num:num}(module.exports=DEREncoder).prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,Node),DERNode.prototype._encodeComposite=function(tag,primitive,encodedTag,content){encodedTag=function(tag,primitive,cls,reporter){let res;"seqof"===tag?tag="seq":"setof"===tag&&(tag="set");if(der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}if(31<=res)return reporter.error("Multi-octet tag encoding unsupported");primitive||(res|=32);return res|=der.tagClassByName[cls||"universal"]<<6,res}(tag,primitive,encodedTag,this.reporter);if(content.length<128){const header=Buffer.alloc(2);return header[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content])}let lenOctets=1;for(let i=content.length;256<=i;i>>=8)lenOctets++;const header=Buffer.alloc(2+lenOctets);header[0]=encodedTag,header[1]=128|lenOctets;for(let i=1+lenOctets,j=content.length;0<j;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){if("bitstr"===tag)return this._createEncoderBuffer([0|str.unused,str.data]);if("bmpstr"!==tag)return"numstr"===tag?this._isNumstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===tag?this._isPrintstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(tag)||"objDesc"===tag?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported");{const buf=Buffer.alloc(2*str.length);for(let i=0;i<str.length;i++)buf.writeUInt16BE(str.charCodeAt(i),2*i);return this._createEncoderBuffer(buf)}},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s.]+/g);for(let i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(let i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(40<=id[1])return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}let size=0;for(let i=0;i<id.length;i++){let ident=id[i];for(size++;128<=ident;ident>>=7)size++}const objid=Buffer.alloc(size);let offset=objid.length-1;for(let i=id.length-1;0<=i;i--){let ident=id[i];for(objid[offset--]=127&ident;0<(ident>>=7);)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){let str;const date=new Date(time);return"gentime"===tag?str=[two(date.getUTCFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[two(date.getUTCFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if("number"!=typeof num&&!Buffer.isBuffer(num)){const numArray=num.toArray();!num.sign&&128&numArray[0]&&numArray.unshift(0),num=Buffer.from(numArray)}if(Buffer.isBuffer(num)){let size=num.length;0===num.length&&size++;const out=Buffer.alloc(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);let size=1;for(let i=num;256<=i;i>>=8)size++;const out=new Array(size);for(let i=out.length-1;0<=i;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(Buffer.from(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return(entity="function"==typeof entity?entity(obj):entity)._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){const state=this._baseState;let i;if(null===state.default)return!1;var data=dataBuffer.join();if(void 0===state.defaultBuffer&&(state.defaultBuffer=this._encodeValue(state.default,reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},{"../base/node":30,"../constants/der":32,inherits:201,"safer-buffer":289}],38:[function(require,module,exports){"use strict";const encoders=exports;encoders.der=require("./der"),encoders.pem=require("./pem")},{"./der":37,"./pem":39}],39:[function(require,module,exports){"use strict";const inherits=require("inherits"),DEREncoder=require("./der");function PEMEncoder(entity){DEREncoder.call(this,entity),this.enc="pem"}inherits(PEMEncoder,DEREncoder),(module.exports=PEMEncoder).prototype.encode=function(data,options){const buf=DEREncoder.prototype.encode.call(this,data),p=buf.toString("base64"),out=["-----BEGIN "+options.label+"-----"];for(let i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));return out.push("-----END "+options.label+"-----"),out.join("\n")}},{"./der":37,inherits:201}],40:[function(require,module,exports){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;function TempCtor(){}TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number))return number;this.negative=0,this.words=null,this.length=0,(this.red=null)!==number&&("le"!==base&&"be"!==base||(endian=base,base=10),this._init(number||0,base||10,endian||"be"))}var Buffer;"object"==typeof module?module.exports=BN:exports.BN=BN,(BN.BN=BN).wordSize=26;try{Buffer=("undefined"!=typeof window&&void 0!==window.Buffer?window:require("buffer")).Buffer}catch(e){}function parseHex4Bits(string,c){c=string.charCodeAt(c);return 65<=c&&c<=70?c-55:97<=c&&c<=102?c-87:c-48&15}function parseHexByte(string,lowerBound,index){var r=parseHex4Bits(string,index);return lowerBound<=index-1&&(r|=parseHex4Bits(string,index-1)<<4),r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=49<=c?c-49+10:17<=c?c-17+10:c}return r}BN.isBN=function(num){return num instanceof BN||null!==num&&"object"==typeof num&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return 0<left.cmp(right)?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);assert((base="hex"===base?16:base)===(0|base)&&2<=base&&base<=36);var start=0;"-"===(number=number.toString().replace(/\s+/g,""))[0]&&(start++,this.negative=1),start<number.length&&(16===base?this._parseHex(number,start,endian):(this._parseBase(number,base,start),"le"===endian&&this._initArray(this.toArray(),base,endian)))},BN.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var j,w,i=0;i<this.length;i++)this.words[i]=0;var off=0;if("be"===endian)for(i=number.length-1,j=0;0<=i;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,26<=(off+=24)&&(off-=26,j++);else if("le"===endian)for(j=i=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,26<=(off+=24)&&(off-=26,j++);return this.strip()},BN.prototype._parseHex=function(number,start,endian){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var w,off=0,j=0;if("be"===endian)for(i=number.length-1;start<=i;i-=2)w=parseHexByte(number,start,i)<<off,this.words[j]|=67108863&w,18<=off?(off-=18,this.words[j+=1]|=w>>>26):off+=8;else for(i=(number.length-start)%2==0?start+1:start;i<number.length;i+=2)w=parseHexByte(number,start,i)<<off,this.words[j]|=67108863&w,18<=off?(off-=18,this.words[j+=1]|=w>>>26):off+=8;this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0];for(var limbLen=0,limbPow=this.length=1;limbPow<=67108863;limbPow*=base)limbLen++;for(var limbPow=limbPow/base|0,total=number.length-start,mod=total%--limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!=mod){for(var pow=1,word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}this.strip()},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0,len=(out.length=len)-1|0,carry=(r=(0|self.words[0])*(0|num.words[0]))/67108864|0;out.words[0]=67108863&r;for(var k=1;k<len;k++){for(var r,ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++)ncarry+=(r=(0|self.words[k-j|0])*(0|num.words[j])+rword)/67108864|0,rword=67108863&r;out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out.strip()}BN.prototype.toString=function(base,padding){if(padding=0|padding||1,16===(base=base||10)||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16),out=0!==(carry=w>>>24-off&16777215)||i!==this.length-1?zeros[6-word.length]+word+out:word+out;26<=(off+=2)&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!=0;)out="0"+out;return out=0!==this.negative?"-"+out:out}if(base===(0|base)&&2<=base&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];for(out="",(c=this.clone()).negative=0;!c.isZero();){var c,r=c.modn(groupBase).toString(base);out=(c=c.idivn(groupBase)).isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!=0;)out="0"+out;return out=0!==this.negative?"-"+out:out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:2<this.length&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(endian,length){return assert(void 0!==Buffer),this.toArrayLike(Buffer,endian,length)},BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN.prototype.toArrayLike=function(ArrayType,littleEndian,length){var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length"),assert(0<reqLength,"Requested array length <= 0"),this.strip();var b,i,littleEndian="le"===littleEndian,res=new ArrayType(reqLength),q=this.clone();if(littleEndian){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[i]=b;for(;i<reqLength;i++)res[i]=0}else{for(i=0;i<reqLength-byteLength;i++)res[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[reqLength-i-1]=b}return res},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(r){var t=r,r=0;return 4096<=t&&(r+=13,t>>>=13),64<=t&&(r+=7,t>>>=7),8<=t&&(r+=4,t>>>=4),2<=t&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(r){if(0===r)return 26;var t=r,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},BN.prototype.bitLength=function(){var hi=this.words[this.length-1],hi=this._countBits(hi);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.ior=function(num){return assert(0==(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){for(var b=this.length>num.length?num:this,i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.iand=function(num){return assert(0==(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){for(var a,b=this.length>num.length?(a=this,num):(a=num,this),i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.ixor=function(num){return assert(0==(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(bitsLeft){assert("number"==typeof bitsLeft&&0<=bitsLeft);var bytesNeeded=0|Math.ceil(bitsLeft/26),bitsLeft=bitsLeft%26;this._expand(bytesNeeded),0<bitsLeft&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return 0<bitsLeft&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this.strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(wbit,val){assert("number"==typeof wbit&&0<=wbit);var off=wbit/26|0,wbit=wbit%26;return this._expand(1+off),this.words[off]=val?this.words[off]|1<<wbit:this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){var r,a;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();for(var b=this.length>num.length?(a=this,num):(a=num,this),carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var a,cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;for(var b=0<cmp?(a=this,num):(a=num,this),carry=0,i=0;i<b.length;i++)carry=(r=(0|a.words[i])-(0|b.words[i])+carry)>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)carry=(r=(0|a.words[i])+carry)>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(w7,w8,out){var w6=w7.words,w5=w8.words,o=out.words,w2=0|w6[0],w9=8191&w2,ah0=w2>>>13,bl6=0|w6[1],w10=8191&bl6,ah1=bl6>>>13,bh6=0|w6[2],w11=8191&bh6,ah2=bh6>>>13,w3=0|w6[3],w12=8191&w3,ah3=w3>>>13,bl7=0|w6[4],w13=8191&bl7,ah4=bl7>>>13,bh7=0|w6[5],w14=8191&bh7,ah5=bh7>>>13,w4=0|w6[6],w15=8191&w4,ah6=w4>>>13,bl8=0|w6[7],w16=8191&bl8,ah7=bl8>>>13,bh8=0|w6[8],w17=8191&bh8,ah8=bh8>>>13,w18=0|w6[9],al9=8191&w18,ah9=w18>>>13,bh9=0|w5[0],bl0=8191&bh9,bh0=bh9>>>13,lo=0|w5[1],bl1=8191&lo,bh1=lo>>>13,mid=0|w5[2],bl2=8191&mid,bh2=mid>>>13,w0=0|w5[3],bl3=8191&w0,bh3=w0>>>13,hi=0|w5[4],bl4=8191&hi,bh4=hi>>>13,w1=0|w5[5],bl5=8191&w1,bh5=w1>>>13,w2=0|w5[6],bl6=8191&w2,bh6=w2>>>13,w3=0|w5[7],bl7=8191&w3,bh7=w3>>>13,w4=0|w5[8],bl8=8191&w4,bh8=w4>>>13,w6=0|w5[9],w18=8191&w6,bh9=w6>>>13;out.negative=w7.negative^w8.negative,out.length=19;var w0=(0+Math.imul(w9,bl0)|0)+((8191&(mid=(mid=Math.imul(w9,bh0))+Math.imul(ah0,bl0)|0))<<13)|0,c=((hi=Math.imul(ah0,bh0))+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863,lo=Math.imul(w10,bl0),mid=(mid=Math.imul(w10,bh0))+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0);w1=(c+(lo+Math.imul(w9,bl1)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh1)|0)+Math.imul(ah0,bl1)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh1)|0)+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(w11,bl0),mid=(mid=Math.imul(w11,bh0))+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(w10,bl1)|0,mid=(mid=mid+Math.imul(w10,bh1)|0)+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0;w2=(c+(lo+Math.imul(w9,bl2)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh2)|0)+Math.imul(ah0,bl2)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh2)|0)+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(w12,bl0),mid=(mid=Math.imul(w12,bh0))+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(w11,bl1)|0,mid=(mid=mid+Math.imul(w11,bh1)|0)+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(w10,bl2)|0,mid=(mid=mid+Math.imul(w10,bh2)|0)+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0;w3=(c+(lo+Math.imul(w9,bl3)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh3)|0)+Math.imul(ah0,bl3)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh3)|0)+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(w13,bl0),mid=(mid=Math.imul(w13,bh0))+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(w12,bl1)|0,mid=(mid=mid+Math.imul(w12,bh1)|0)+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(w11,bl2)|0,mid=(mid=mid+Math.imul(w11,bh2)|0)+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(w10,bl3)|0,mid=(mid=mid+Math.imul(w10,bh3)|0)+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0;w4=(c+(lo+Math.imul(w9,bl4)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh4)|0)+Math.imul(ah0,bl4)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh4)|0)+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(w14,bl0),mid=(mid=Math.imul(w14,bh0))+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(w13,bl1)|0,mid=(mid=mid+Math.imul(w13,bh1)|0)+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(w12,bl2)|0,mid=(mid=mid+Math.imul(w12,bh2)|0)+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(w11,bl3)|0,mid=(mid=mid+Math.imul(w11,bh3)|0)+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(w10,bl4)|0,mid=(mid=mid+Math.imul(w10,bh4)|0)+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0;w5=(c+(lo+Math.imul(w9,bl5)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh5)|0)+Math.imul(ah0,bl5)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh5)|0)+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(w15,bl0),mid=(mid=Math.imul(w15,bh0))+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(w14,bl1)|0,mid=(mid=mid+Math.imul(w14,bh1)|0)+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(w13,bl2)|0,mid=(mid=mid+Math.imul(w13,bh2)|0)+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(w12,bl3)|0,mid=(mid=mid+Math.imul(w12,bh3)|0)+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(w11,bl4)|0,mid=(mid=mid+Math.imul(w11,bh4)|0)+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(w10,bl5)|0,mid=(mid=mid+Math.imul(w10,bh5)|0)+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0;w6=(c+(lo+Math.imul(w9,bl6)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh6)|0)+Math.imul(ah0,bl6)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh6)|0)+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(w16,bl0),mid=(mid=Math.imul(w16,bh0))+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(w15,bl1)|0,mid=(mid=mid+Math.imul(w15,bh1)|0)+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(w14,bl2)|0,mid=(mid=mid+Math.imul(w14,bh2)|0)+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(w13,bl3)|0,mid=(mid=mid+Math.imul(w13,bh3)|0)+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(w12,bl4)|0,mid=(mid=mid+Math.imul(w12,bh4)|0)+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(w11,bl5)|0,mid=(mid=mid+Math.imul(w11,bh5)|0)+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(w10,bl6)|0,mid=(mid=mid+Math.imul(w10,bh6)|0)+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0;w7=(c+(lo+Math.imul(w9,bl7)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh7)|0)+Math.imul(ah0,bl7)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh7)|0)+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(w17,bl0),mid=(mid=Math.imul(w17,bh0))+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(w16,bl1)|0,mid=(mid=mid+Math.imul(w16,bh1)|0)+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(w15,bl2)|0,mid=(mid=mid+Math.imul(w15,bh2)|0)+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(w14,bl3)|0,mid=(mid=mid+Math.imul(w14,bh3)|0)+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(w13,bl4)|0,mid=(mid=mid+Math.imul(w13,bh4)|0)+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(w12,bl5)|0,mid=(mid=mid+Math.imul(w12,bh5)|0)+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(w11,bl6)|0,mid=(mid=mid+Math.imul(w11,bh6)|0)+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(w10,bl7)|0,mid=(mid=mid+Math.imul(w10,bh7)|0)+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0;w8=(c+(lo+Math.imul(w9,bl8)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh8)|0)+Math.imul(ah0,bl8)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh8)|0)+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=(mid=Math.imul(al9,bh0))+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(w17,bl1)|0,mid=(mid=mid+Math.imul(w17,bh1)|0)+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(w16,bl2)|0,mid=(mid=mid+Math.imul(w16,bh2)|0)+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(w15,bl3)|0,mid=(mid=mid+Math.imul(w15,bh3)|0)+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(w14,bl4)|0,mid=(mid=mid+Math.imul(w14,bh4)|0)+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(w13,bl5)|0,mid=(mid=mid+Math.imul(w13,bh5)|0)+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(w12,bl6)|0,mid=(mid=mid+Math.imul(w12,bh6)|0)+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(w11,bl7)|0,mid=(mid=mid+Math.imul(w11,bh7)|0)+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(w10,bl8)|0,mid=(mid=mid+Math.imul(w10,bh8)|0)+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0;w9=(c+(lo+Math.imul(w9,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh9)|0)+Math.imul(ah0,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh9)|0)+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=(mid=Math.imul(al9,bh1))+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(w17,bl2)|0,mid=(mid=mid+Math.imul(w17,bh2)|0)+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(w16,bl3)|0,mid=(mid=mid+Math.imul(w16,bh3)|0)+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(w15,bl4)|0,mid=(mid=mid+Math.imul(w15,bh4)|0)+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(w14,bl5)|0,mid=(mid=mid+Math.imul(w14,bh5)|0)+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(w13,bl6)|0,mid=(mid=mid+Math.imul(w13,bh6)|0)+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(w12,bl7)|0,mid=(mid=mid+Math.imul(w12,bh7)|0)+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(w11,bl8)|0,mid=(mid=mid+Math.imul(w11,bh8)|0)+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0;w10=(c+(lo+Math.imul(w10,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w10,bh9)|0)+Math.imul(ah1,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah1,bh9)|0)+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=(mid=Math.imul(al9,bh2))+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(w17,bl3)|0,mid=(mid=mid+Math.imul(w17,bh3)|0)+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(w16,bl4)|0,mid=(mid=mid+Math.imul(w16,bh4)|0)+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(w15,bl5)|0,mid=(mid=mid+Math.imul(w15,bh5)|0)+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(w14,bl6)|0,mid=(mid=mid+Math.imul(w14,bh6)|0)+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(w13,bl7)|0,mid=(mid=mid+Math.imul(w13,bh7)|0)+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(w12,bl8)|0,mid=(mid=mid+Math.imul(w12,bh8)|0)+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0;w11=(c+(lo+Math.imul(w11,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w11,bh9)|0)+Math.imul(ah2,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah2,bh9)|0)+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=(mid=Math.imul(al9,bh3))+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(w17,bl4)|0,mid=(mid=mid+Math.imul(w17,bh4)|0)+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(w16,bl5)|0,mid=(mid=mid+Math.imul(w16,bh5)|0)+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(w15,bl6)|0,mid=(mid=mid+Math.imul(w15,bh6)|0)+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(w14,bl7)|0,mid=(mid=mid+Math.imul(w14,bh7)|0)+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(w13,bl8)|0,mid=(mid=mid+Math.imul(w13,bh8)|0)+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0;w12=(c+(lo+Math.imul(w12,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w12,bh9)|0)+Math.imul(ah3,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah3,bh9)|0)+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=(mid=Math.imul(al9,bh4))+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(w17,bl5)|0,mid=(mid=mid+Math.imul(w17,bh5)|0)+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(w16,bl6)|0,mid=(mid=mid+Math.imul(w16,bh6)|0)+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(w15,bl7)|0,mid=(mid=mid+Math.imul(w15,bh7)|0)+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(w14,bl8)|0,mid=(mid=mid+Math.imul(w14,bh8)|0)+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0;w13=(c+(lo+Math.imul(w13,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w13,bh9)|0)+Math.imul(ah4,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah4,bh9)|0)+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=(mid=Math.imul(al9,bh5))+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(w17,bl6)|0,mid=(mid=mid+Math.imul(w17,bh6)|0)+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(w16,bl7)|0,mid=(mid=mid+Math.imul(w16,bh7)|0)+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(w15,bl8)|0,mid=(mid=mid+Math.imul(w15,bh8)|0)+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0;w14=(c+(lo+Math.imul(w14,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w14,bh9)|0)+Math.imul(ah5,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah5,bh9)|0)+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=(mid=Math.imul(al9,bh6))+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(w17,bl7)|0,mid=(mid=mid+Math.imul(w17,bh7)|0)+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(w16,bl8)|0,mid=(mid=mid+Math.imul(w16,bh8)|0)+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0;w15=(c+(lo+Math.imul(w15,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w15,bh9)|0)+Math.imul(ah6,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah6,bh9)|0)+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=(mid=Math.imul(al9,bh7))+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(w17,bl8)|0,mid=(mid=mid+Math.imul(w17,bh8)|0)+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0;w16=(c+(lo+Math.imul(w16,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w16,bh9)|0)+Math.imul(ah7,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah7,bh9)|0)+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=(mid=Math.imul(al9,bh8))+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8);w17=(c+(lo+Math.imul(w17,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w17,bh9)|0)+Math.imul(ah8,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah8,bh9)|0)+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863;w18=(c+Math.imul(al9,w18)|0)+((8191&(mid=(mid=Math.imul(al9,bh9))+Math.imul(ah9,w18)|0))<<13)|0;return c=((hi=Math.imul(ah9,bh9))+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!=c&&(o[19]=c,out.length++),out};function jumboMulTo(self,num,out){return(new FFTM).mulp(self,num,out)}function FFTM(x,y){this.x=x,this.y=y}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,res){var len=this.length+num.length,res=(10===this.length&&10===num.length?comb10MulTo:len<63?smallMulTo:len<1024?function(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){for(var ncarry=hncarry,hncarry=0,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var lo,r=(0|self.words[k-j])*(0|num.words[j]),rword=67108863&(lo=(lo=67108863&r)+rword|0);hncarry+=(ncarry=(ncarry=ncarry+(r/67108864|0)|0)+(lo>>>26)|0)>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()}:jumboMulTo)(this,num,res);return res},FFTM.prototype.makeRBT=function(N){for(var t=new Array(N),l=BN.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;i<l;i++)rb|=(1&x)<<l-i-1,x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;p<N;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;j<s;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],rx=rtwdf_*ro-itwdf_*(io=itws[p+j+s]),io=rtwdf_*io+itwdf_*ro;rtws[p+j]=re+(ro=rx),itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(odd,m){for(var odd=1&(N=1|Math.max(m,odd)),i=0,N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(N<=1))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=w<67108864?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=0|ws[i],rws[2*i]=8191&carry,rws[2*i+1]=8191&(carry>>>=13),carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry),assert(0==(-8192&carry))},FFTM.prototype.stub=function(N){for(var ph=new Array(N),i=0;i<N;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=new Array(N),rwst=new Array(N),iwst=new Array(N),nrws=new Array(N),nrwst=new Array(N),niwst=new Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out.strip()},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){assert("number"==typeof num),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=function(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++){var wbit=bit%26;w[bit]=(num.words[bit/26|0]&1<<wbit)>>>wbit}return w}(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&0<=bits);var r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!=r){for(var carry=0,i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!=s){for(i=this.length-1;0<=i;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&0<=bits);var h=hint?(hint-hint%26)/26:0,r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0!==s)if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;for(var carry=0,i=this.length-1;0<=i&&(0!==carry||h<=i);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(s){assert("number"==typeof s&&0<=s);var r=s%26,s=(s-r)/26;return!(this.length<=s)&&!!(this.words[s]&1<<r)},BN.prototype.imaskn=function(s){assert("number"==typeof s&&0<=s);var r=s%26,s=(s-r)/26;return assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s?this:(0!=r&&s++,this.length=Math.min(s,this.length),0!=r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this.strip())},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(num<67108864),num<0?this.isubn(-num):0!==this.negative?(1===this.length&&(0|this.words[0])<num?(this.words[0]=num-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(num),this.negative=1),this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&67108864<=this.words[i];i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,--this.words[i+1];return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var len=num.length+shift;this._expand(len);for(var carry=0,i=0;i<num.length;i++){var w=(0|this.words[i+shift])+carry,right=(0|num.words[i])*mul,carry=((w-=67108863&right)>>26)-(right/67108864|0);this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)carry=(w=(0|this.words[i+shift])+carry)>>26,this.words[i+shift]=67108863&w;if(0===carry)return this.strip();for(assert(-1===carry),i=carry=0;i<this.length;i++)carry=(w=-(0|this.words[i])+carry)>>26,this.words[i]=67108863&w;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(diff,mode){var shift=this.length-diff.length,a=this.clone(),b=diff,bhi=0|b.words[b.length-1];0!=(shift=26-this._countBits(bhi))&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){(q=new BN(null)).length=1+m,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;0<=j;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]),qj=Math.min(qj/bhi|0,67108863);for(a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!=shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){return assert(!num.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),{div:div="mod"!==mode?res.div.neg():div,mod:res.mod}):0!=(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode);var div,mod,res},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(r2){var dm=this.divmod(r2);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(r2):dm.mod,cmp=r2.ushrn(1),r2=r2.andln(1),cmp=mod.cmp(cmp);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(num<=67108863);for(var p=(1<<26)%num,acc=0,i=this.length-1;0<=i;i--)acc=(p*acc+(0|this.words[i]))%num;return acc},BN.prototype.idivn=function(num){assert(num<=67108863);for(var carry=0,i=this.length-1;0<=i;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());for(var x=this,y=p.clone(),x=0!==x.negative?x.umod(p):x.clone(),A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0==(x.words[0]&im)&&i<26;++i,im<<=1);if(0<i)for(x.iushrn(i);0<i--;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0==(y.words[0]&jm)&&j<26;++j,jm<<=1);if(0<j)for(y.iushrn(j);0<j--;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);0<=x.cmp(y)?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());for(var res,a=this,b=p.clone(),a=0!==a.negative?a.umod(p):a.clone(),x1=new BN(1),x2=new BN(0),delta=b.clone();0<a.cmpn(1)&&0<b.cmpn(1);){for(var i=0,im=1;0==(a.words[0]&im)&&i<26;++i,im<<=1);if(0<i)for(a.iushrn(i);0<i--;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0==(b.words[0]&jm)&&j<26;++j,jm<<=1);if(0<j)for(b.iushrn(j);0<j--;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);0<=a.cmp(b)?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}return(res=0===a.cmpn(1)?x1:x2).cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0;for(var shift=b.negative=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0)var t=a,a=b,b=t;else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0==(1&this.words[0])},BN.prototype.isOdd=function(){return 1==(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(s){assert("number"==typeof s);var q=s%26,s=(s-q)/26,q=1<<q;if(this.length<=s)return this._expand(1+s),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i],carry=(w+=carry)>>>26;w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(res){var w=res<0;return 0===this.negative||w?0===this.negative&&w?1:(this.strip(),res=1<this.length?1:(assert((res=w?-res:res)<=67108863,"Number is too big"),(w=0|this.words[0])===res?0:w<res?-1:1),0!==this.negative?0|-res:res):-1},BN.prototype.cmp=function(res){if(0!==this.negative&&0===res.negative)return-1;if(0===this.negative&&0!==res.negative)return 1;res=this.ucmp(res);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;0<=i;i--){var a=0|this.words[i],b=0|num.words[i];if(a!=b){a<b?res=-1:b<a&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return 0<=this.cmpn(num)},BN.prototype.gte=function(num){return 0<=this.cmp(num)},BN.prototype.ltn=function(num){return-1===this.cmpn(num)},BN.prototype.lt=function(num){return-1===this.cmp(num)},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){var prime;"string"==typeof m?(prime=BN._prime(m),this.m=prime.p,this.prime=prime):(assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null)}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(cmp){for(var rlen,r=cmp;this.split(r,this.tmp),(rlen=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):0<cmp?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=4194303&prev,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(4194303&next)<<4|prev>>>22,prev=next}0===(input.words[i-10]=prev>>>=22)&&10<input.length?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0==(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return(this.prime?this.prime.ireduce(a):a.umod(this.m))._forceRed(this)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,res){this._verify2(a,res);res=a.add(res);return 0<=res.cmp(this.m)&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,res){this._verify2(a,res);res=a.iadd(res);return 0<=res.cmp(this.m)&&res.isub(this.m),res},Red.prototype.sub=function(a,res){this._verify2(a,res);res=a.sub(res);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,res){this._verify2(a,res);res=a.isub(res);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var pow=this.m.andln(3);if(assert(pow%2==1),3===pow){pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());for(var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=new BN(2*(z=this.m.bitLength())*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1)),r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(inv){inv=inv._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1).toRed(this);if(0===num.cmpn(1))return a.clone();var wnd=new Array(16);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;0<=i;i--){for(var word=num.words[i],j=start-1;0<=j;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!=bit||0!==current?(current<<=1,current|=bit,(4===++currentLen||0===i&&0===j)&&(res=this.mul(res,wnd[current]),current=currentLen=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(res){res=res.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(r){r=this.imod(r.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(u,res){if(u.isZero()||res.isZero())return u.words[0]=0,u.length=1,u;u=u.imul(res),res=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=u.isub(res).iushrn(this.shift),res=u;return 0<=u.cmp(this.m)?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(u,res){if(u.isZero()||res.isZero())return new BN(0)._forceRed(this);u=u.mul(res),res=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=u.isub(res).iushrn(this.shift),res=u;return 0<=u.cmp(this.m)?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===module||module,this)},{buffer:48}],41:[function(require,module,exports){!function(global){!function(){"use strict";var possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g="undefined"==typeof globalThis?global:globalThis;module.exports=function(){for(var out=[],i=0;i<possibleNames.length;i++)"function"==typeof g[possibleNames[i]]&&(out[out.length]=possibleNames[i]);return out}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(require,module,exports){module.exports=require("./lib/base45")},{"./lib/base45":43}],43:[function(require,module,exports){!function(Buffer){!function(){const charset="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",divmod=(x,y)=>[Math.floor(x/y),x%y];module.exports={encode:buffer=>{"string"==typeof buffer&&(buffer=Buffer.from(buffer));let res="";for(let i=0;i<buffer.length;i+=2)if(1<buffer.length-i){var d=(buffer[i]<<8)+buffer[i+1],[e,c]=divmod(d,2025),[d,c]=divmod(c,45);res+=charset[c]+charset[d]+charset[e]}else{const[d,c]=divmod(buffer[i],45);res+=charset[c]+charset[d]}return res},decode:input=>{var buffer=Array.from(input).map(c=>charset.indexOf(c));const res=[];for(let i=0;i<buffer.length;i+=3)if(3<=buffer.length-i){var x=buffer[i]+45*buffer[i+1]+45*buffer[i+2]*45;res.push(...divmod(x,256))}else{const x=buffer[i]+45*buffer[i+1];res.push(x)}return Buffer.from(res)}}}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93}],44:[function(require,module,exports){"use strict";exports.byteLength=function(validLen){var placeHoldersLen=getLens(validLen),validLen=placeHoldersLen[0],placeHoldersLen=placeHoldersLen[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,placeHoldersLen=getLens(b64),validLen=placeHoldersLen[0],placeHoldersLen=placeHoldersLen[1],arr=new Arr(function(validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(validLen,placeHoldersLen)),curByte=0,len=0<placeHoldersLen?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(function(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(function(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}(tmp));return output.join("")}(uint8,i,len2<i+16383?len2:i+16383));1==extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2==extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(validLen){var len=validLen.length;if(0<len%4)throw new Error("Invalid string. Length must be a multiple of 4");validLen=validLen.indexOf("=");return[validLen=-1===validLen?len:validLen,validLen===len?0:4-validLen%4]}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],45:[function(require,module,exports){!function(globalObj){"use strict";var BigNumber,isNumeric=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,notBool=" not a boolean or binary digit",tooManyDigits="number type has more than 15 significant digits",ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",LOG_BASE=14,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function bitFloor(n){var i=0|n;return 0<n||n===i?i:i-1}function coeffToString(a){for(var s,z,i=1,j=a.length,r=a[0]+"";i<j;){for(s=a[i++]+"",z=LOG_BASE-s.length;z--;s="0"+s);r+=s}for(j=r.length;48===r.charCodeAt(--j););return r.slice(0,j+1||1)}function compare(l,b){var a,xc=l.c,yc=b.c,i=l.s,j=b.s,k=l.e,l=b.e;if(!i||!j)return null;if(a=xc&&!xc[0],b=yc&&!yc[0],a||b)return a?b?0:-j:i;if(i!=j)return i;if(a=i<0,b=k==l,!xc||!yc)return b?0:!xc^a?1:-1;if(!b)return l<k^a?1:-1;for(j=(k=xc.length)<(l=yc.length)?k:l,i=0;i<j;i++)if(xc[i]!=yc[i])return xc[i]>yc[i]^a?1:-1;return k==l?0:l<k^a?1:-1}function intValidatorNoErrors(n,min,max){return(n=truncate(n))>=min&&n<=max}function isArray(obj){return"[object Array]"==Object.prototype.toString.call(obj)}function toBaseOut(str,baseIn,baseOut){for(var j,arrL,arr=[0],i=0,len=str.length;i<len;){for(arrL=arr.length;arrL--;arr[arrL]*=baseIn);for(arr[j=0]+=ALPHABET.indexOf(str.charAt(i++));j<arr.length;j++)arr[j]>baseOut-1&&(null==arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut|0,arr[j]%=baseOut)}return arr.reverse()}function toExponential(str,e){return(1<str.length?str.charAt(0)+"."+str.slice(1):str)+(e<0?"e":"e+")+e}function toFixedPoint(str,e){var len,z;if(e<0){for(z="0.";++e;z+="0");str=z+str}else if(++e>(len=str.length)){for(z="0",e-=len;--e;z+="0");str+=z}else e<len&&(str=str.slice(0,e)+"."+str.slice(e));return str}function truncate(n){return((n=parseFloat(n))<0?mathceil:mathfloor)(n)}(BigNumber=function constructorFactory(config){var div,parseNumeric,random53bitInt,basePrefix,dotAfter,dotBefore,isInfinityOrNaN,whitespaceOrPlus,id=0,P=BigNumber.prototype,ONE=new BigNumber(1),DECIMAL_PLACES=20,ROUNDING_MODE=4,TO_EXP_NEG=-7,TO_EXP_POS=21,MIN_EXP=-1e7,MAX_EXP=1e7,ERRORS=!0,isValidInt=intValidatorWithErrors,CRYPTO=!1,MODULO_MODE=1,POW_PRECISION=0,FORMAT={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0};function BigNumber(n,b){var c,e,i,num,len,str,x=this;if(!(x instanceof BigNumber))return ERRORS&&raise(26,"constructor call without new",n),new BigNumber(n,b);if(null!=b&&isValidInt(b,2,64,id,"base")){if(str=n+"",10==(b|=0))return round(x=new BigNumber(n instanceof BigNumber?n:str),DECIMAL_PLACES+x.e+1,ROUNDING_MODE);if((num="number"==typeof n)&&0*n!=0||!new RegExp("^-?"+(c="["+ALPHABET.slice(0,b)+"]+")+"(?:\\."+c+")?$",b<37?"i":"").test(str))return parseNumeric(x,str,num,b);num?(x.s=1/n<0?(str=str.slice(1),-1):1,ERRORS&&15<str.replace(/^0\.0*|\./,"").length&&raise(id,tooManyDigits,n),num=!1):x.s=45===str.charCodeAt(0)?(str=str.slice(1),-1):1,str=convertBase(str,10,b,x.s)}else{if(n instanceof BigNumber)return x.s=n.s,x.e=n.e,x.c=(n=n.c)?n.slice():n,void(id=0);if((num="number"==typeof n)&&0*n==0){if(x.s=1/n<0?(n=-n,-1):1,n===~~n){for(e=0,i=n;10<=i;i/=10,e++);return x.e=e,x.c=[n],void(id=0)}str=n+""}else{if(!isNumeric.test(str=n+""))return parseNumeric(x,str,num);x.s=45===str.charCodeAt(0)?(str=str.slice(1),-1):1}}for(0<(i=(str=-1<(e=str.indexOf("."))?str.replace(".",""):str).search(/e/i))?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length),i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(--len););if(str=str.slice(i,len+1))if(len=str.length,num&&ERRORS&&15<len&&(9007199254740991<n||n!==mathfloor(n))&&raise(id,tooManyDigits,x.s*n),MAX_EXP<(e=e-i-1))x.c=x.e=null;else if(e<MIN_EXP)x.c=[x.e=0];else{if(x.e=e,x.c=[],i=(e+1)%LOG_BASE,e<0&&(i+=LOG_BASE),i<len){for(i&&x.c.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.c.push(+str.slice(i,i+=LOG_BASE));str=str.slice(i),i=LOG_BASE-str.length}else i-=len;for(;i--;str+="0");x.c.push(+str)}else x.c=[x.e=0];id=0}function convertBase(str,baseOut,baseIn,sign){var d,e,k,r,x,xc,y,i=str.indexOf("."),dp=DECIMAL_PLACES,rm=ROUNDING_MODE;for(baseIn<37&&(str=str.toLowerCase()),0<=i&&(k=POW_PRECISION,POW_PRECISION=0,str=str.replace(".",""),x=(y=new BigNumber(baseIn)).pow(str.length-i),POW_PRECISION=k,y.c=toBaseOut(toFixedPoint(coeffToString(x.c),x.e),10,baseOut),y.e=y.c.length),e=k=(xc=toBaseOut(str,baseIn,baseOut)).length;0==xc[--k];xc.pop());if(!xc[0])return"0";if(i<0?--e:(x.c=xc,x.e=e,x.s=sign,xc=(x=div(x,y,dp,rm,baseOut)).c,r=x.r,e=x.e),i=xc[d=e+dp+1],k=baseOut/2,r=r||d<0||null!=xc[d+1],r=rm<4?(null!=i||r)&&(0==rm||rm==(x.s<0?3:2)):k<i||i==k&&(4==rm||r||6==rm&&1&xc[d-1]||rm==(x.s<0?8:7)),d<1||!xc[0])str=r?toFixedPoint("1",-dp):"0";else{if(xc.length=d,r)for(--baseOut;++xc[--d]>baseOut;)xc[d]=0,d||(++e,xc=[1].concat(xc));for(k=xc.length;!xc[--k];);for(i=0,str="";i<=k;str+=ALPHABET.charAt(xc[i++]));str=toFixedPoint(str,e)}return str}function format(n,i,e,caller){var c0,ne,len,str;if(e=null!=e&&isValidInt(e,0,8,caller,"rounding mode")?0|e:ROUNDING_MODE,!n.c)return n.toString();if(c0=n.c[0],ne=n.e,null==i)str=coeffToString(n.c),str=(19==caller||24==caller&&ne<=TO_EXP_NEG?toExponential:toFixedPoint)(str,ne);else if(e=(n=round(new BigNumber(n),i,e)).e,len=(str=coeffToString(n.c)).length,19==caller||24==caller&&(i<=e||e<=TO_EXP_NEG)){for(;len<i;str+="0",len++);str=toExponential(str,e)}else if(i-=ne,str=toFixedPoint(str,e),len<e+1){if(0<--i)for(str+=".";i--;str+="0");}else if(0<(i+=e-len))for(e+1==len&&(str+=".");i--;str+="0");return n.s<0&&c0?"-"+str:str}function maxOrMin(args,method){for(var n,i=0,m=new BigNumber((args=isArray(args[0])?args[0]:args)[0]);++i<args.length;){if(!(n=new BigNumber(args[i])).s){m=n;break}method.call(m,n)&&(m=n)}return m}function intValidatorWithErrors(n,min,max,caller,name){return(n<min||max<n||n!=truncate(n))&&raise(caller,(name||"decimal places")+(n<min||max<n?" out of range":" not an integer"),n),!0}function normalise(n,c,e){for(var i=1,j=c.length;!c[--j];c.pop());for(j=c[0];10<=j;j/=10,i++);return(e=i+e*LOG_BASE-1)>MAX_EXP?n.c=n.e=null:e<MIN_EXP?n.c=[n.e=0]:(n.e=e,n.c=c),n}function raise(caller,msg,error){throw(error=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][caller]+"() "+msg+": "+error)).name="BigNumber Error",id=0,error}function round(x,sd,rm,r){var d,i,j,k,n,ni,rd,xc=x.c,pows10=POWS_TEN;if(xc){out:{for(d=1,k=xc[0];10<=k;k/=10,d++);if((i=sd-d)<0)i+=LOG_BASE,j=sd,rd=(n=xc[ni=0])/pows10[d-j-1]%10|0;else if((ni=mathceil((i+1)/LOG_BASE))>=xc.length){if(!r)break out;for(;xc.length<=ni;xc.push(0));n=rd=0,j=(i%=LOG_BASE)-LOG_BASE+(d=1)}else{for(n=k=xc[ni],d=1;10<=k;k/=10,d++);rd=(j=(i%=LOG_BASE)-LOG_BASE+d)<0?0:n/pows10[d-j-1]%10|0}if(r=r||sd<0||null!=xc[ni+1]||(j<0?n:n%pows10[d-j-1]),r=rm<4?(rd||r)&&(0==rm||rm==(x.s<0?3:2)):5<rd||5==rd&&(4==rm||r||6==rm&&(0<i?0<j?n/pows10[d-j]:0:xc[ni-1])%10&1||rm==(x.s<0?8:7)),sd<1||!xc[0])return xc.length=0,r?(sd-=x.e+1,xc[0]=pows10[(LOG_BASE-sd%LOG_BASE)%LOG_BASE],x.e=-sd||0):xc[0]=x.e=0,x;if(0==i?(xc.length=ni,k=1,ni--):(xc.length=ni+1,k=pows10[LOG_BASE-i],xc[ni]=0<j?mathfloor(n/pows10[d-j]%pows10[j])*k:0),r)for(;;){if(0==ni){for(i=1,j=xc[0];10<=j;j/=10,i++);for(j=xc[0]+=k,k=1;10<=j;j/=10,k++);i!=k&&(x.e++,1e14==xc[0]&&(xc[0]=1));break}if(xc[ni]+=k,1e14!=xc[ni])break;xc[ni--]=0,k=1}for(i=xc.length;0===xc[--i];xc.pop());}x.e>MAX_EXP?x.c=x.e=null:x.e<MIN_EXP&&(x.c=[x.e=0])}return x}return BigNumber.another=constructorFactory,BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.EUCLID=9,BigNumber.config=BigNumber.set=function(){var v,p,i=0,r={},a=arguments,o=a[0],has=o&&"object"==typeof o?function(){if(o.hasOwnProperty(p))return null!=(v=o[p])}:function(){if(i<a.length)return null!=(v=a[i++])};return has(p="DECIMAL_PLACES")&&isValidInt(v,0,1e9,2,p)&&(DECIMAL_PLACES=0|v),r[p]=DECIMAL_PLACES,has(p="ROUNDING_MODE")&&isValidInt(v,0,8,2,p)&&(ROUNDING_MODE=0|v),r[p]=ROUNDING_MODE,has(p="EXPONENTIAL_AT")&&(isArray(v)?isValidInt(v[0],-1e9,0,2,p)&&isValidInt(v[1],0,1e9,2,p)&&(TO_EXP_NEG=0|v[0],TO_EXP_POS=0|v[1]):isValidInt(v,-1e9,1e9,2,p)&&(TO_EXP_NEG=-(TO_EXP_POS=0|(v<0?-v:v)))),r[p]=[TO_EXP_NEG,TO_EXP_POS],has(p="RANGE")&&(isArray(v)?isValidInt(v[0],-1e9,-1,2,p)&&isValidInt(v[1],1,1e9,2,p)&&(MIN_EXP=0|v[0],MAX_EXP=0|v[1]):isValidInt(v,-1e9,1e9,2,p)&&(0|v?MIN_EXP=-(MAX_EXP=0|(v<0?-v:v)):ERRORS&&raise(2,p+" cannot be zero",v))),r[p]=[MIN_EXP,MAX_EXP],has(p="ERRORS")&&(v===!!v||1===v||0===v?(id=0,isValidInt=(ERRORS=!!v)?intValidatorWithErrors:intValidatorNoErrors):ERRORS&&raise(2,p+notBool,v)),r[p]=ERRORS,has(p="CRYPTO")&&(!0===v||!1===v||1===v||0===v?v?!(v="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?CRYPTO=!0:ERRORS?raise(2,"crypto unavailable",v?void 0:crypto):CRYPTO=!1:CRYPTO=!1:ERRORS&&raise(2,p+notBool,v)),r[p]=CRYPTO,has(p="MODULO_MODE")&&isValidInt(v,0,9,2,p)&&(MODULO_MODE=0|v),r[p]=MODULO_MODE,has(p="POW_PRECISION")&&isValidInt(v,0,1e9,2,p)&&(POW_PRECISION=0|v),r[p]=POW_PRECISION,has(p="FORMAT")&&("object"==typeof v?FORMAT=v:ERRORS&&raise(2,p+" not an object",v)),r[p]=FORMAT,r},BigNumber.max=function(){return maxOrMin(arguments,P.lt)},BigNumber.min=function(){return maxOrMin(arguments,P.gt)},BigNumber.random=(random53bitInt=9007199254740992*Math.random()&2097151?function(){return mathfloor(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(dp){var a,b,e,k,v,i=0,c=[],rand=new BigNumber(ONE);if(dp=null!=dp&&isValidInt(dp,0,1e9,14)?0|dp:DECIMAL_PLACES,k=mathceil(dp/LOG_BASE),CRYPTO)if(crypto.getRandomValues){for(a=crypto.getRandomValues(new Uint32Array(k*=2));i<k;)9e15<=(v=131072*a[i]+(a[i+1]>>>11))?(b=crypto.getRandomValues(new Uint32Array(2)),a[i]=b[0],a[i+1]=b[1]):(c.push(v%1e14),i+=2);i=k/2}else if(crypto.randomBytes){for(a=crypto.randomBytes(k*=7);i<k;)9e15<=(v=281474976710656*(31&a[i])+1099511627776*a[i+1]+4294967296*a[i+2]+16777216*a[i+3]+(a[i+4]<<16)+(a[i+5]<<8)+a[i+6])?crypto.randomBytes(7).copy(a,i):(c.push(v%1e14),i+=7);i=k/7}else CRYPTO=!1,ERRORS&&raise(14,"crypto unavailable",crypto);if(!CRYPTO)for(;i<k;)(v=random53bitInt())<9e15&&(c[i++]=v%1e14);for(k=c[--i],dp%=LOG_BASE,k&&dp&&(c[i]=mathfloor(k/(v=POWS_TEN[LOG_BASE-dp]))*v);0===c[i];c.pop(),i--);if(i<0)c=[e=0];else{for(e=-1;0===c[0];c.splice(0,1),e-=LOG_BASE);for(i=1,v=c[0];10<=v;v/=10,i++);i<LOG_BASE&&(e-=LOG_BASE-i)}return rand.e=e,rand.c=c,rand}),div=function(){function multiply(x,k,base){var m,temp,xhi,carry=0,i=x.length,klo=k%1e7,khi=k/1e7|0;for(x=x.slice();i--;)carry=((temp=klo*(temp=x[i]%1e7)+(m=khi*temp+(xhi=x[i]/1e7|0)*klo)%1e7*1e7+carry)/base|0)+(m/1e7|0)+khi*xhi,x[i]=temp%base;return x=carry?[carry].concat(x):x}function compare(a,b,aL,bL){var i,cmp;if(aL!=bL)cmp=bL<aL?1:-1;else for(i=cmp=0;i<aL;i++)if(a[i]!=b[i]){cmp=a[i]>b[i]?1:-1;break}return cmp}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&1<a.length;a.splice(0,1));}return function(x,y,dp,rm,base){var cmp,e,i,more,n,prod,prodL,q,qc,rem,remL,rem0,xi,xL,yc0,yL,yz,s=x.s==y.s?1:-1,xc=x.c,yc=y.c;if(!(xc&&xc[0]&&yc&&yc[0]))return new BigNumber(x.s&&y.s&&(xc?!yc||xc[0]!=yc[0]:yc)?xc&&0==xc[0]||!yc?0*s:s/0:NaN);for(qc=(q=new BigNumber(s)).c=[],s=dp+(e=x.e-y.e)+1,base||(base=1e14,e=bitFloor(x.e/LOG_BASE)-bitFloor(y.e/LOG_BASE),s=s/LOG_BASE|0),i=0;yc[i]==(xc[i]||0);i++);if(yc[i]>(xc[i]||0)&&e--,s<0)qc.push(1),more=!0;else{for(xL=xc.length,yL=yc.length,s+=2,1<(n=mathfloor(base/(yc[i=0]+1)))&&(yc=multiply(yc,n,base),xc=multiply(xc,n,base),yL=yc.length,xL=xc.length),xi=yL,remL=(rem=xc.slice(0,yL)).length;remL<yL;rem[remL++]=0);yz=yc.slice(),yz=[0].concat(yz),yc0=yc[0],yc[1]>=base/2&&yc0++;do{if(n=0,(cmp=compare(yc,rem,yL,remL))<0){if(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),1<(n=mathfloor(rem0/yc0)))for(prodL=(prod=multiply(yc,n=base<=n?base-1:n,base)).length,remL=rem.length;1==compare(prod,rem,prodL,remL);)n--,subtract(prod,yL<prodL?yz:yc,prodL,base),prodL=prod.length,cmp=1;else 0==n&&(cmp=n=1),prodL=(prod=yc.slice()).length;if(subtract(rem,prod=prodL<remL?[0].concat(prod):prod,remL,base),remL=rem.length,-1==cmp)for(;compare(yc,rem,yL,remL)<1;)n++,subtract(rem,yL<remL?yz:yc,remL,base),remL=rem.length}else 0===cmp&&(n++,rem=[0])}while(qc[i++]=n,rem[0]?rem[remL++]=xc[xi]||0:(rem=[xc[xi]],remL=1),(xi++<xL||null!=rem[0])&&s--);more=null!=rem[0],qc[0]||qc.splice(0,1)}if(1e14==base){for(i=1,s=qc[0];10<=s;s/=10,i++);round(q,dp+(q.e=i+e*LOG_BASE-1)+1,rm,more)}else q.e=e,q.r=+more;return q}}(),basePrefix=/^(-?)0([xbo])(?=\w[\w.]*$)/i,dotAfter=/^([^.]+)\.$/,dotBefore=/^\.([^.]+)$/,isInfinityOrNaN=/^-?(Infinity|NaN)$/,whitespaceOrPlus=/^\s*\+(?=[\w.])|^\s+|\s+$/g,parseNumeric=function(x,str,num,b){var base,s=num?str:str.replace(whitespaceOrPlus,"");if(isInfinityOrNaN.test(s))x.s=isNaN(s)?null:s<0?-1:1;else{if(!num&&(s=s.replace(basePrefix,function(m,p1,p2){return base="x"==(p2=p2.toLowerCase())?16:"b"==p2?2:8,b&&b!=base?m:p1}),b&&(base=b,s=s.replace(dotAfter,"$1").replace(dotBefore,"0.$1")),str!=s))return new BigNumber(s,base);ERRORS&&raise(id,"not a"+(b?" base "+b:"")+" number",str),x.s=null}x.c=x.e=null,id=0},P.absoluteValue=P.abs=function(){var x=new BigNumber(this);return x.s<0&&(x.s=1),x},P.ceil=function(){return round(new BigNumber(this),this.e+1,2)},P.comparedTo=P.cmp=function(y,b){return id=1,compare(this,new BigNumber(y,b))},P.decimalPlaces=P.dp=function(){var n,v,c=this.c;if(!c)return null;if(n=((v=c.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,v=c[v])for(;v%10==0;v/=10,n--);return n=n<0?0:n},P.dividedBy=P.div=function(y,b){return id=3,div(this,new BigNumber(y,b),DECIMAL_PLACES,ROUNDING_MODE)},P.dividedToIntegerBy=P.divToInt=function(y,b){return id=4,div(this,new BigNumber(y,b),0,1)},P.equals=P.eq=function(y,b){return id=5,0===compare(this,new BigNumber(y,b))},P.floor=function(){return round(new BigNumber(this),this.e+1,3)},P.greaterThan=P.gt=function(y,b){return id=6,0<compare(this,new BigNumber(y,b))},P.greaterThanOrEqualTo=P.gte=function(y,b){return id=7,1===(b=compare(this,new BigNumber(y,b)))||0===b},P.isFinite=function(){return!!this.c},P.isInteger=P.isInt=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.lessThan=P.lt=function(y,b){return id=8,compare(this,new BigNumber(y,b))<0},P.lessThanOrEqualTo=P.lte=function(y,b){return id=9,-1===(b=compare(this,new BigNumber(y,b)))||0===b},P.minus=P.sub=function(y,b){var i,j,t,xLTy,x=this,a=x.s;if(id=10,b=(y=new BigNumber(y,b)).s,!a||!b)return new BigNumber(NaN);if(a!=b)return y.s=-b,x.plus(y);var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return xc?(y.s=-b,y):new BigNumber(yc?x:NaN);if(!xc[0]||!yc[0])return yc[0]?(y.s=-b,y):new BigNumber(xc[0]?x:3==ROUNDING_MODE?-0:0)}if(xe=bitFloor(xe),ye=bitFloor(ye),xc=xc.slice(),a=xe-ye){for((t=(xLTy=a<0)?(a=-a,xc):(ye=xe,yc)).reverse(),b=a;b--;t.push(0));t.reverse()}else for(j=(xLTy=(a=xc.length)<(b=yc.length))?a:b,a=b=0;b<j;b++)if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}if(xLTy&&(t=xc,xc=yc,yc=t,y.s=-y.s),0<(b=(j=yc.length)-(i=xc.length)))for(;b--;xc[i++]=0);for(b=1e14-1;a<j;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=b);--xc[i],xc[j]+=1e14}xc[j]-=yc[j]}for(;0==xc[0];xc.splice(0,1),--ye);return xc[0]?normalise(y,xc,ye):(y.s=3==ROUNDING_MODE?-1:1,y.c=[y.e=0],y)},P.modulo=P.mod=function(y,s){var q,x=this;return id=11,y=new BigNumber(y,s),!x.c||!y.s||y.c&&!y.c[0]?new BigNumber(NaN):!y.c||x.c&&!x.c[0]?new BigNumber(x):(9==MODULO_MODE?(s=y.s,y.s=1,q=div(x,y,0,3),y.s=s,q.s*=s):q=div(x,y,0,MODULO_MODE),x.minus(q.times(y)))},P.negated=P.neg=function(){var x=new BigNumber(this);return x.s=-x.s||null,x},P.plus=P.add=function(y,b){var t,x=this,a=x.s;if(id=12,b=(y=new BigNumber(y,b)).s,!a||!b)return new BigNumber(NaN);if(a!=b)return y.s=-b,x.minus(y);var xe=x.e/LOG_BASE,ye=y.e/LOG_BASE,xc=x.c,yc=y.c;if(!xe||!ye){if(!xc||!yc)return new BigNumber(a/0);if(!xc[0]||!yc[0])return yc[0]?y:new BigNumber(xc[0]?x:0*a)}if(xe=bitFloor(xe),ye=bitFloor(ye),xc=xc.slice(),a=xe-ye){for((t=0<a?(ye=xe,yc):(a=-a,xc)).reverse();a--;t.push(0));t.reverse()}for((a=xc.length)-(b=yc.length)<0&&(t=yc,yc=xc,xc=t,b=a),a=0;b;)a=(xc[--b]=xc[b]+yc[b]+a)/1e14|0,xc[b]=1e14===xc[b]?0:xc[b]%1e14;return a&&(xc=[a].concat(xc),++ye),normalise(y,xc,ye)},P.precision=P.sd=function(z){var n,v,x=this,c=x.c;if(null!=z&&z!==!!z&&1!==z&&0!==z&&(ERRORS&&raise(13,"argument"+notBool,z),z!=!!z&&(z=null)),!c)return null;if(n=(v=c.length-1)*LOG_BASE+1,v=c[v]){for(;v%10==0;v/=10,n--);for(v=c[0];10<=v;v/=10,n++);}return n=z&&x.e+1>n?x.e+1:n},P.round=function(dp,rm){var n=new BigNumber(this);return null!=dp&&!isValidInt(dp,0,1e9,15)||round(n,~~dp+this.e+1,null!=rm&&isValidInt(rm,0,8,15,"rounding mode")?0|rm:ROUNDING_MODE),n},P.shift=function(k){var n=this;return isValidInt(k,-9007199254740991,9007199254740991,16,"argument")?n.times("1e"+truncate(k)):new BigNumber(n.c&&n.c[0]&&(k<-9007199254740991||9007199254740991<k)?n.s*(k<0?0:1/0):n)},P.squareRoot=P.sqrt=function(){var m,n,r,rep,t,x=this,c=x.c,s=x.s,e=x.e,dp=DECIMAL_PLACES+4,half=new BigNumber("0.5");if(1!==s||!c||!c[0])return new BigNumber(!s||s<0&&(!c||c[0])?NaN:c?x:1/0);if((r=0==(s=Math.sqrt(+x))||s==1/0?(((n=coeffToString(c)).length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=bitFloor((e+1)/2)-(e<0||e%2),new BigNumber(n=s==1/0?"1e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)):new BigNumber(s+"")).c[0])for((s=(e=r.e)+dp)<3&&(s=0);;)if(t=r,r=half.times(t.plus(div(x,t,dp,1))),coeffToString(t.c).slice(0,s)===(n=coeffToString(r.c)).slice(0,s)){if(r.e<e&&--s,"9999"!=(n=n.slice(s-3,s+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(round(r,r.e+DECIMAL_PLACES+2,1),m=!r.times(r).eq(x));break}if(!rep&&(round(t,t.e+DECIMAL_PLACES+2,0),t.times(t).eq(x))){r=t;break}dp+=4,s+=4,rep=1}return round(r,r.e+DECIMAL_PLACES+1,ROUNDING_MODE,m)},P.times=P.mul=function(y,e){var c,i,j,k,m,xcL,xlo,xhi,ylo,yhi,zc,ycL=this,xc=ycL.c,yc=(id=17,(y=new BigNumber(y,e)).c);if(!(xc&&yc&&xc[0]&&yc[0]))return!ycL.s||!y.s||xc&&!xc[0]&&!yc||yc&&!yc[0]&&!xc?y.c=y.e=y.s=null:(y.s*=ycL.s,xc&&yc?(y.c=[0],y.e=0):y.c=y.e=null),y;for(e=bitFloor(ycL.e/LOG_BASE)+bitFloor(y.e/LOG_BASE),y.s*=ycL.s,(xcL=xc.length)<(ycL=yc.length)&&(zc=xc,xc=yc,yc=zc,i=xcL,xcL=ycL,ycL=i),i=xcL+ycL,zc=[];i--;zc.push(0));for(i=ycL;0<=--i;){for(ylo=yc[i]%1e7,yhi=yc[i]/1e7|(c=0),j=i+(k=xcL);i<j;)c=((xlo=ylo*(xlo=xc[--k]%1e7)+(m=yhi*xlo+(xhi=xc[k]/1e7|0)*ylo)%1e7*1e7+zc[j]+c)/1e14|0)+(m/1e7|0)+yhi*xhi,zc[j--]=xlo%1e14;zc[j]=c}return c?++e:zc.splice(0,1),normalise(y,zc,e)},P.toDigits=function(sd,rm){var n=new BigNumber(this);return sd=null!=sd&&isValidInt(sd,1,1e9,18,"precision")?0|sd:null,rm=null!=rm&&isValidInt(rm,0,8,18,"rounding mode")?0|rm:ROUNDING_MODE,sd?round(n,sd,rm):n},P.toExponential=function(dp,rm){return format(this,null!=dp&&isValidInt(dp,0,1e9,19)?1+~~dp:null,rm,19)},P.toFixed=function(dp,rm){return format(this,null!=dp&&isValidInt(dp,0,1e9,20)?~~dp+this.e+1:null,rm,20)},P.toFormat=function(g2,fractionPart){var str=format(this,null!=g2&&isValidInt(g2,0,1e9,21)?~~g2+this.e+1:null,fractionPart,21);if(this.c){var i,isNeg=str.split("."),g1=+FORMAT.groupSize,g2=+FORMAT.secondaryGroupSize,groupSeparator=FORMAT.groupSeparator,intPart=isNeg[0],fractionPart=isNeg[1],intDigits=(isNeg=this.s<0)?intPart.slice(1):intPart,len=intDigits.length;if(g2&&(i=g1,g1=g2,len-=g2=i),0<g1&&0<len){for(intPart=intDigits.substr(0,i=len%g1||g1);i<len;i+=g1)intPart+=groupSeparator+intDigits.substr(i,g1);0<g2&&(intPart+=groupSeparator+intDigits.slice(i)),isNeg&&(intPart="-"+intPart)}str=fractionPart?intPart+FORMAT.decimalSeparator+((g2=+FORMAT.fractionGroupSize)?fractionPart.replace(new RegExp("\\d{"+g2+"}\\B","g"),"$&"+FORMAT.fractionGroupSeparator):fractionPart):intPart}return str},P.toFraction=function(md){var d0,d2,n,n0,q,s,e=ERRORS,arr=this,exp=this.c,d=new BigNumber(ONE),n1=d0=new BigNumber(ONE),d1=n0=new BigNumber(ONE);if(null!=md&&(ERRORS=!1,n=new BigNumber(md),ERRORS=e,(e=n.isInt())&&!n.lt(ONE)||(ERRORS&&raise(22,"max denominator "+(e?"out of range":"not an integer"),md),md=!e&&n.c&&round(n,n.e+1,1).gte(ONE)?n:null)),!exp)return this.toString();for(s=coeffToString(exp),e=d.e=s.length-this.e-1,d.c[0]=POWS_TEN[(exp=e%LOG_BASE)<0?LOG_BASE+exp:exp],md=!md||0<n.cmp(d)?0<e?d:n1:n,exp=MAX_EXP,MAX_EXP=1/0,n=new BigNumber(s),n0.c[0]=0;q=div(n,d,0,1),1!=(d2=d0.plus(q.times(d1))).cmp(md);)d0=d1,d1=d2,n1=n0.plus(q.times(d2=n1)),n0=d2,d=n.minus(q.times(d2=d)),n=d2;return d2=div(md.minus(d0),d1,0,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=this.s,arr=div(n1,d1,e*=2,ROUNDING_MODE).minus(this).abs().cmp(div(n0,d0,e,ROUNDING_MODE).minus(this).abs())<1?[n1.toString(),d1.toString()]:[n0.toString(),d0.toString()],MAX_EXP=exp,arr},P.toNumber=function(){return+this},P.toPower=P.pow=function(n,m){var k,y,z,i=mathfloor(n<0?-n:+n),x=this;if(null!=m&&(id=23,m=new BigNumber(m)),!isValidInt(n,-9007199254740991,9007199254740991,23,"exponent")&&(!isFinite(n)||9007199254740991<i&&(n/=0)||parseFloat(n)!=n&&!(n=NaN))||0==n)return k=Math.pow(+x,n),new BigNumber(m?k%m:k);for(m?1<n&&x.gt(ONE)&&x.isInt()&&m.gt(ONE)&&m.isInt()?x=x.mod(m):(z=m,m=null):POW_PRECISION&&(k=mathceil(POW_PRECISION/LOG_BASE+2)),y=new BigNumber(ONE);;){if(i%2){if(!(y=y.times(x)).c)break;k?y.c.length>k&&(y.c.length=k):m&&(y=y.mod(m))}if(!(i=mathfloor(i/2)))break;x=x.times(x),k?x.c&&x.c.length>k&&(x.c.length=k):m&&(x=x.mod(m))}return m?y:(n<0&&(y=ONE.div(y)),z?y.mod(z):k?round(y,POW_PRECISION,ROUNDING_MODE):y)},P.toPrecision=function(sd,rm){return format(this,null!=sd&&isValidInt(sd,1,1e9,24,"precision")?0|sd:null,rm,24)},P.toString=function(b){var str,n=this,s=n.s,e=n.e;return null===e?s?(str="Infinity",s<0&&(str="-"+str)):str="NaN":(str=coeffToString(n.c),str=null!=b&&isValidInt(b,2,64,25,"base")?convertBase(toFixedPoint(str,e),0|b,10,s):(e<=TO_EXP_NEG||TO_EXP_POS<=e?toExponential:toFixedPoint)(str,e),s<0&&n.c[0]&&(str="-"+str)),str},P.truncated=P.trunc=function(){return round(new BigNumber(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var str,n=this,e=n.e;return null===e?n.toString():(str=coeffToString(n.c),str=(e<=TO_EXP_NEG||TO_EXP_POS<=e?toExponential:toFixedPoint)(str,e),n.s<0?"-"+str:str)},P.isBigNumber=!0,null!=config&&BigNumber.config(config),BigNumber}()).default=BigNumber.BigNumber=BigNumber,"function"==typeof define&&define.amd?define(function(){return BigNumber}):void 0!==module&&module.exports?module.exports=BigNumber:(globalObj=globalObj||("undefined"!=typeof self?self:Function("return this")())).BigNumber=BigNumber}(this)},{}],46:[function(require,module,exports){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;function TempCtor(){}TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number))return number;this.negative=0,this.words=null,this.length=0,(this.red=null)!==number&&("le"!==base&&"be"!==base||(endian=base,base=10),this._init(number||0,base||10,endian||"be"))}var Buffer;"object"==typeof module?module.exports=BN:exports.BN=BN,(BN.BN=BN).wordSize=26;try{Buffer=("undefined"!=typeof window&&void 0!==window.Buffer?window:require("buffer")).Buffer}catch(e){}function parseHex4Bits(string,c){c=string.charCodeAt(c);return 48<=c&&c<=57?c-48:65<=c&&c<=70?c-55:97<=c&&c<=102?c-87:void assert(!1,"Invalid character in "+string)}function parseHexByte(string,lowerBound,index){var r=parseHex4Bits(string,index);return lowerBound<=index-1&&(r|=parseHex4Bits(string,index-1)<<4),r}function parseBase(str,start,end,mul){for(var r=0,b=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,b=49<=c?c-49+10:17<=c?c-17+10:c,assert(0<=c&&b<mul,"Invalid character"),r+=b}return r}function move(dest,src){dest.words=src.words,dest.length=src.length,dest.negative=src.negative,dest.red=src.red}if(BN.isBN=function(num){return num instanceof BN||null!==num&&"object"==typeof num&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return 0<left.cmp(right)?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);assert((base="hex"===base?16:base)===(0|base)&&2<=base&&base<=36);var start=0;"-"===(number=number.toString().replace(/\s+/g,""))[0]&&(start++,this.negative=1),start<number.length&&(16===base?this._parseHex(number,start,endian):(this._parseBase(number,base,start),"le"===endian&&this._initArray(this.toArray(),base,endian)))},BN.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var j,w,i=0;i<this.length;i++)this.words[i]=0;var off=0;if("be"===endian)for(i=number.length-1,j=0;0<=i;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,26<=(off+=24)&&(off-=26,j++);else if("le"===endian)for(j=i=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,26<=(off+=24)&&(off-=26,j++);return this._strip()},BN.prototype._parseHex=function(number,start,endian){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var w,off=0,j=0;if("be"===endian)for(i=number.length-1;start<=i;i-=2)w=parseHexByte(number,start,i)<<off,this.words[j]|=67108863&w,18<=off?(off-=18,this.words[j+=1]|=w>>>26):off+=8;else for(i=(number.length-start)%2==0?start+1:start;i<number.length;i+=2)w=parseHexByte(number,start,i)<<off,this.words[j]|=67108863&w,18<=off?(off-=18,this.words[j+=1]|=w>>>26):off+=8;this._strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0];for(var limbLen=0,limbPow=this.length=1;limbPow<=67108863;limbPow*=base)limbLen++;for(var limbPow=limbPow/base|0,total=number.length-start,mod=total%--limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!=mod){for(var pow=1,word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}this._strip()},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype._move=function(dest){move(dest,this)},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(e){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){if(padding=0|padding||1,16===(base=base||10)||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16),out=0!==(carry=w>>>24-off&16777215)||i!==this.length-1?zeros[6-word.length]+word+out:word+out;26<=(off+=2)&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!=0;)out="0"+out;return out=0!==this.negative?"-"+out:out}if(base===(0|base)&&2<=base&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];for(out="",(c=this.clone()).negative=0;!c.isZero();){var c,r=c.modrn(groupBase).toString(base);out=(c=c.idivn(groupBase)).isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!=0;)out="0"+out;return out=0!==this.negative?"-"+out:out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:2<this.length&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16,2)},Buffer&&(BN.prototype.toBuffer=function(endian,length){return this.toArrayLike(Buffer,endian,length)}),BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0,len=(out.length=len)-1|0,carry=(r=(0|self.words[0])*(0|num.words[0]))/67108864|0;out.words[0]=67108863&r;for(var k=1;k<len;k++){for(var r,ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++)ncarry+=(r=(0|self.words[k-j|0])*(0|num.words[j])+rword)/67108864|0,rword=67108863&r;out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out._strip()}BN.prototype.toArrayLike=function(ArrayType,endian,res){this._strip();var byteLength=this.byteLength(),res=res||Math.max(1,byteLength);assert(byteLength<=res,"byte array longer than desired length"),assert(0<res,"Requested array length <= 0");res=function(ArrayType,size){return ArrayType.allocUnsafe?ArrayType.allocUnsafe(size):new ArrayType(size)}(ArrayType,res);return this["_toArrayLike"+("le"===endian?"LE":"BE")](res,byteLength),res},BN.prototype._toArrayLikeLE=function(res,byteLength){for(var position=0,carry=0,i=0,shift=0;i<this.length;i++){var word=this.words[i]<<shift|carry;res[position++]=255&word,position<res.length&&(res[position++]=word>>8&255),position<res.length&&(res[position++]=word>>16&255),6===shift?(position<res.length&&(res[position++]=word>>24&255),shift=carry=0):(carry=word>>>24,shift+=2)}if(position<res.length)for(res[position++]=carry;position<res.length;)res[position++]=0},BN.prototype._toArrayLikeBE=function(res,byteLength){for(var position=res.length-1,carry=0,i=0,shift=0;i<this.length;i++){var word=this.words[i]<<shift|carry;res[position--]=255&word,0<=position&&(res[position--]=word>>8&255),0<=position&&(res[position--]=word>>16&255),6===shift?(0<=position&&(res[position--]=word>>24&255),shift=carry=0):(carry=word>>>24,shift+=2)}if(0<=position)for(res[position--]=carry;0<=position;)res[position--]=0},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(r){var t=r,r=0;return 4096<=t&&(r+=13,t>>>=13),64<=t&&(r+=7,t>>>=7),8<=t&&(r+=4,t>>>=4),2<=t&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(r){if(0===r)return 26;var t=r,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},BN.prototype.bitLength=function(){var hi=this.words[this.length-1],hi=this._countBits(hi);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this._strip()},BN.prototype.ior=function(num){return assert(0==(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){for(var b=this.length>num.length?num:this,i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this._strip()},BN.prototype.iand=function(num){return assert(0==(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){for(var a,b=this.length>num.length?(a=this,num):(a=num,this),i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this._strip()},BN.prototype.ixor=function(num){return assert(0==(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(bitsLeft){assert("number"==typeof bitsLeft&&0<=bitsLeft);var bytesNeeded=0|Math.ceil(bitsLeft/26),bitsLeft=bitsLeft%26;this._expand(bytesNeeded),0<bitsLeft&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return 0<bitsLeft&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this._strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(wbit,val){assert("number"==typeof wbit&&0<=wbit);var off=wbit/26|0,wbit=wbit%26;return this._expand(1+off),this.words[off]=val?this.words[off]|1<<wbit:this.words[off]&~(1<<wbit),this._strip()},BN.prototype.iadd=function(num){var r,a;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();for(var b=this.length>num.length?(a=this,num):(a=num,this),carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var a,cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;for(var b=0<cmp?(a=this,num):(a=num,this),carry=0,i=0;i<b.length;i++)carry=(r=(0|a.words[i])-(0|b.words[i])+carry)>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)carry=(r=(0|a.words[i])+carry)>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this._strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(w7,w8,out){var w6=w7.words,w5=w8.words,o=out.words,w2=0|w6[0],w9=8191&w2,ah0=w2>>>13,bl6=0|w6[1],w10=8191&bl6,ah1=bl6>>>13,bh6=0|w6[2],w11=8191&bh6,ah2=bh6>>>13,w3=0|w6[3],w12=8191&w3,ah3=w3>>>13,bl7=0|w6[4],w13=8191&bl7,ah4=bl7>>>13,bh7=0|w6[5],w14=8191&bh7,ah5=bh7>>>13,w4=0|w6[6],w15=8191&w4,ah6=w4>>>13,bl8=0|w6[7],w16=8191&bl8,ah7=bl8>>>13,bh8=0|w6[8],w17=8191&bh8,ah8=bh8>>>13,w18=0|w6[9],al9=8191&w18,ah9=w18>>>13,bh9=0|w5[0],bl0=8191&bh9,bh0=bh9>>>13,lo=0|w5[1],bl1=8191&lo,bh1=lo>>>13,mid=0|w5[2],bl2=8191&mid,bh2=mid>>>13,w0=0|w5[3],bl3=8191&w0,bh3=w0>>>13,hi=0|w5[4],bl4=8191&hi,bh4=hi>>>13,w1=0|w5[5],bl5=8191&w1,bh5=w1>>>13,w2=0|w5[6],bl6=8191&w2,bh6=w2>>>13,w3=0|w5[7],bl7=8191&w3,bh7=w3>>>13,w4=0|w5[8],bl8=8191&w4,bh8=w4>>>13,w6=0|w5[9],w18=8191&w6,bh9=w6>>>13;out.negative=w7.negative^w8.negative,out.length=19;var w0=(0+Math.imul(w9,bl0)|0)+((8191&(mid=(mid=Math.imul(w9,bh0))+Math.imul(ah0,bl0)|0))<<13)|0,c=((hi=Math.imul(ah0,bh0))+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863,lo=Math.imul(w10,bl0),mid=(mid=Math.imul(w10,bh0))+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0);w1=(c+(lo+Math.imul(w9,bl1)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh1)|0)+Math.imul(ah0,bl1)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh1)|0)+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(w11,bl0),mid=(mid=Math.imul(w11,bh0))+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(w10,bl1)|0,mid=(mid=mid+Math.imul(w10,bh1)|0)+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0;w2=(c+(lo+Math.imul(w9,bl2)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh2)|0)+Math.imul(ah0,bl2)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh2)|0)+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(w12,bl0),mid=(mid=Math.imul(w12,bh0))+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(w11,bl1)|0,mid=(mid=mid+Math.imul(w11,bh1)|0)+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(w10,bl2)|0,mid=(mid=mid+Math.imul(w10,bh2)|0)+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0;w3=(c+(lo+Math.imul(w9,bl3)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh3)|0)+Math.imul(ah0,bl3)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh3)|0)+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(w13,bl0),mid=(mid=Math.imul(w13,bh0))+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(w12,bl1)|0,mid=(mid=mid+Math.imul(w12,bh1)|0)+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(w11,bl2)|0,mid=(mid=mid+Math.imul(w11,bh2)|0)+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(w10,bl3)|0,mid=(mid=mid+Math.imul(w10,bh3)|0)+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0;w4=(c+(lo+Math.imul(w9,bl4)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh4)|0)+Math.imul(ah0,bl4)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh4)|0)+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(w14,bl0),mid=(mid=Math.imul(w14,bh0))+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(w13,bl1)|0,mid=(mid=mid+Math.imul(w13,bh1)|0)+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(w12,bl2)|0,mid=(mid=mid+Math.imul(w12,bh2)|0)+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(w11,bl3)|0,mid=(mid=mid+Math.imul(w11,bh3)|0)+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(w10,bl4)|0,mid=(mid=mid+Math.imul(w10,bh4)|0)+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0;w5=(c+(lo+Math.imul(w9,bl5)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh5)|0)+Math.imul(ah0,bl5)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh5)|0)+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(w15,bl0),mid=(mid=Math.imul(w15,bh0))+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(w14,bl1)|0,mid=(mid=mid+Math.imul(w14,bh1)|0)+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(w13,bl2)|0,mid=(mid=mid+Math.imul(w13,bh2)|0)+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(w12,bl3)|0,mid=(mid=mid+Math.imul(w12,bh3)|0)+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(w11,bl4)|0,mid=(mid=mid+Math.imul(w11,bh4)|0)+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(w10,bl5)|0,mid=(mid=mid+Math.imul(w10,bh5)|0)+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0;w6=(c+(lo+Math.imul(w9,bl6)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh6)|0)+Math.imul(ah0,bl6)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh6)|0)+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(w16,bl0),mid=(mid=Math.imul(w16,bh0))+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(w15,bl1)|0,mid=(mid=mid+Math.imul(w15,bh1)|0)+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(w14,bl2)|0,mid=(mid=mid+Math.imul(w14,bh2)|0)+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(w13,bl3)|0,mid=(mid=mid+Math.imul(w13,bh3)|0)+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(w12,bl4)|0,mid=(mid=mid+Math.imul(w12,bh4)|0)+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(w11,bl5)|0,mid=(mid=mid+Math.imul(w11,bh5)|0)+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(w10,bl6)|0,mid=(mid=mid+Math.imul(w10,bh6)|0)+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0;w7=(c+(lo+Math.imul(w9,bl7)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh7)|0)+Math.imul(ah0,bl7)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh7)|0)+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(w17,bl0),mid=(mid=Math.imul(w17,bh0))+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(w16,bl1)|0,mid=(mid=mid+Math.imul(w16,bh1)|0)+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(w15,bl2)|0,mid=(mid=mid+Math.imul(w15,bh2)|0)+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(w14,bl3)|0,mid=(mid=mid+Math.imul(w14,bh3)|0)+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(w13,bl4)|0,mid=(mid=mid+Math.imul(w13,bh4)|0)+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(w12,bl5)|0,mid=(mid=mid+Math.imul(w12,bh5)|0)+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(w11,bl6)|0,mid=(mid=mid+Math.imul(w11,bh6)|0)+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(w10,bl7)|0,mid=(mid=mid+Math.imul(w10,bh7)|0)+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0;w8=(c+(lo+Math.imul(w9,bl8)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh8)|0)+Math.imul(ah0,bl8)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh8)|0)+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=(mid=Math.imul(al9,bh0))+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(w17,bl1)|0,mid=(mid=mid+Math.imul(w17,bh1)|0)+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(w16,bl2)|0,mid=(mid=mid+Math.imul(w16,bh2)|0)+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(w15,bl3)|0,mid=(mid=mid+Math.imul(w15,bh3)|0)+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(w14,bl4)|0,mid=(mid=mid+Math.imul(w14,bh4)|0)+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(w13,bl5)|0,mid=(mid=mid+Math.imul(w13,bh5)|0)+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(w12,bl6)|0,mid=(mid=mid+Math.imul(w12,bh6)|0)+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(w11,bl7)|0,mid=(mid=mid+Math.imul(w11,bh7)|0)+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(w10,bl8)|0,mid=(mid=mid+Math.imul(w10,bh8)|0)+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0;w9=(c+(lo+Math.imul(w9,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w9,bh9)|0)+Math.imul(ah0,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh9)|0)+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=(mid=Math.imul(al9,bh1))+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(w17,bl2)|0,mid=(mid=mid+Math.imul(w17,bh2)|0)+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(w16,bl3)|0,mid=(mid=mid+Math.imul(w16,bh3)|0)+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(w15,bl4)|0,mid=(mid=mid+Math.imul(w15,bh4)|0)+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(w14,bl5)|0,mid=(mid=mid+Math.imul(w14,bh5)|0)+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(w13,bl6)|0,mid=(mid=mid+Math.imul(w13,bh6)|0)+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(w12,bl7)|0,mid=(mid=mid+Math.imul(w12,bh7)|0)+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(w11,bl8)|0,mid=(mid=mid+Math.imul(w11,bh8)|0)+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0;w10=(c+(lo+Math.imul(w10,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w10,bh9)|0)+Math.imul(ah1,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah1,bh9)|0)+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=(mid=Math.imul(al9,bh2))+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(w17,bl3)|0,mid=(mid=mid+Math.imul(w17,bh3)|0)+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(w16,bl4)|0,mid=(mid=mid+Math.imul(w16,bh4)|0)+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(w15,bl5)|0,mid=(mid=mid+Math.imul(w15,bh5)|0)+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(w14,bl6)|0,mid=(mid=mid+Math.imul(w14,bh6)|0)+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(w13,bl7)|0,mid=(mid=mid+Math.imul(w13,bh7)|0)+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(w12,bl8)|0,mid=(mid=mid+Math.imul(w12,bh8)|0)+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0;w11=(c+(lo+Math.imul(w11,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w11,bh9)|0)+Math.imul(ah2,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah2,bh9)|0)+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=(mid=Math.imul(al9,bh3))+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(w17,bl4)|0,mid=(mid=mid+Math.imul(w17,bh4)|0)+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(w16,bl5)|0,mid=(mid=mid+Math.imul(w16,bh5)|0)+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(w15,bl6)|0,mid=(mid=mid+Math.imul(w15,bh6)|0)+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(w14,bl7)|0,mid=(mid=mid+Math.imul(w14,bh7)|0)+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(w13,bl8)|0,mid=(mid=mid+Math.imul(w13,bh8)|0)+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0;w12=(c+(lo+Math.imul(w12,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w12,bh9)|0)+Math.imul(ah3,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah3,bh9)|0)+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=(mid=Math.imul(al9,bh4))+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(w17,bl5)|0,mid=(mid=mid+Math.imul(w17,bh5)|0)+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(w16,bl6)|0,mid=(mid=mid+Math.imul(w16,bh6)|0)+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(w15,bl7)|0,mid=(mid=mid+Math.imul(w15,bh7)|0)+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(w14,bl8)|0,mid=(mid=mid+Math.imul(w14,bh8)|0)+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0;w13=(c+(lo+Math.imul(w13,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w13,bh9)|0)+Math.imul(ah4,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah4,bh9)|0)+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=(mid=Math.imul(al9,bh5))+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(w17,bl6)|0,mid=(mid=mid+Math.imul(w17,bh6)|0)+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(w16,bl7)|0,mid=(mid=mid+Math.imul(w16,bh7)|0)+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(w15,bl8)|0,mid=(mid=mid+Math.imul(w15,bh8)|0)+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0;w14=(c+(lo+Math.imul(w14,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w14,bh9)|0)+Math.imul(ah5,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah5,bh9)|0)+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=(mid=Math.imul(al9,bh6))+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(w17,bl7)|0,mid=(mid=mid+Math.imul(w17,bh7)|0)+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(w16,bl8)|0,mid=(mid=mid+Math.imul(w16,bh8)|0)+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0;w15=(c+(lo+Math.imul(w15,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w15,bh9)|0)+Math.imul(ah6,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah6,bh9)|0)+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=(mid=Math.imul(al9,bh7))+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(w17,bl8)|0,mid=(mid=mid+Math.imul(w17,bh8)|0)+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0;w16=(c+(lo+Math.imul(w16,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w16,bh9)|0)+Math.imul(ah7,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah7,bh9)|0)+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=(mid=Math.imul(al9,bh8))+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8);w17=(c+(lo+Math.imul(w17,w18)|0)|0)+((8191&(mid=(mid=mid+Math.imul(w17,bh9)|0)+Math.imul(ah8,w18)|0))<<13)|0;c=((hi=hi+Math.imul(ah8,bh9)|0)+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863;w18=(c+Math.imul(al9,w18)|0)+((8191&(mid=(mid=Math.imul(al9,bh9))+Math.imul(ah9,w18)|0))<<13)|0;return c=((hi=Math.imul(ah9,bh9))+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!=c&&(o[19]=c,out.length++),out};function bigMulTo(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){for(var ncarry=hncarry,hncarry=0,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var lo,r=(0|self.words[k-j])*(0|num.words[j]),rword=67108863&(lo=(lo=67108863&r)+rword|0);hncarry+=(ncarry=(ncarry=ncarry+(r/67108864|0)|0)+(lo>>>26)|0)>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out._strip()}function jumboMulTo(self,num,out){return bigMulTo(self,num,out)}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,res){var len=this.length+num.length,res=(10===this.length&&10===num.length?comb10MulTo:len<63?smallMulTo:len<1024?bigMulTo:jumboMulTo)(this,num,res);return res},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){var isNegNum=num<0;assert("number"==typeof(num=isNegNum?-num:num)),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),isNegNum?this.ineg():this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=function(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++)w[bit]=num.words[bit/26|0]>>>bit%26&1;return w}(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&0<=bits);var r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!=r){for(var carry=0,i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!=s){for(i=this.length-1;0<=i;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this._strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&0<=bits);var h=hint?(hint-hint%26)/26:0,r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0!==s)if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;for(var carry=0,i=this.length-1;0<=i&&(0!==carry||h<=i);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(s){assert("number"==typeof s&&0<=s);var r=s%26,s=(s-r)/26;return!(this.length<=s)&&!!(this.words[s]&1<<r)},BN.prototype.imaskn=function(s){assert("number"==typeof s&&0<=s);var r=s%26,s=(s-r)/26;return assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s?this:(0!=r&&s++,this.length=Math.min(s,this.length),0!=r&&(this.words[this.length-1]&=67108863^67108863>>>r<<r),this._strip())},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(num<67108864),num<0?this.isubn(-num):0!==this.negative?(1===this.length&&(0|this.words[0])<=num?(this.words[0]=num-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(num),this.negative=1),this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&67108864<=this.words[i];i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,--this.words[i+1];return this._strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var len=num.length+shift;this._expand(len);for(var carry=0,i=0;i<num.length;i++){var w=(0|this.words[i+shift])+carry,right=(0|num.words[i])*mul,carry=((w-=67108863&right)>>26)-(right/67108864|0);this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)carry=(w=(0|this.words[i+shift])+carry)>>26,this.words[i+shift]=67108863&w;if(0===carry)return this._strip();for(assert(-1===carry),i=carry=0;i<this.length;i++)carry=(w=-(0|this.words[i])+carry)>>26,this.words[i]=67108863&w;return this.negative=1,this._strip()},BN.prototype._wordDiv=function(diff,mode){var shift=this.length-diff.length,a=this.clone(),b=diff,bhi=0|b.words[b.length-1];0!=(shift=26-this._countBits(bhi))&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){(q=new BN(null)).length=1+m,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;0<=j;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]),qj=Math.min(qj/bhi|0,67108863);for(a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q._strip(),a._strip(),"div"!==mode&&0!=shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){return assert(!num.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),{div:div="mod"!==mode?res.div.neg():div,mod:res.mod}):0!=(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modrn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modrn(num.words[0]))}:this._wordDiv(num,mode);var div,mod,res},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(r2){var dm=this.divmod(r2);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(r2):dm.mod,cmp=r2.ushrn(1),r2=r2.andln(1),cmp=mod.cmp(cmp);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modrn=function(num){var isNegNum=num<0;assert((num=isNegNum?-num:num)<=67108863);for(var p=(1<<26)%num,acc=0,i=this.length-1;0<=i;i--)acc=(p*acc+(0|this.words[i]))%num;return isNegNum?-acc:acc},BN.prototype.modn=function(num){return this.modrn(num)},BN.prototype.idivn=function(num){var isNegNum=num<0;assert((num=isNegNum?-num:num)<=67108863);for(var carry=0,i=this.length-1;0<=i;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this._strip(),isNegNum?this.ineg():this},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());for(var x=this,y=p.clone(),x=0!==x.negative?x.umod(p):x.clone(),A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0==(x.words[0]&im)&&i<26;++i,im<<=1);if(0<i)for(x.iushrn(i);0<i--;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0==(y.words[0]&jm)&&j<26;++j,jm<<=1);if(0<j)for(y.iushrn(j);0<j--;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);0<=x.cmp(y)?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());for(var res,a=this,b=p.clone(),a=0!==a.negative?a.umod(p):a.clone(),x1=new BN(1),x2=new BN(0),delta=b.clone();0<a.cmpn(1)&&0<b.cmpn(1);){for(var i=0,im=1;0==(a.words[0]&im)&&i<26;++i,im<<=1);if(0<i)for(a.iushrn(i);0<i--;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0==(b.words[0]&jm)&&j<26;++j,jm<<=1);if(0<j)for(b.iushrn(j);0<j--;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);0<=a.cmp(b)?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}return(res=0===a.cmpn(1)?x1:x2).cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0;for(var shift=b.negative=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0)var t=a,a=b,b=t;else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0==(1&this.words[0])},BN.prototype.isOdd=function(){return 1==(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(s){assert("number"==typeof s);var q=s%26,s=(s-q)/26,q=1<<q;if(this.length<=s)return this._expand(1+s),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i],carry=(w+=carry)>>>26;w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(res){var w=res<0;return 0===this.negative||w?0===this.negative&&w?1:(this._strip(),res=1<this.length?1:(assert((res=w?-res:res)<=67108863,"Number is too big"),(w=0|this.words[0])===res?0:w<res?-1:1),0!==this.negative?0|-res:res):-1},BN.prototype.cmp=function(res){if(0!==this.negative&&0===res.negative)return-1;if(0===this.negative&&0!==res.negative)return 1;res=this.ucmp(res);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;0<=i;i--){var a=0|this.words[i],b=0|num.words[i];if(a!=b){a<b?res=-1:b<a&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return 0<=this.cmpn(num)},BN.prototype.gte=function(num){return 0<=this.cmp(num)},BN.prototype.ltn=function(num){return-1===this.cmpn(num)},BN.prototype.lt=function(num){return-1===this.cmp(num)},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){var prime;"string"==typeof m?(prime=BN._prime(m),this.m=prime.p,this.prime=prime):(assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null)}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(cmp){for(var rlen,r=cmp;this.split(r,this.tmp),(rlen=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):0<cmp?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=4194303&prev,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(4194303&next)<<4|prev>>>22,prev=next}0===(input.words[i-10]=prev>>>=22)&&10<input.length?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0==(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(move(a,a.umod(this.m)._forceRed(this)),a)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,res){this._verify2(a,res);res=a.add(res);return 0<=res.cmp(this.m)&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,res){this._verify2(a,res);res=a.iadd(res);return 0<=res.cmp(this.m)&&res.isub(this.m),res},Red.prototype.sub=function(a,res){this._verify2(a,res);res=a.sub(res);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,res){this._verify2(a,res);res=a.isub(res);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var pow=this.m.andln(3);if(assert(pow%2==1),3===pow){pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());for(var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=new BN(2*(z=this.m.bitLength())*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1)),r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(inv){inv=inv._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1).toRed(this);if(0===num.cmpn(1))return a.clone();var wnd=new Array(16);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;0<=i;i--){for(var word=num.words[i],j=start-1;0<=j;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!=bit||0!==current?(current<<=1,current|=bit,(4===++currentLen||0===i&&0===j)&&(res=this.mul(res,wnd[current]),current=currentLen=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(res){res=res.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(r){r=this.imod(r.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(u,res){if(u.isZero()||res.isZero())return u.words[0]=0,u.length=1,u;u=u.imul(res),res=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=u.isub(res).iushrn(this.shift),res=u;return 0<=u.cmp(this.m)?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(u,res){if(u.isZero()||res.isZero())return new BN(0)._forceRed(this);u=u.mul(res),res=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=u.isub(res).iushrn(this.shift),res=u;return 0<=u.cmp(this.m)?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===module||module,this)},{buffer:48}],47:[function(require,module,exports){var r;function Rand(rand){this.rand=rand}if(module.exports=function(len){return(r=r||new Rand(null)).generate(len)},(module.exports.Rand=Rand).prototype.generate=function(len){return this._rand(len)},Rand.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(arr){arr=new Uint8Array(arr);return self.crypto.getRandomValues(arr),arr}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(arr){arr=new Uint8Array(arr);return self.msCrypto.getRandomValues(arr),arr}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto=require("crypto");if("function"!=typeof crypto.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){}},{crypto:48}],48:[function(require,module,exports){},{}],49:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function asUInt32Array(buf){for(var len=(buf=!Buffer.isBuffer(buf)?Buffer.from(buf):buf).length/4|0,out=new Array(len),i=0;i<len;i++)out[i]=buf.readUInt32BE(4*i);return out}function scrubVec(v){for(;0<v.length;v++)v[0]=0}function cryptBlock(M,keySchedule,SUB_MIX,SBOX,nRounds){for(var t0,t1,t2,t3,SUB_MIX0=SUB_MIX[0],SUB_MIX1=SUB_MIX[1],SUB_MIX2=SUB_MIX[2],SUB_MIX3=SUB_MIX[3],s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4,round=1;round<nRounds;round++)t0=SUB_MIX0[s0>>>24]^SUB_MIX1[s1>>>16&255]^SUB_MIX2[s2>>>8&255]^SUB_MIX3[255&s3]^keySchedule[ksRow++],t1=SUB_MIX0[s1>>>24]^SUB_MIX1[s2>>>16&255]^SUB_MIX2[s3>>>8&255]^SUB_MIX3[255&s0]^keySchedule[ksRow++],t2=SUB_MIX0[s2>>>24]^SUB_MIX1[s3>>>16&255]^SUB_MIX2[s0>>>8&255]^SUB_MIX3[255&s1]^keySchedule[ksRow++],t3=SUB_MIX0[s3>>>24]^SUB_MIX1[s0>>>16&255]^SUB_MIX2[s1>>>8&255]^SUB_MIX3[255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[t0>>>=0,t1>>>=0,t2>>>=0,t3>>>=0]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G=function(){for(var d=new Array(256),j=0;j<256;j++)d[j]=j<128?j<<1:j<<1^283;for(var SBOX=[],INV_SBOX=[],SUB_MIX=[[],[],[],[]],INV_SUB_MIX=[[],[],[],[]],x=0,xi=0,i=0;i<256;++i){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;SBOX[x]=sx=sx>>>8^255&sx^99;var x2=d[INV_SBOX[sx]=x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx;SUB_MIX[0][x]=t<<24|t>>>8,SUB_MIX[1][x]=t<<16|t>>>16,SUB_MIX[2][x]=t<<8|t>>>24,SUB_MIX[3][x]=t,INV_SUB_MIX[0][sx]=(t=16843009*x8^65537*x4^257*x2^16843008*x)<<24|t>>>8,INV_SUB_MIX[1][sx]=t<<16|t>>>16,INV_SUB_MIX[2][sx]=t<<8|t>>>24,INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]])}return{SBOX:SBOX,INV_SBOX:INV_SBOX,SUB_MIX:SUB_MIX,INV_SUB_MIX:INV_SUB_MIX}}();function AES(key){this._key=asUInt32Array(key),this._reset()}AES.blockSize=16,AES.keySize=32,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var keyWords=this._key,keySize=keyWords.length,nRounds=keySize+6,ksRows=4*(nRounds+1),keySchedule=[],k=0;k<keySize;k++)keySchedule[k]=keyWords[k];for(k=keySize;k<ksRows;k++){var t=keySchedule[k-1];k%keySize==0?(t=G.SBOX[(t=t<<8|t>>>24)>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=RCON[k/keySize|0]<<24):6<keySize&&k%keySize==4&&(t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]),keySchedule[k]=keySchedule[k-keySize]^t}for(var invKeySchedule=[],ik=0;ik<ksRows;ik++){var ksR=ksRows-ik,tt=keySchedule[ksR-(ik%4?0:4)];invKeySchedule[ik]=ik<4||ksR<=4?tt:G.INV_SUB_MIX[0][G.SBOX[tt>>>24]]^G.INV_SUB_MIX[1][G.SBOX[tt>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[tt>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&tt]]}this._nRounds=nRounds,this._keySchedule=keySchedule,this._invKeySchedule=invKeySchedule},AES.prototype.encryptBlockRaw=function(M){return cryptBlock(M=asUInt32Array(M),this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(buf){var out=this.encryptBlockRaw(buf),buf=Buffer.allocUnsafe(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(buf){var out=(buf=asUInt32Array(buf))[1];buf[1]=buf[3],buf[3]=out;out=cryptBlock(buf,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds),buf=Buffer.allocUnsafe(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},module.exports.AES=AES},{"safe-buffer":288}],50:[function(require,module,exports){var aes=require("./aes"),Buffer=require("safe-buffer").Buffer,Transform=require("cipher-base"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("buffer-xor"),incr32=require("./incr32");function StreamCipher(mode,key,iv,decrypt){Transform.call(this);var ck=Buffer.alloc(4,0);this._cipher=new aes.AES(key);ck=this._cipher.encryptBlock(ck);this._ghash=new GHASH(ck),iv=function(out,iv,ivBits){if(12===iv.length)return out._finID=Buffer.concat([iv,Buffer.from([0,0,0,1])]),Buffer.concat([iv,Buffer.from([0,0,0,2])]);var ghash=new GHASH(ivBits),tail=iv.length,ivBits=tail%16;return ghash.update(iv),ivBits&&ghash.update(Buffer.alloc(ivBits=16-ivBits,0)),ghash.update(Buffer.alloc(8,0)),ivBits=8*tail,(tail=Buffer.alloc(8)).writeUIntBE(ivBits,0,8),ghash.update(tail),out._finID=ghash.state,out=Buffer.from(out._finID),incr32(out),out}(this,iv,ck),this._prev=Buffer.from(iv),this._cache=Buffer.allocUnsafe(0),this._secCache=Buffer.allocUnsafe(0),this._decrypt=decrypt,this._alen=0,this._len=0,this._mode=mode,this._authTag=null,this._called=!1}inherits(StreamCipher,Transform),StreamCipher.prototype._update=function(chunk){this._called||!this._alen||(out=16-this._alen%16)<16&&(out=Buffer.alloc(out,0),this._ghash.update(out)),this._called=!0;var out=this._mode.encrypt(this,chunk);return this._decrypt?this._ghash.update(chunk):this._ghash.update(out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=0;i<len;++i)out+=a[i]^b[i];return out}(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=tag,this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(this._decrypt||!Buffer.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length},module.exports=StreamCipher},{"./aes":49,"./ghash":54,"./incr32":55,"buffer-xor":92,"cipher-base":107,inherits:201,"safe-buffer":288}],51:[function(require,module,exports){var ciphers=require("./encrypter"),deciphers=require("./decrypter"),modes=require("./modes/list.json");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv,exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv,exports.listCiphers=exports.getCiphers=function(){return Object.keys(modes)}},{"./decrypter":52,"./encrypter":53,"./modes/list.json":63}],52:[function(require,module,exports){var AuthCipher=require("./authCipher"),Buffer=require("safe-buffer").Buffer,MODES=require("./modes"),StreamCipher=require("./streamCipher"),Transform=require("cipher-base"),aes=require("./aes"),ebtk=require("evp_bytestokey");function Decipher(mode,key,iv){Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=Buffer.from(iv),this._mode=mode,this._autopadding=!0}function Splitter(){this.cache=Buffer.allocUnsafe(0)}function createDecipheriv(config,password,iv){config=MODES[config.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=Buffer.from(iv)),"GCM"!==config.mode&&iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);if((password="string"==typeof password?Buffer.from(password):password).length!==config.key/8)throw new TypeError("invalid key length "+password.length);return"stream"===config.type?new StreamCipher(config.module,password,iv,!0):"auth"===config.type?new AuthCipher(config.module,password,iv,!0):new Decipher(config.module,password,iv)}require("inherits")(Decipher,Transform),Decipher.prototype._update=function(data){var thing;this._cache.add(data);for(var out=[];thing=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,thing),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return function(last){var padded=last[15];if(padded<1||16<padded)throw new Error("unable to decrypt data");var i=-1;for(;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");if(16!==padded)return last.slice(0,16-padded)}(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(16<this.cache.length)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(16<=this.cache.length)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache},exports.createDecipher=function(suite,password){var keys=MODES[suite.toLowerCase()];if(!keys)throw new TypeError("invalid suite type");return keys=ebtk(password,!1,keys.key,keys.iv),createDecipheriv(suite,keys.key,keys.iv)},exports.createDecipheriv=createDecipheriv},{"./aes":49,"./authCipher":50,"./modes":62,"./streamCipher":65,"cipher-base":107,evp_bytestokey:162,inherits:201,"safe-buffer":288}],53:[function(require,module,exports){var MODES=require("./modes"),AuthCipher=require("./authCipher"),Buffer=require("safe-buffer").Buffer,StreamCipher=require("./streamCipher"),Transform=require("cipher-base"),aes=require("./aes"),ebtk=require("evp_bytestokey");function Cipher(mode,key,iv){Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=Buffer.from(iv),this._mode=mode,this._autopadding=!0}require("inherits")(Cipher,Transform),Cipher.prototype._update=function(data){var thing;this._cache.add(data);for(var out=[];thing=this._cache.get();)thing=this._mode.encrypt(this,thing),out.push(thing);return Buffer.concat(out)};var PADDING=Buffer.alloc(16,16);function Splitter(){this.cache=Buffer.allocUnsafe(0)}function createCipheriv(config,password,iv){config=MODES[config.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if((password="string"==typeof password?Buffer.from(password):password).length!==config.key/8)throw new TypeError("invalid key length "+password.length);if("string"==typeof iv&&(iv=Buffer.from(iv)),"GCM"!==config.mode&&iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return new("stream"===config.type?StreamCipher:"auth"===config.type?AuthCipher:Cipher)(config.module,password,iv)}Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if(!chunk.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(15<this.cache.length){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=Buffer.allocUnsafe(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);return Buffer.concat([this.cache,padBuff])},exports.createCipheriv=createCipheriv,exports.createCipher=function(suite,password){var keys=MODES[suite.toLowerCase()];if(!keys)throw new TypeError("invalid suite type");return keys=ebtk(password,!1,keys.key,keys.iv),createCipheriv(suite,keys.key,keys.iv)}},{"./aes":49,"./authCipher":50,"./modes":62,"./streamCipher":65,"cipher-base":107,evp_bytestokey:162,inherits:201,"safe-buffer":288}],54:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,ZEROES=Buffer.alloc(16,0);function fromArray(out){var buf=Buffer.allocUnsafe(16);return buf.writeUInt32BE(out[0]>>>0,0),buf.writeUInt32BE(out[1]>>>0,4),buf.writeUInt32BE(out[2]>>>0,8),buf.writeUInt32BE(out[3]>>>0,12),buf}function GHASH(key){this.h=key,this.state=Buffer.alloc(16,0),this.cache=Buffer.allocUnsafe(0)}GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var buf,j,lsbVi,Vi=[(buf=this.h).readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)],Zi=[0,0,0,0],i=-1;++i<128;){for(0!=(this.state[~~(i/8)]&1<<7-i%8)&&(Zi[0]^=Vi[0],Zi[1]^=Vi[1],Zi[2]^=Vi[2],Zi[3]^=Vi[3]),lsbVi=0!=(1&Vi[3]),j=3;0<j;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsbVi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){var chunk;for(this.cache=Buffer.concat([this.cache,buf]);16<=this.cache.length;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,abl,0,bl])),this.state},module.exports=GHASH},{"safe-buffer":288}],55:[function(require,module,exports){module.exports=function(iv){for(var item,len=iv.length;len--;){if(255!==(item=iv.readUInt8(len))){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}},{}],56:[function(require,module,exports){var xor=require("buffer-xor");exports.encrypt=function(self,data){data=xor(data,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,out){var pad=self._prev;self._prev=out;out=self._cipher.decryptBlock(out);return xor(out,pad)}},{"buffer-xor":92}],57:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,xor=require("buffer-xor");function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}exports.encrypt=function(self,data,decrypt){for(var len,out=Buffer.allocUnsafe(0);data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=Buffer.allocUnsafe(0)),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}},{"buffer-xor":92,"safe-buffer":288}],58:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function encryptByte(self,byteParam,decrypt){for(var bit,value,i=-1,out=0;++i<8;)out+=(128&(value=self._cipher.encryptBlock(self._prev)[0]^(bit=byteParam&1<<7-i?128:0)))>>i%8,self._prev=function(buffer,value){var len=buffer.length,i=-1,out=Buffer.allocUnsafe(buffer.length);buffer=Buffer.concat([buffer,Buffer.from([value])]);for(;++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}(self._prev,decrypt?bit:value);return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=Buffer.allocUnsafe(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}},{"safe-buffer":288}],59:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=Buffer.allocUnsafe(len),i=-1;++i<len;)out[i]=function(self,byteParam,decrypt){var out=self._cipher.encryptBlock(self._prev)[0]^byteParam;return self._prev=Buffer.concat([self._prev.slice(1),Buffer.from([decrypt?byteParam:out])]),out}(self,chunk[i],decrypt);return out}},{"safe-buffer":288}],60:[function(require,module,exports){var xor=require("buffer-xor"),Buffer=require("safe-buffer").Buffer,incr32=require("../incr32");exports.encrypt=function(self,chunk){var chunkNum=Math.ceil(chunk.length/16),start=self._cache.length;self._cache=Buffer.concat([self._cache,Buffer.allocUnsafe(16*chunkNum)]);for(var i=0;i<chunkNum;i++){var out=function(self){var out=self._cipher.encryptBlockRaw(self._prev);return incr32(self._prev),out}(self),offset=start+16*i;self._cache.writeUInt32BE(out[0],offset+0),self._cache.writeUInt32BE(out[1],offset+4),self._cache.writeUInt32BE(out[2],offset+8),self._cache.writeUInt32BE(out[3],offset+12)}var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}},{"../incr32":55,"buffer-xor":92,"safe-buffer":288}],61:[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],62:[function(require,module,exports){var key,modeModules={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")},modes=require("./list.json");for(key in modes)modes[key].module=modeModules[modes[key].mode];module.exports=modes},{"./cbc":56,"./cfb":57,"./cfb1":58,"./cfb8":59,"./ctr":60,"./ecb":61,"./list.json":63,"./ofb":64}],63:[function(require,module,exports){module.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],64:[function(require,module,exports){!function(Buffer){!function(){var xor=require("buffer-xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,function(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,"buffer-xor":92}],65:[function(require,module,exports){var aes=require("./aes"),Buffer=require("safe-buffer").Buffer,Transform=require("cipher-base");function StreamCipher(mode,key,iv,decrypt){Transform.call(this),this._cipher=new aes.AES(key),this._prev=Buffer.from(iv),this._cache=Buffer.allocUnsafe(0),this._secCache=Buffer.allocUnsafe(0),this._decrypt=decrypt,this._mode=mode}require("inherits")(StreamCipher,Transform),StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()},module.exports=StreamCipher},{"./aes":49,"cipher-base":107,inherits:201,"safe-buffer":288}],66:[function(require,module,exports){var DES=require("browserify-des"),aes=require("browserify-aes/browser"),aesModes=require("browserify-aes/modes"),desModes=require("browserify-des/modes"),ebtk=require("evp_bytestokey");function createCipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:!0});throw new TypeError("invalid suite type")}exports.createCipher=exports.Cipher=function(suite,password){var keyLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,keys=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,keys=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,keys);return createCipheriv(suite,keys.key,keys.iv)},exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=function(suite,password){var keyLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,keys=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,keys=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,keys);return createDecipheriv(suite,keys.key,keys.iv)},exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=function(){return Object.keys(desModes).concat(aes.getCiphers())}},{"browserify-aes/browser":51,"browserify-aes/modes":62,"browserify-des":67,"browserify-des/modes":68,evp_bytestokey:162}],67:[function(require,module,exports){var CipherBase=require("cipher-base"),des=require("des.js"),inherits=require("inherits"),Buffer=require("safe-buffer").Buffer,modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};function DES(iv){CipherBase.call(this);var modeName=iv.mode.toLowerCase(),mode=modes[modeName],type=iv.decrypt?"decrypt":"encrypt",key=iv.key;Buffer.isBuffer(key)||(key=Buffer.from(key)),"des-ede"!==modeName&&"des-ede-cbc"!==modeName||(key=Buffer.concat([key,key.slice(0,8)]));iv=iv.iv;Buffer.isBuffer(iv)||(iv=Buffer.from(iv)),this._des=mode.create({key:key,iv:iv,type:type})}modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],inherits(module.exports=DES,CipherBase),DES.prototype._update=function(data){return Buffer.from(this._des.update(data))},DES.prototype._final=function(){return Buffer.from(this._des.final())}},{"cipher-base":107,"des.js":131,inherits:201,"safe-buffer":288}],68:[function(require,module,exports){exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0}},{}],69:[function(require,module,exports){!function(Buffer){!function(){var BN=require("bn.js"),randomBytes=require("randombytes");function getr(priv){for(var r,len=priv.modulus.byteLength();0<=(r=new BN(randomBytes(len))).cmp(priv.modulus)||!r.umod(priv.prime1)||!r.umod(priv.prime2););return r}function crt(p,priv){var blinds=function(priv){var r=getr(priv);return{blinder:r.toRed(BN.mont(priv.modulus)).redPow(new BN(priv.publicExponent)).fromRed(),unblinder:r.invm(priv.modulus)}}(priv),len=priv.modulus.byteLength(),h=new BN(p).mul(blinds.blinder).umod(priv.modulus),m1=h.toRed(BN.mont(priv.prime1)),m2=h.toRed(BN.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,h=priv.prime2,m1=m1.redPow(priv.exponent1).fromRed(),m2=m2.redPow(priv.exponent2).fromRed(),h=m1.isub(m2).imul(qinv).umod(p).imul(h);return m2.iadd(h).imul(blinds.unblinder).umod(priv.modulus).toArrayLike(Buffer,"be",len)}crt.getr=getr,module.exports=crt}.call(this)}.call(this,require("buffer").Buffer)},{"bn.js":46,buffer:93,randombytes:284}],70:[function(require,module,exports){module.exports=require("./browser/algorithms.json")},{"./browser/algorithms.json":71}],71:[function(require,module,exports){module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],72:[function(require,module,exports){module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],73:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,createHash=require("create-hash"),stream=require("readable-stream"),inherits=require("inherits"),sign=require("./sign"),verify=require("./verify"),algorithms=require("./algorithms.json");function Sign(data){stream.Writable.call(this);data=algorithms[data];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(data){stream.Writable.call(this);data=algorithms[data];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}Object.keys(algorithms).forEach(function(key){algorithms[key].id=Buffer.from(algorithms[key].id,"hex"),algorithms[key.toLowerCase()]=algorithms[key]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=Buffer.from(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(sig,enc){this.end();var hash=this._hash.digest(),sig=sign(hash,sig,this._hashType,this._signType,this._tag);return enc?sig.toString(enc):sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=Buffer.from(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,hash){"string"==typeof sig&&(sig=Buffer.from(sig,hash)),this.end();hash=this._hash.digest();return verify(sig,hash,key,this._signType,this._tag)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}},{"./algorithms.json":71,"./sign":74,"./verify":75,"create-hash":126,inherits:201,"readable-stream":90,"safe-buffer":288}],74:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,createHmac=require("create-hmac"),crt=require("browserify-rsa"),EC=require("elliptic").ec,BN=require("bn.js"),parseKeys=require("parse-asn1"),curves=require("./curves.json");function getKey(x,v,hbits,algo){(x=Buffer.from(x.toArray())).length<v.byteLength()&&(k=Buffer.alloc(v.byteLength()-x.length),x=Buffer.concat([k,x]));var k=hbits.length,hbits=function(out,zeros){out=(out=bits2int(out,zeros)).mod(zeros);out=Buffer.from(out.toArray());out.length<zeros.byteLength()&&(zeros=Buffer.alloc(zeros.byteLength()-out.length),out=Buffer.concat([zeros,out]));return out}(hbits,v);(v=Buffer.alloc(k)).fill(1);k=Buffer.alloc(k),k=createHmac(algo,k).update(v).update(Buffer.from([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest();return{k:k=createHmac(algo,k).update(v).update(Buffer.from([1])).update(x).update(hbits).digest(),v:v=createHmac(algo,k).update(v).digest()}}function bits2int(obits,shift){var bits=new BN(obits),shift=(obits.length<<3)-shift.bitLength();return 0<shift&&bits.ishrn(shift),bits}function makeKey(q,kv,algo){var t,k;do{for(t=Buffer.alloc(0);8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v])}while(k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(Buffer.from([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest(),-1!==k.cmp(q));return k}module.exports=function(hash,priv,hashType,signType,tag){if((priv=parseKeys(priv)).curve){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");return function(out,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));out=new EC(curveId).keyFromPrivate(priv.privateKey).sign(out);return Buffer.from(out.toDER())}(hash,priv)}if("dsa"===priv.type){if("dsa"!==signType)throw new Error("wrong private key type");return function(hash,priv,algo){var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=priv.params.g,r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);for(;!1===s;)k=makeKey(q,kv,algo),r=function(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}(g,k,p,q),0===(s=k.invm(q).imul(H.add(x.mul(r))).mod(q)).cmpn(0)&&(s=!1,r=new BN(0));return function(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r));128&s[0]&&(s=[0].concat(s));var res=[48,r.length+s.length+4,2,r.length];return res=res.concat(r,[2,s.length],s),Buffer.from(res)}(r,s)}(hash,priv,hashType)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");hash=Buffer.concat([tag,hash]);for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);return crt(pad,priv)},module.exports.getKey=getKey,module.exports.makeKey=makeKey},{"./curves.json":72,"bn.js":46,"browserify-rsa":69,"create-hmac":128,elliptic:143,"parse-asn1":236,"safe-buffer":288}],75:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,BN=require("bn.js"),EC=require("elliptic").ec,parseKeys=require("parse-asn1"),curves=require("./curves.json");function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}module.exports=function(sig,hash,pub,signType,red){if("ec"===(pub=parseKeys(pub)).type){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");return function(sig,hash,pubkey){var curve=curves[pubkey.data.algorithm.curve.join(".")];if(!curve)throw new Error("unknown curve "+pubkey.data.algorithm.curve.join("."));curve=new EC(curve),pubkey=pubkey.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return function(r,hash,w){var p=w.data.p,q=w.data.q,g=w.data.g,y=w.data.pub_key,montp=parseKeys.signature.decode(r,"der"),w=montp.s,r=montp.r;checkValue(w,q),checkValue(r,q);montp=BN.mont(p),w=w.invm(q);return 0===g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q).cmp(r)}(sig,hash,pub)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");hash=Buffer.concat([red,hash]);for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=Buffer.from(pad),red=BN.mont(pub.modulus),sig=(sig=new BN(sig).toRed(red)).redPow(new BN(pub.publicExponent)),sig=Buffer.from(sig.fromRed().toArray());var out=padNum<8?1:0,len=Math.min(sig.length,pad.length);for(sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}},{"./curves.json":72,"bn.js":46,elliptic:143,"parse-asn1":236,"safe-buffer":288}],76:[function(require,module,exports){"use strict";var codes={};function createErrorType(code,message,Base){var NodeError=function(_Base){var subClass,superClass;function NodeError(arg1,arg2,arg3){return _Base.call(this,function(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}(arg1,arg2,arg3))||this}return superClass=_Base,(subClass=NodeError).prototype=Object.create(superClass.prototype),(subClass.prototype.constructor=subClass).__proto__=superClass,NodeError}(Base=Base||Error);NodeError.prototype.name=Base.name,NodeError.prototype.code=code,codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;return expected=expected.map(function(i){return String(i)}),2<len?"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]:2===len?"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1]):"of ".concat(thing," ").concat(expected[0])}return"of ".concat(thing," ").concat(String(expected))}createErrorType("ERR_INVALID_OPT_VALUE",function(name,value){return'The value "'+value+'" is invalid for option "'+name+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(name,msg,actual){var determiner,pos,type;return"string"==typeof msg&&(type="not ",msg.substr(!pos||pos<0?0:+pos,type.length)===type)?(determiner="must not be",msg=msg.replace(/^not /,"")):determiner="must be",msg=function(str,search,this_len){return(void 0===this_len||this_len>str.length)&&(this_len=str.length),str.substring(this_len-search.length,this_len)===search}(name," argument")?"The ".concat(name," ").concat(determiner," ").concat(oneOf(msg,"type")):(type=function(str,search,start){return!((start="number"!=typeof start?0:start)+search.length>str.length)&&-1!==str.indexOf(search,start)}(name,".")?"property":"argument",'The "'.concat(name,'" ').concat(type," ").concat(determiner," ").concat(oneOf(msg,"type"))),msg+=". Received type ".concat(typeof actual)},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(name){return"The "+name+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(name){return"Cannot call "+name+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(arg){return"Unknown encoding: "+arg},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=codes},{}],77:[function(require,module,exports){!function(process){!function(){"use strict";var objectKeys=Object.keys||function(obj){var key,keys=[];for(key in obj)keys.push(key);return keys};module.exports=Duplex;var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");require("inherits")(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),this.allowHalfOpen=!0,options&&(!1===options.readable&&(this.readable=!1),!1===options.writable&&(this.writable=!1),!1===options.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}})}.call(this)}.call(this,require("_process"))},{"./_stream_readable":79,"./_stream_writable":81,_process:243,inherits:201}],78:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}require("inherits")(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":80,inherits:201}],79:[function(require,module,exports){!function(process,global){!function(){"use strict";var Duplex;(module.exports=Readable).ReadableState=ReadableState;function EElistenerCount(emitter,type){return emitter.listeners(type).length}require("events").EventEmitter;var Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var StringDecoder,createReadableStreamAsyncIterator,from,_require$codes=require("util"),debug=_require$codes&&_require$codes.debuglog?_require$codes.debuglog("stream"):function(){},BufferList=require("./internal/streams/buffer_list"),destroyImpl=require("./internal/streams/destroy"),getHighWaterMark=require("./internal/streams/state").getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;require("inherits")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex"),"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!(options=options||{}).objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder=StringDecoder||require("string_decoder/").StringDecoder,this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var er,state=stream._readableState;if(null===chunk)state.reading=!1,function(stream,state){var chunk;debug("onEofChunk"),state.ended||(!state.decoder||(chunk=state.decoder.end())&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length),state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,state.emittedReadable||(state.emittedReadable=!0,emitReadable_(stream))))}(stream,state);else if(er=!skipChunkCheck?function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk));return er}(state,chunk):er)errorOrDestroy(stream,er);else if(state.objectMode||chunk&&0<chunk.length)if("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront)state.endEmitted?errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(stream,state,chunk,!0);else if(state.ended)errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed)return!1;state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}else addToFront||(state.reading=!1,maybeReadMore(stream,state));return!state.ended&&(state.length<state.highWaterMark||0===state.length)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(state.awaitDrain=0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){var decoder=new(StringDecoder=StringDecoder||require("string_decoder/").StringDecoder)(enc);this._readableState.decoder=decoder,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=decoder.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var MAX_HWM=1073741824;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?(state.flowing&&state.length?state.buffer.head.data:state).length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return MAX_HWM<=n?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable),state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process.nextTick(emitReadable_,stream))}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),state.destroyed||!state.length&&!state.ended||(stream.emit("readable"),state.emittedReadable=!1),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&0===state.length);){var len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}function updateReadableListening(self){var state=self._readableState;state.readableListening=0<self.listenerCount("readable"),state.resumeScheduled&&!state.paused?state.flowing=!0:0<self.listenerCount("data")&&self.resume()}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.first():state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process.nextTick(endReadableNT,state,stream))}function endReadableNT(wState,stream){debug("endReadableNT",wState.endEmitted,wState.length),wState.endEmitted||0!==wState.length||(wState.endEmitted=!0,stream.readable=!1,stream.emit("end"),!wState.autoDestroy||(!(wState=stream._writableState)||wState.autoDestroy&&wState.finished)&&stream.destroy())}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&((0!==state.highWaterMark?state.length>=state.highWaterMark:0<state.length)||state.ended))return debug("read: emitReadable",state.length,state.ended),(0===state.length&&state.ended?endReadable:emitReadable)(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret=state.needReadable;return debug("need readable",ret),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",ret=!0),state.ended||state.reading?debug("reading or ended",ret=!1):ret&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=0<n?fromList(n,state):null)?(state.needReadable=state.length<=state.highWaterMark,n=0):(state.length-=n,state.awaitDrain=0),0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(dest,endFn){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,endFn);endFn=(!endFn||!1!==endFn.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;function ondata(ret){debug("ondata");ret=dest.write(ret);debug("dest.write",ret),!1===ret&&((1===state.pipesCount&&state.pipes===dest||1<state.pipesCount&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",state.awaitDrain),state.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&errorOrDestroy(dest,er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?Array.isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest=dest||state.pipes,state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}var index=indexOf(state.pipes,dest);return-1===index||(state.pipes.splice(index,1),--state.pipesCount,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo)),this},Readable.prototype.on=function(ev,state){var res=Stream.prototype.on.call(this,ev,state),state=this._readableState;return"data"===ev?(state.readableListening=0<this.listenerCount("readable"),!1!==state.flowing&&this.resume()):"readable"===ev&&(state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):state.reading||process.nextTick(nReadingNextTick,this))),res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(ev,res){res=Stream.prototype.removeListener.call(this,ev,res);return"readable"===ev&&process.nextTick(updateReadableListening,this),res},Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==ev&&void 0!==ev||process.nextTick(updateReadableListening,this),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(resume_,stream,state))}(this,state)),state.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(stream){var i,_this=this,state=this._readableState,paused=!1;for(i in stream.on("end",function(){var chunk;debug("wrapped end"),!state.decoder||state.ended||(chunk=state.decoder.end())&&chunk.length&&_this.push(chunk),_this.push(null)}),stream.on("data",function(chunk){debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return(createReadableStreamAsyncIterator=void 0===createReadableStreamAsyncIterator?require("./internal/streams/async_iterator"):createReadableStreamAsyncIterator)(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(state){this._readableState&&(this._readableState.flowing=state)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(iterable,opts){return(from=void 0===from?require("./internal/streams/from"):from)(Readable,iterable,opts)})}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":76,"./_stream_duplex":77,"./internal/streams/async_iterator":82,"./internal/streams/buffer_list":83,"./internal/streams/destroy":84,"./internal/streams/from":86,"./internal/streams/state":88,"./internal/streams/stream":89,_process:243,buffer:93,events:161,inherits:201,"string_decoder/":313,util:48}],80:[function(require,_require$codes,exports){"use strict";_require$codes.exports=Transform;var _require$codes=require("../errors").codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require("./_stream_duplex");function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(rs,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null,(ts.writecb=null)!=data&&this.push(data),cb(rs),(rs=this._readableState).reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(er,data){done(_this,er,data)})}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}require("inherits")(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(chunk,rs,cb){var ts=this._transformState;ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=rs,ts.transforming||(rs=this._readableState,(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark))},Transform.prototype._read=function(n){var ts=this._transformState;null===ts.writechunk||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))},Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})}},{"../errors":76,"./_stream_duplex":77,inherits:201}],81:[function(require,module,exports){!function(process,global){!function(){"use strict";function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree.next=corkReq}(_this,state)}}var Duplex;(module.exports=Writable).WritableState=WritableState;var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=require("./internal/streams/destroy"),getHighWaterMark=require("./internal/streams/state").getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING,errorOrDestroy=destroyImpl.errorOrDestroy;function nop(){}function WritableState(options,stream,noDecode){Duplex=Duplex||require("./_stream_duplex"),"boolean"!=typeof noDecode&&(noDecode=stream instanceof Duplex),this.objectMode=!!(options=options||{}).objectMode,noDecode&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",noDecode),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;noDecode=(this.destroyed=!1)===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,finished){var state=stream._writableState,sync=state.sync,cb=state.writecb;if("function"!=typeof cb)throw new ERR_MULTIPLE_CALLBACK;(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0})(state),finished?function(stream,state,sync,er,cb){--state.pendingcb,sync?(process.nextTick(cb,er),process.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er)):(cb(er),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er),finishMaybe(stream,state))}(stream,state,sync,finished,cb):((finished=needFinish(state)||stream.destroyed)||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?process.nextTick(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb))}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){var isDuplex=this instanceof(Duplex=Duplex||require("./_stream_duplex"));if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var holder=state.bufferedRequestCount,buffer=new Array(holder),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)(buffer[count]=entry).isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&errorOrDestroy(stream,err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function finishMaybe(stream,rState){var need=needFinish(rState);return need&&(function(stream,state){state.prefinished||state.finalCalled||("function"!=typeof stream._final||state.destroyed?(state.prefinished=!0,stream.emit("prefinish")):(state.pendingcb++,state.finalCalled=!0,process.nextTick(callFinal,stream,state)))}(stream,rState),0===rState.pendingcb&&(rState.finished=!0,stream.emit("finish"),!rState.autoDestroy||(!(rState=stream._readableState)||rState.autoDestroy&&rState.endEmitted)&&stream.destroy())),need}require("inherits")(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(chunk,encoding,cb){var isBuf,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(isBuf=chunk,Buffer.isBuffer(isBuf)||isBuf instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),encoding=isBuf?"buffer":encoding||state.defaultEncoding,"function"!=typeof cb&&(cb=nop),state.ending?function(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er),process.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var er;return null===chunk?er=new ERR_STREAM_NULL_VALUES:"string"==typeof chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)),!er||(errorOrDestroy(stream,er),void process.nextTick(cb,er))}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){isBuf||(last=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding),chunk!==last&&(isBuf=!0,encoding="buffer",chunk=last));var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);{var last;state.writing||state.corked?(last=state.lastBufferedRequest,state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1):doWrite(stream,state,!1,len,chunk,encoding,cb)}return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;return"function"==typeof chunk?(cb=chunk,encoding=chunk=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){cb(err)}}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":76,"./_stream_duplex":77,"./internal/streams/destroy":84,"./internal/streams/state":88,"./internal/streams/stream":89,_process:243,buffer:93,inherits:201,"util-deprecate":317}],82:[function(require,module,exports){!function(process){!function(){"use strict";var _Object$setPrototypeO;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var finished=require("./end-of-stream"),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function readAndResolve(iter){var data,resolve=iter[kLastResolve];null===resolve||null!==(data=iter[kStream].read())&&(iter[kLastPromise]=null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve({value:data,done:!1}))}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_defineProperty(_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var _this=this,data=this[kError];if(null!==data)return Promise.reject(data);if(this[kEnded])return Promise.resolve({value:void 0,done:!0});if(this[kStream].destroyed)return new Promise(function(resolve,reject){process.nextTick(function(){_this[kError]?reject(_this[kError]):resolve({value:void 0,done:!0})})});var promise,data=this[kLastPromise];if(data)promise=new Promise(function(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){iter[kEnded]?resolve({value:void 0,done:!0}):iter[kHandlePromise](resolve,reject)},reject)}}(data,this));else{data=this[kStream].read();if(null!==data)return Promise.resolve({value:data,done:!1});promise=new Promise(this[kHandlePromise])}return this[kLastPromise]=promise}},Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){err?reject(err):resolve({value:void 0,done:!0})})})}),_Object$setPrototypeO),AsyncIteratorPrototype);module.exports=function(stream){var _Object$create,iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(_Object$create={},kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve({value:data,done:!1})):(iterator[kLastResolve]=resolve,iterator[kLastReject]=reject)},writable:!0}),_Object$create));return iterator[kLastPromise]=null,finished(stream,function(resolve){if(resolve&&"ERR_STREAM_PREMATURE_CLOSE"!==resolve.code){var reject=iterator[kLastReject];return null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(resolve)),void(iterator[kError]=resolve)}resolve=iterator[kLastResolve];null!==resolve&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,resolve({value:void 0,done:!(iterator[kLastReject]=null)})),iterator[kEnded]=!0}),stream.on("readable",function(iter){process.nextTick(readAndResolve,iter)}.bind(null,iterator)),iterator}}.call(this)}.call(this,require("_process"))},{"./end-of-stream":85,_process:243}],83:[function(require,module,exports){"use strict";function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Buffer=require("buffer").Buffer,inspect=require("util").inspect,custom=inspect&&inspect.custom||"inspect";module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}var Constructor,protoProps,staticProps;return Constructor=BufferList,(protoProps=[{key:"push",value:function(entry){entry={data:entry,next:null};0<this.length?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length}},{key:"unshift",value:function(entry){entry={data:entry,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret}},{key:"concat",value:function(n){if(0===this.length)return Buffer.alloc(0);for(var src,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,offset=i,Buffer.prototype.copy.call(src,ret,offset),i+=p.data.length,p=p.next;return ret}},{key:"consume",value:function(n,hasStrings){var ret;return n<this.head.data.length?(ret=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):ret=n===this.head.data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n),ret}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p).data=str.slice(nb);break}++c}return this.length-=c,ret}},{key:"_getBuffer",value:function(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p).data=buf.slice(nb);break}++c}return this.length-=c,ret}},{key:custom,value:function(_,options){return inspect(this,_objectSpread({},options,{depth:0,customInspect:!1}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),BufferList}()},{buffer:93,util:48}],84:[function(require,module,exports){!function(process){!function(){"use strict";function emitErrorAndCloseNT(self,err){emitErrorNT(self,err),emitCloseNT(self)}function emitCloseNT(self){self._writableState&&!self._writableState.emitClose||self._readableState&&!self._readableState.emitClose||self.emit("close")}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?cb?cb(err):err&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,err)):process.nextTick(emitErrorNT,this,err)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?_this._writableState?_this._writableState.errorEmitted?process.nextTick(emitCloseNT,_this):(_this._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,_this,err)):process.nextTick(emitErrorAndCloseNT,_this,err):cb?(process.nextTick(emitCloseNT,_this),cb(err)):process.nextTick(emitCloseNT,_this)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(stream,err){var rState=stream._readableState,wState=stream._writableState;rState&&rState.autoDestroy||wState&&wState.autoDestroy?stream.destroy(err):stream.emit("error",err)}}}.call(this)}.call(this,require("_process"))},{_process:243}],85:[function(require,module,exports){"use strict";var ERR_STREAM_PREMATURE_CLOSE=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function noop(){}module.exports=function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);callback=function(callback){var called=!1;return function(){if(!called){called=!0;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback.apply(this,args)}}}(callback||noop);function onlegacyfinish(){stream.writable||onfinish()}function onfinish(){writableEnded=!(writable=!1),readable||callback.call(stream)}function onend(){readableEnded=!(readable=!1),writable||callback.call(stream)}function onerror(err){callback.call(stream,err)}function onclose(){var err;return readable&&!readableEnded?(stream._readableState&&stream._readableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):writable&&!writableEnded?(stream._writableState&&stream._writableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):void 0}function onrequest(){stream.req.on("finish",onfinish)}var readable=(opts=opts||{}).readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,writableEnded=stream._writableState&&stream._writableState.finished,readableEnded=stream._readableState&&stream._readableState.endEmitted;return function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!stream._writableState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}}},{"../../../errors":76}],86:[function(require,module,exports){module.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],87:[function(require,module,exports){"use strict";var eos;var _require$codes=require("../../../errors").codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function destroyer(stream,reading,writing,callback){callback=function(callback){var called=!1;return function(){called||(called=!0,callback.apply(void 0,arguments))}}(callback);var closed=!1;stream.on("close",function(){closed=!0}),(eos=void 0===eos?require("./end-of-stream"):eos)(stream,{readable:reading,writable:writing},function(err){return err?callback(err):(closed=!0,void callback())});var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?stream.abort():"function"==typeof stream.destroy?stream.destroy():void callback(err||new ERR_STREAM_DESTROYED("pipe"))}}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}module.exports=function(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++)streams[_key]=arguments[_key];var error,callback=function(streams){return!streams.length||"function"!=typeof streams[streams.length-1]?noop:streams.pop()}(streams);if((streams=Array.isArray(streams[0])?streams[0]:streams).length<2)throw new ERR_MISSING_ARGS("streams");var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;return destroyer(stream,reading,0<i,function(err){error=error||err,err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))})});return streams.reduce(pipe)}},{"../../../errors":76,"./end-of-stream":85}],88:[function(require,module,exports){"use strict";var ERR_INVALID_OPT_VALUE=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;module.exports={getHighWaterMark:function(state,hwm,duplexKey,isDuplex){if(null==(hwm=function(options,isDuplex,duplexKey){return null!=options.highWaterMark?options.highWaterMark:isDuplex?options[duplexKey]:null}(hwm,isDuplex,duplexKey)))return state.objectMode?16:16384;if(!isFinite(hwm)||Math.floor(hwm)!==hwm||hwm<0)throw new ERR_INVALID_OPT_VALUE(isDuplex?duplexKey:"highWaterMark",hwm);return Math.floor(hwm)}}},{"../../../errors":76}],89:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:161}],90:[function(require,module,exports){(((exports=module.exports=require("./lib/_stream_readable.js")).Stream=exports).Readable=exports).Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":77,"./lib/_stream_passthrough.js":78,"./lib/_stream_readable.js":79,"./lib/_stream_transform.js":80,"./lib/_stream_writable.js":81,"./lib/internal/streams/end-of-stream.js":85,"./lib/internal/streams/pipeline.js":87}],91:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{dup:48}],92:[function(require,module,exports){!function(Buffer){!function(){module.exports=function(a,b){for(var length=Math.min(a.length,b.length),buffer=new Buffer(length),i=0;i<length;++i)buffer[i]=a[i]^b[i];return buffer}}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93}],93:[function(require,module,exports){!function(Buffer){!function(){"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function createBuffer(buf){if(K_MAX_LENGTH<buf)throw new RangeError('The value "'+buf+'" is invalid for option "size"');buf=new Uint8Array(buf);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"!=typeof arg)return from(arg,encodingOrOffset,length);if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,actual){"string"==typeof actual&&""!==actual||(actual="utf8");if(!Buffer.isEncoding(actual))throw new TypeError("Unknown encoding: "+actual);var length=0|byteLength(string,actual),buf=createBuffer(length),actual=buf.write(string,actual);actual!==length&&(buf=buf.slice(0,actual));return buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return function(array,byteOffset,buf){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(buf||0))throw new RangeError('"length" is outside of buffer bounds');buf=void 0===byteOffset&&void 0===buf?new Uint8Array(array):void 0===buf?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,buf);return buf.__proto__=Buffer.prototype,buf}(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');var b=value.valueOf&&value.valueOf();if(null!=b&&b!==value)return Buffer.from(b,encodingOrOffset,length);b=function(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(void 0!==obj.length)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function checked(length){if(K_MAX_LENGTH<=length)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);var len=string.length,mustMatch=2<arguments.length&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((start=void 0===start||start<0?0:start)>this.length)return"";if((end=void 0===end||end>this.length?this.length:end)<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding=encoding||"utf8";;)switch(encoding){case"hex":return function(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0);(!end||end<0||len<end)&&(end=len);for(var out="",i=start;i<end;++i)out+=function(n){return n<16?"0"+n.toString(16):n.toString(16)}(buf[i]);return out}(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return function(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}(this,start,end);case"latin1":case"binary":return function(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}(this,start,end);case"base64":return function(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):2147483647<byteOffset?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),(byteOffset=(byteOffset=numberIsNaN(byteOffset=+byteOffset)?dir?0:buffer.length-1:byteOffset)<0?buffer.length+byteOffset:byteOffset)>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?(dir?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;arrLength/=indexSize=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir)for(var foundIndex=-1,i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(i-(foundIndex=-1===foundIndex?i:foundIndex)+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1;else for(i=byteOffset=arrLength<byteOffset+valLength?arrLength-valLength:byteOffset;0<=i;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)lo=str.charCodeAt(i),hi=lo>>8,lo=lo%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=239<firstByte?4:223<firstByte?3:191<firstByte?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&127<(tempCodePoint=(31&firstByte)<<6|63&secondByte)&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&2047<(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)&&(tempCodePoint<55296||57343<tempCodePoint)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&65535<(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):65535<codePoint&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.kMaxLength=K_MAX_LENGTH,(Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=from,Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return assertSize(size),!(size<=0)&&void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)},Buffer.allocUnsafe=allocUnsafe,Buffer.allocUnsafeSlow=allocUnsafe,Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);if(void 0===length)for(i=length=0;i<list.length;++i)length+=list[i].length;for(var buffer=Buffer.allocUnsafe(length),pos=0,i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toLocaleString=Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES,str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();return this.length>max&&(str+=" ... "),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),(start=void 0===start?0:start)<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisEnd<=thisStart&&end<=start)return 0;if(thisEnd<=thisStart)return-1;if(end<=start)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||remaining<length)&&(length=remaining),0<string.length&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding=encoding||"utf8";for(var loweredCase=!1;;)switch(encoding){case"hex":return function(buf,string,offset,length){offset=Number(offset)||0;var strLen=buf.length-offset;(!length||strLen<(length=Number(length)))&&(length=strLen),(strLen=string.length)/2<length&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}(this,string,offset,length);case"utf8":case"utf-8":return function(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return asciiWrite(this,string,offset,length);case"base64":return function(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(length<offset+ext)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(max<value||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,newBuf){var len=this.length;(start=~~start)<0?(start+=len)<0&&(start=0):len<start&&(start=len),(newBuf=void 0===newBuf?len:~~newBuf)<0?(newBuf+=len)<0&&(newBuf=0):len<newBuf&&(newBuf=len),newBuf<start&&(newBuf=start);newBuf=this.subarray(start,newBuf);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;0<byteLength&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return(mul*=128)<=val&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];0<i&&(mul*=256);)val+=this[offset+--i]*mul;return(mul*=128)<=val&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(val,noAssert){val>>>=0,noAssert||checkOffset(val,2,this.length);val=this[val]|this[val+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(val,noAssert){val>>>=0,noAssert||checkOffset(val,2,this.length);val=this[val+1]|this[val]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,limit){value=+value,offset>>>=0,limit||checkInt(this,value,offset,byteLength,(limit=Math.pow(2,8*byteLength-1))-1,-limit);var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,limit){value=+value,offset>>>=0,limit||checkInt(this,value,offset,byteLength,(limit=Math.pow(2,8*byteLength-1))-1,-limit);var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),this[offset]=255&(value=value<0?255+value+1:value),offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=(value=value<0?4294967295+value+1:value)>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start=start||0,end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),(end=0<end&&end<start?start:end)===start)return 0;if(0===target.length||0===this.length)return 0;if((targetStart=targetStart||0)<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length);var len=(end=target.length-targetStart<end-start?target.length-targetStart+start:end)-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;0<=i;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var code;1===val.length&&(code=val.charCodeAt(0),("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code))}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,"number"==typeof(val=val||0))for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(55295<(codePoint=string.charCodeAt(i))&&codePoint<57344){if(!leadSurrogate){if(56319<codePoint){-1<(units-=3)&&bytes.push(239,191,189);continue}if(i+1===length){-1<(units-=3)&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){-1<(units-=3)&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&-1<(units-=3)&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if(--units<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}}.call(this)}.call(this,require("buffer").Buffer)},{"base64-js":44,buffer:93,ieee754:200}],94:[function(require,module,exports){"use strict";var GetIntrinsic=require("get-intrinsic"),callBind=require("./"),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function(name,intrinsic){intrinsic=GetIntrinsic(name,!!intrinsic);return"function"==typeof intrinsic&&-1<$indexOf(name,".prototype.")?callBind(intrinsic):intrinsic}},{"./":95,"get-intrinsic":166}],95:[function(applyBind,module,exports){"use strict";var bind=applyBind("function-bind"),applyBind=applyBind("get-intrinsic"),$apply=applyBind("%Function.prototype.apply%"),$call=applyBind("%Function.prototype.call%"),$reflectApply=applyBind("%Reflect.apply%",!0)||bind.call($call,$apply),$gOPD=applyBind("%Object.getOwnPropertyDescriptor%",!0),$defineProperty=applyBind("%Object.defineProperty%",!0),$max=applyBind("%Math.max%");if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}module.exports=function(originalFunction){var func=$reflectApply(bind,$call,arguments);return $gOPD&&$defineProperty&&$gOPD(func,"length").configurable&&$defineProperty(func,"length",{value:1+$max(0,originalFunction.length-(arguments.length-1))}),func};applyBind=function(){return $reflectApply(bind,$apply,arguments)};$defineProperty?$defineProperty(module.exports,"apply",{value:applyBind}):module.exports.apply=applyBind},{"function-bind":165,"get-intrinsic":166}],96:[function(require,module,exports){"use strict";exports.Commented=require("./commented"),exports.Diagnose=require("./diagnose"),exports.Decoder=require("./decoder"),exports.Encoder=require("./encoder"),exports.Simple=require("./simple"),exports.Tagged=require("./tagged"),exports.Map=require("./map"),exports.comment=exports.Commented.comment,exports.decodeAll=exports.Decoder.decodeAll,exports.decodeFirst=exports.Decoder.decodeFirst,exports.decodeAllSync=exports.Decoder.decodeAllSync,exports.decodeFirstSync=exports.Decoder.decodeFirstSync,exports.diagnose=exports.Diagnose.diagnose,exports.encode=exports.Encoder.encode,exports.encodeCanonical=exports.Encoder.encodeCanonical,exports.encodeOne=exports.Encoder.encodeOne,exports.encodeAsync=exports.Encoder.encodeAsync,exports.decode=exports.Decoder.decodeFirstSync,exports.leveldb={decode:exports.Decoder.decodeFirstSync,encode:exports.Encoder.encode,buffer:!0,name:"cbor"},exports.reset=function(){exports.Encoder.reset(),exports.Tagged.reset()}},{"./commented":97,"./decoder":99,"./diagnose":100,"./encoder":101,"./map":102,"./simple":103,"./tagged":104}],97:[function(require,module,exports){"use strict";var stream=require("stream");const utils=require("./utils"),Decoder=require("./decoder"),NoFilter=require("nofilter"),{MT,NUMBYTES,SYMS}=require("./constants"),Buffer=require("buffer")["Buffer"];function plural(c){return 1<c?"s":""}class Commented extends stream.Transform{constructor(options={}){const{depth=1,max_depth=10,no_summary=!1,tags={},preferWeb,encoding,...superOpts}=options;super({...superOpts,readableObjectMode:!1,writableObjectMode:!1}),this.depth=depth,this.max_depth=max_depth,this.all=new NoFilter,tags[24]||(tags[24]=this._tag_24.bind(this)),this.parser=new Decoder({tags:tags,max_depth:max_depth,preferWeb:preferWeb,encoding:encoding}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),no_summary||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(v){const c=new Commented({depth:this.depth+1,no_summary:!0});c.on("data",b=>this.push(b)),c.on("error",er=>this.emit("error",er)),c.end(v)}_transform(fresh,encoding,cb){this.parser.write(fresh,encoding,cb)}_flush(cb){return this.parser._flush(cb)}static comment(input,options={},cb=null){if(null==input)throw new Error("input required");({options,cb}=function(opts,cb){switch(typeof opts){case"function":return{options:{},cb:opts};case"string":return{options:{encoding:opts},cb:cb};case"number":return{options:{max_depth:opts},cb:cb};case"object":return{options:opts||{},cb:cb};default:throw new TypeError("Unknown option type")}}(options,cb));const bs=new NoFilter,{encoding="hex",...opts}=options,d=new Commented(opts);let p=null;return"function"==typeof cb?(d.on("end",()=>{cb(null,bs.toString("utf8"))}),d.on("error",cb)):p=new Promise((resolve,reject)=>{d.on("end",()=>{resolve(bs.toString("utf8"))}),d.on("error",reject)}),d.pipe(bs),utils.guessEncoding(input,encoding).pipe(d),p}_on_error(er){this.push("ERROR: "),this.push(er.toString()),this.push("\n")}_on_read(hex){this.all.write(hex);hex=hex.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(hex);let ind=2*(this.max_depth-this.depth)-hex.length;ind<1&&(ind=1),this.push(new Array(ind+1).join(" ")),this.push("-- ")}_on_more(mt,len,parent_mt,pos){let desc="";switch(this.depth++,mt){case MT.POS_INT:desc="Positive number,";break;case MT.NEG_INT:desc="Negative number,";break;case MT.ARRAY:desc="Array, length";break;case MT.MAP:desc="Map, count";break;case MT.BYTE_STRING:desc="Bytes, length";break;case MT.UTF8_STRING:desc="String, length";break;case MT.SIMPLE_FLOAT:desc=1===len?"Simple value,":"Float,"}this.push(`${desc} next ${len} byte${plural(len)}\n`)}_on_start_string(mt,len,parent_mt,pos){let desc="";switch(this.depth++,mt){case MT.BYTE_STRING:desc="Bytes, length: "+len;break;case MT.UTF8_STRING:desc="String, length: "+len.toString()}this.push(desc+`
`)}_on_start(mt,tag,parent_mt,pos){switch(this.depth++,parent_mt){case MT.ARRAY:this.push(`[${pos}], `);break;case MT.MAP:pos%2?this.push(`{Val:${Math.floor(pos/2)}}, `):this.push(`{Key:${Math.floor(pos/2)}}, `)}switch(mt){case MT.TAG:this.push("Tag #"+tag),24===tag&&this.push(" Encoded CBOR data item");break;case MT.ARRAY:tag===SYMS.STREAM?this.push("Array (streaming)"):this.push(`Array, ${tag} item`+plural(tag));break;case MT.MAP:tag===SYMS.STREAM?this.push("Map (streaming)"):this.push(`Map, ${tag} pair`+plural(tag));break;case MT.BYTE_STRING:this.push("Bytes (streaming)");break;case MT.UTF8_STRING:this.push("String (streaming)")}this.push("\n")}_on_stop(mt){this.depth--}_on_value(val,str,pos,ai){if(val!==SYMS.BREAK)switch(str){case MT.ARRAY:this.push(`[${pos}], `);break;case MT.MAP:pos%2?this.push(`{Val:${Math.floor(pos/2)}}, `):this.push(`{Key:${Math.floor(pos/2)}}, `)}str=utils.cborValueToString(val,-1/0);switch("string"==typeof val||Buffer.isBuffer(val)?(0<val.length&&(this.push(str),this.push("\n")),this.depth--):(this.push(str),this.push("\n")),ai){case NUMBYTES.ONE:case NUMBYTES.TWO:case NUMBYTES.FOUR:case NUMBYTES.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}module.exports=Commented},{"./constants":98,"./decoder":99,"./utils":105,buffer:93,nofilter:215,stream:298}],98:[function(require,module,exports){"use strict";exports.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},exports.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},exports.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},exports.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},exports.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},exports.SHIFT32=4294967296,exports.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(exports.SHIFT32)}},{}],99:[function(require,module,exports){"use strict";var BinaryParseStream=require("../vendor/binary-parse-stream");const Tagged=require("./tagged"),Simple=require("./simple"),utils=require("./utils"),NoFilter=require("nofilter");require("stream");const{MT,NUMBYTES,SYMS,BI}=require("./constants"),Buffer=require("buffer")["Buffer"],COUNT=Symbol("count"),MAJOR=Symbol("major type"),ERROR=Symbol("error"),NOT_FOUND=Symbol("not found");function parentArray(parent,typ,count){const a=[];return a[COUNT]=count,a[SYMS.PARENT]=parent,a[MAJOR]=typ,a}class UnexpectedDataError extends Error{constructor(byte,value){super("Unexpected data: 0x"+byte.toString(16)),this.name="UnexpectedDataError",this.byte=byte,this.value=value}}function normalizeOptions(opts,cb){switch(typeof opts){case"function":return{options:{},cb:opts};case"string":return{options:{encoding:opts},cb:cb};case"object":return{options:opts||{},cb:cb};default:throw new TypeError("Unknown option type")}}class Decoder extends BinaryParseStream{constructor(options={}){const{tags={},max_depth=-1,preferWeb=!1,required=!1,encoding="hex",extendedResults=!1,...superOpts}=options;super({defaultEncoding:encoding,...superOpts}),this.running=!0,this.max_depth=max_depth,this.tags=tags,this.preferWeb=preferWeb,this.extendedResults=extendedResults,this.required=required,extendedResults&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new NoFilter)}static nullcheck(val){switch(val){case SYMS.NULL:return null;case SYMS.UNDEFINED:return;case NOT_FOUND:throw new Error("Value not found");default:return val}}static decodeFirstSync(nextByte,options={}){if(null==nextByte)throw new TypeError("input required");options=normalizeOptions(options).options;const{encoding="hex",...opts}=options,c=new Decoder(opts),s=utils.guessEncoding(nextByte,encoding),parser=c._parse();let state=parser.next();for(;!state.done;){var b=s.read(state.value);if(null==b||b.length!==state.value)throw new Error("Insufficient data");c.extendedResults&&c.valueBytes.write(b),state=parser.next(b)}let val=null;if(c.extendedResults)val=state.value,val.unused=s.read();else if(val=Decoder.nullcheck(state.value),0<s.length){nextByte=s.read(1);throw s.unshift(nextByte),new UnexpectedDataError(nextByte[0],val)}return val}static decodeAllSync(input,options={}){if(null==input)throw new TypeError("input required");options=normalizeOptions(options).options;const{encoding="hex",...opts}=options,c=new Decoder(opts),s=utils.guessEncoding(input,encoding),res=[];for(;0<s.length;){const parser=c._parse();let state=parser.next();for(;!state.done;){var b=s.read(state.value);if(null==b||b.length!==state.value)throw new Error("Insufficient data");c.extendedResults&&c.valueBytes.write(b),state=parser.next(b)}res.push(Decoder.nullcheck(state.value))}return res}static decodeFirst(input,options={},cb=null){if(null==input)throw new TypeError("input required");({options,cb}=normalizeOptions(options,cb));const{encoding="hex",required=!1,...opts}=options,c=new Decoder(opts);let v=NOT_FOUND;const s=utils.guessEncoding(input,encoding),p=new Promise((resolve,reject)=>{c.on("data",val=>{v=Decoder.nullcheck(val),c.close()}),c.once("error",er=>c.extendedResults&&er instanceof UnexpectedDataError?(v.unused=c.bs.slice(),resolve(v)):(v!==NOT_FOUND&&(er.value=v),v=ERROR,c.close(),reject(er))),c.once("end",()=>{switch(v){case NOT_FOUND:return required?reject(new Error("No CBOR found")):resolve(v);case ERROR:return;default:return resolve(v)}})});return"function"==typeof cb&&p.then(val=>cb(null,val),cb),s.pipe(c),p}static decodeAll(input,options={},cb=null){if(null==input)throw new TypeError("input required");({options,cb}=normalizeOptions(options,cb));const{encoding="hex",...opts}=options,c=new Decoder(opts),vals=[];c.on("data",val=>vals.push(Decoder.nullcheck(val)));const p=new Promise((resolve,reject)=>{c.on("error",reject),c.on("end",()=>resolve(vals))});return"function"==typeof cb&&p.then(v=>cb(void 0,v),er=>cb(er,void 0)),utils.guessEncoding(input,encoding).pipe(c),p}close(){this.running=!1,this.__fresh=!0}_onRead(data){this.valueBytes.write(data)}*_parse(){let parent=null,depth=0,val=null;for(;;){if(0<=this.max_depth&&depth>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);var[ret]=yield 1;if(!this.running)throw this.bs.unshift(Buffer.from([ret])),new UnexpectedDataError(ret);var mt=ret>>5,ai=31&ret,parent_major=null==parent?void 0:parent[MAJOR],parent_length=null==parent?void 0:parent.length;switch(ai){case NUMBYTES.ONE:this.emit("more-bytes",mt,1,parent_major,parent_length),[val]=yield 1;break;case NUMBYTES.TWO:case NUMBYTES.FOUR:case NUMBYTES.EIGHT:var buf=1<<ai-24;this.emit("more-bytes",mt,buf,parent_major,parent_length);buf=yield buf;val=mt===MT.SIMPLE_FLOAT?buf:utils.parseCBORint(ai,buf);break;case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+ai);case NUMBYTES.INDEFINITE:switch(mt){case MT.POS_INT:case MT.NEG_INT:case MT.TAG:throw new Error("Invalid indefinite encoding for MT "+mt)}val=-1;break;default:val=ai}switch(mt){case MT.POS_INT:break;case MT.NEG_INT:val=val===Number.MAX_SAFE_INTEGER?BI.NEG_MAX:"bigint"==typeof val?BI.MINUS_ONE-val:-1-val;break;case MT.BYTE_STRING:case MT.UTF8_STRING:switch(val){case 0:this.emit("start-string",mt,val,parent_major,parent_length),val=mt===MT.UTF8_STRING?"":this.preferWeb?new Uint8Array(0):Buffer.allocUnsafe(0);break;case-1:this.emit("start",mt,SYMS.STREAM,parent_major,parent_length),parent=function(parent,typ){const b=new NoFilter;return b[COUNT]=-1,b[SYMS.PARENT]=parent,b[MAJOR]=typ,b}(parent,mt),depth++;continue;default:this.emit("start-string",mt,val,parent_major,parent_length),val=yield val,mt===MT.UTF8_STRING?val=utils.utf8(val):this.preferWeb&&(val=new Uint8Array(val.buffer,val.byteOffset,val.length))}break;case MT.ARRAY:case MT.MAP:switch(val){case 0:val=mt===MT.MAP?{}:[];break;case-1:this.emit("start",mt,SYMS.STREAM,parent_major,parent_length),parent=parentArray(parent,mt,-1),depth++;continue;default:this.emit("start",mt,val,parent_major,parent_length),parent=parentArray(parent,mt,val*(mt-3)),depth++;continue}break;case MT.TAG:this.emit("start",mt,val,parent_major,parent_length),parent=parentArray(parent,mt,1),parent.push(val),depth++;continue;case MT.SIMPLE_FLOAT:if("number"==typeof val){if(ai===NUMBYTES.ONE&&val<32)throw new Error("Invalid two-byte encoding of simple value "+val);var hasParent=null!=parent;val=Simple.decode(val,hasParent,hasParent&&parent[COUNT]<0)}else val=utils.parseCBORfloat(val)}this.emit("value",val,parent_major,parent_length,ai);let again=!1;for(;null!=parent;){if(val===SYMS.BREAK)parent[COUNT]=1;else if(Array.isArray(parent))parent.push(val);else{var pm=parent[MAJOR];if(null!=pm&&pm!==mt)throw this.running=!1,new Error("Invalid major type in indefinite encoding");parent.write(val)}if(0!=--parent[COUNT]){again=!0;break}if(--depth,delete parent[COUNT],Array.isArray(parent))switch(parent[MAJOR]){case MT.ARRAY:val=parent;break;case MT.MAP:{let allstrings=!0;if(parent.length%2!=0)throw new Error("Invalid map length: "+parent.length);for(let i=0,len=parent.length;i<len;i+=2)if("string"!=typeof parent[i]||"__proto__"===parent[i]){allstrings=!1;break}if(allstrings){val={};for(let i=0,len=parent.length;i<len;i+=2)val[parent[i]]=parent[i+1]}else{val=new Map;for(let i=0,len=parent.length;i<len;i+=2)val.set(parent[i],parent[i+1])}break}case MT.TAG:{const t=new Tagged(parent[0],parent[1]);val=t.convert(this.tags);break}}else if(parent instanceof NoFilter)switch(parent[MAJOR]){case MT.BYTE_STRING:val=parent.slice(),this.preferWeb&&(val=new Uint8Array(val.buffer,val.byteOffset,val.length));break;case MT.UTF8_STRING:val=parent.toString("utf-8")}this.emit("stop",parent[MAJOR]);const old=parent;parent=parent[SYMS.PARENT],delete old[SYMS.PARENT],delete old[MAJOR]}if(!again){if(this.extendedResults){ret=this.valueBytes.slice(),ret={value:Decoder.nullcheck(val),bytes:ret,length:ret.length};return this.valueBytes=new NoFilter,ret}return val}}}}Decoder.NOT_FOUND=NOT_FOUND,module.exports=Decoder},{"../vendor/binary-parse-stream":106,"./constants":98,"./simple":103,"./tagged":104,"./utils":105,buffer:93,nofilter:215,stream:298}],100:[function(require,module,exports){"use strict";var stream=require("stream");const Decoder=require("./decoder"),utils=require("./utils"),NoFilter=require("nofilter"),{MT,SYMS}=require("./constants");class Diagnose extends stream.Transform{constructor(options={}){const{separator="\n",stream_errors=!1,tags,max_depth,preferWeb,encoding,...superOpts}=options;super({...superOpts,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=separator,this.stream_errors=stream_errors,this.parser=new Decoder({tags:tags,max_depth:max_depth,preferWeb:preferWeb,encoding:encoding}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(fresh,encoding,cb){return this.parser.write(fresh,encoding,cb)}_flush(cb){return this.parser._flush(er=>this.stream_errors?(er&&this._on_error(er),cb()):cb(er))}static diagnose(input,options={},cb=null){if(null==input)throw new TypeError("input required");({options,cb}=function(opts,cb){switch(typeof opts){case"function":return{options:{},cb:opts};case"string":return{options:{encoding:opts},cb:cb};case"object":return{options:opts||{},cb:cb};default:throw new TypeError("Unknown option type")}}(options,cb));const{encoding="hex",...opts}=options,bs=new NoFilter,d=new Diagnose(opts);let p=null;return"function"==typeof cb?(d.on("end",()=>cb(null,bs.toString("utf8"))),d.on("error",cb)):p=new Promise((resolve,reject)=>{d.on("end",()=>resolve(bs.toString("utf8"))),d.on("error",reject)}),d.pipe(bs),utils.guessEncoding(input,encoding).pipe(d),p}_on_error(er){this.stream_errors?this.push(er.toString()):this.emit("error",er)}_on_more(mt,len,parent_mt,pos){mt===MT.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[len])}_fore(parent_mt,pos){switch(parent_mt){case MT.BYTE_STRING:case MT.UTF8_STRING:case MT.ARRAY:0<pos&&this.push(", ");break;case MT.MAP:0<pos&&(pos%2?this.push(": "):this.push(", "))}}_on_value(val,parent_mt,fb){val!==SYMS.BREAK&&(this._fore(parent_mt,fb),fb=this.float_bytes,this.float_bytes=-1,this.push(utils.cborValueToString(val,fb)))}_on_start(mt,tag,parent_mt,pos){switch(this._fore(parent_mt,pos),mt){case MT.TAG:this.push(tag+"(");break;case MT.ARRAY:this.push("[");break;case MT.MAP:this.push("{");break;case MT.BYTE_STRING:case MT.UTF8_STRING:this.push("(")}tag===SYMS.STREAM&&this.push("_ ")}_on_stop(mt){switch(mt){case MT.TAG:this.push(")");break;case MT.ARRAY:this.push("]");break;case MT.MAP:this.push("}");break;case MT.BYTE_STRING:case MT.UTF8_STRING:this.push(")")}}_on_data(){this.push(this.separator)}}module.exports=Diagnose},{"./constants":98,"./decoder":99,"./utils":105,nofilter:215,stream:298}],101:[function(require,module,exports){"use strict";var stream=require("stream");const NoFilter=require("nofilter"),utils=require("./utils"),{MT,NUMBYTES,SHIFT32,SIMPLE,SYMS,TAG,BI}=require("./constants"),Buffer=require("buffer")["Buffer"],HALF=MT.SIMPLE_FLOAT<<5|NUMBYTES.TWO,FLOAT=MT.SIMPLE_FLOAT<<5|NUMBYTES.FOUR,DOUBLE=MT.SIMPLE_FLOAT<<5|NUMBYTES.EIGHT,TRUE=MT.SIMPLE_FLOAT<<5|SIMPLE.TRUE,FALSE=MT.SIMPLE_FLOAT<<5|SIMPLE.FALSE,UNDEFINED=MT.SIMPLE_FLOAT<<5|SIMPLE.UNDEFINED,NULL=MT.SIMPLE_FLOAT<<5|SIMPLE.NULL,BREAK=Buffer.from([255]),BUF_NAN=Buffer.from("f97e00","hex"),BUF_INF_NEG=Buffer.from("f9fc00","hex"),BUF_INF_POS=Buffer.from("f97c00","hex"),BUF_NEG_ZERO=Buffer.from("f98000","hex"),SEMANTIC_TYPES={};let current_SEMANTIC_TYPES={};class Encoder extends stream.Transform{constructor(options={}){const{canonical=!1,encodeUndefined,disallowUndefinedKeys=!1,dateType="number",collapseBigIntegers=!1,detectLoops=!1,omitUndefinedProperties=!1,genTypes=[],...superOpts}=options;if(super({...superOpts,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=canonical,this.encodeUndefined=encodeUndefined,this.disallowUndefinedKeys=disallowUndefinedKeys,this.dateType=function(str){if(!str)return"number";switch(str.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${str}"`)}(dateType),this.collapseBigIntegers=!!this.canonical||collapseBigIntegers,this.detectLoops=void 0,"boolean"==typeof detectLoops)detectLoops&&(this.detectLoops=new WeakSet);else{if(!(detectLoops instanceof WeakSet))throw new TypeError("detectLoops must be boolean or WeakSet");this.detectLoops=detectLoops}if(this.omitUndefinedProperties=omitUndefinedProperties,this.semanticTypes={...Encoder.SEMANTIC_TYPES},Array.isArray(genTypes))for(let i=0,len=genTypes.length;i<len;i+=2)this.addSemanticType(genTypes[i],genTypes[i+1]);else for(var[k,v]of Object.entries(genTypes))this.addSemanticType(k,v)}_transform(fresh,encoding,cb){return cb(!1===this.pushAny(fresh)?new Error("Push Error"):void 0)}_flush(cb){return cb()}_pushUInt8(val){const b=Buffer.allocUnsafe(1);return b.writeUInt8(val,0),this.push(b)}_pushUInt16BE(val){const b=Buffer.allocUnsafe(2);return b.writeUInt16BE(val,0),this.push(b)}_pushUInt32BE(val){const b=Buffer.allocUnsafe(4);return b.writeUInt32BE(val,0),this.push(b)}_pushFloatBE(val){const b=Buffer.allocUnsafe(4);return b.writeFloatBE(val,0),this.push(b)}_pushDoubleBE(val){const b=Buffer.allocUnsafe(8);return b.writeDoubleBE(val,0),this.push(b)}_pushNaN(){return this.push(BUF_NAN)}_pushInfinity(half){half=half<0?BUF_INF_NEG:BUF_INF_POS;return this.push(half)}_pushFloat(obj){if(this.canonical){var b2=Buffer.allocUnsafe(2);if(utils.writeHalf(b2,obj))return this._pushUInt8(HALF)&&this.push(b2)}return Math.fround(obj)===obj?this._pushUInt8(FLOAT)&&this._pushFloatBE(obj):this._pushUInt8(DOUBLE)&&this._pushDoubleBE(obj)}_pushInt(obj,mt,orig){var m=mt<<5;if(obj<24)return this._pushUInt8(m|obj);if(obj<=255)return this._pushUInt8(m|NUMBYTES.ONE)&&this._pushUInt8(obj);if(obj<=65535)return this._pushUInt8(m|NUMBYTES.TWO)&&this._pushUInt16BE(obj);if(obj<=4294967295)return this._pushUInt8(m|NUMBYTES.FOUR)&&this._pushUInt32BE(obj);let max=Number.MAX_SAFE_INTEGER;return mt===MT.NEG_INT&&max--,obj<=max?this._pushUInt8(m|NUMBYTES.EIGHT)&&this._pushUInt32BE(Math.floor(obj/SHIFT32))&&this._pushUInt32BE(obj%SHIFT32):mt===MT.NEG_INT?this._pushFloat(orig):this._pushFloat(obj)}_pushIntNum(obj){return Object.is(obj,-0)?this.push(BUF_NEG_ZERO):obj<0?this._pushInt(-obj-1,MT.NEG_INT,obj):this._pushInt(obj,MT.POS_INT)}_pushNumber(obj){return isNaN(obj)?this._pushNaN():isFinite(obj)?Math.round(obj)===obj?this._pushIntNum(obj):this._pushFloat(obj):this._pushInfinity(obj)}_pushString(obj){var len=Buffer.byteLength(obj,"utf8");return this._pushInt(len,MT.UTF8_STRING)&&this.push(obj,"utf8")}_pushBoolean(obj){return this._pushUInt8(obj?TRUE:FALSE)}_pushUndefined(obj){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(UNDEFINED);case"function":return this.pushAny(this.encodeUndefined(obj));case"object":var buf=utils.bufferishToBuffer(this.encodeUndefined);if(buf)return this.push(buf)}return this.pushAny(this.encodeUndefined)}_pushNull(obj){return this._pushUInt8(NULL)}_pushTag(tag){return this._pushInt(tag,MT.TAG)}_pushJSBigint(buf){let m=MT.POS_INT,tag=TAG.POS_BIGINT;if(buf<0&&(buf=-buf+BI.MINUS_ONE,m=MT.NEG_INT,tag=TAG.NEG_BIGINT),this.collapseBigIntegers&&buf<=BI.MAXINT64)return buf<=4294967295?this._pushInt(Number(buf),m):this._pushUInt8(m<<5|NUMBYTES.EIGHT)&&this._pushUInt32BE(Number(buf/BI.SHIFT32))&&this._pushUInt32BE(Number(buf%BI.SHIFT32));let str=buf.toString(16);str.length%2&&(str="0"+str);buf=Buffer.from(str,"hex");return this._pushTag(tag)&&Encoder._pushBuffer(this,buf)}_pushObject(obj,opts){if(!obj)return this._pushNull(obj);if(!(opts={indefinite:!1,skipTypes:!1,...opts}).indefinite&&this.detectLoops){if(this.detectLoops.has(obj))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(obj)}if(!opts.skipTypes){const f=obj.encodeCBOR;if("function"==typeof f)return f.call(obj,this);const converter=this.semanticTypes[obj.constructor.name];if(converter)return converter.call(obj,this,obj)}const keys=Object.keys(obj).filter(tv=>{tv=typeof obj[tv];return"function"!=tv&&(!this.omitUndefinedProperties||"undefined"!=tv)}),cbor_keys={};if(this.canonical&&keys.sort((a,b_cbor)=>{const a_cbor=cbor_keys[a]||(cbor_keys[a]=Encoder.encode(a));b_cbor=cbor_keys[b_cbor]||(cbor_keys[b_cbor]=Encoder.encode(b_cbor));return a_cbor.compare(b_cbor)}),opts.indefinite){if(!this._pushUInt8(MT.MAP<<5|NUMBYTES.INDEFINITE))return!1}else if(!this._pushInt(keys.length,MT.MAP))return!1;let ck=null;for(let j=0,len2=keys.length;j<len2;j++){var k=keys[j];if(this.canonical&&(ck=cbor_keys[k])){if(!this.push(ck))return!1}else if(!this._pushString(k))return!1;if(!this.pushAny(obj[k]))return!1}if(opts.indefinite){if(!this.push(BREAK))return!1}else this.detectLoops&&this.detectLoops.delete(obj);return!0}_encodeAll(objs){const bs=new NoFilter({highWaterMark:this.readableHighWaterMark});this.pipe(bs);for(const o of objs)this.pushAny(o);return this.end(),bs.read()}addSemanticType(old,fun){var typeName="string"==typeof old?old:old.name,old=this.semanticTypes[typeName];if(fun){if("function"!=typeof fun)throw new TypeError("fun must be of type function");this.semanticTypes[typeName]=fun}else old&&delete this.semanticTypes[typeName];return old}pushAny(obj){switch(typeof obj){case"number":return this._pushNumber(obj);case"bigint":return this._pushJSBigint(obj);case"string":return this._pushString(obj);case"boolean":return this._pushBoolean(obj);case"undefined":return this._pushUndefined(obj);case"object":return this._pushObject(obj);case"symbol":switch(obj){case SYMS.NULL:return this._pushNull(null);case SYMS.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError("Unknown symbol: "+obj.toString())}default:throw new TypeError(`Unknown type: ${typeof obj}, `+("function"==typeof obj.toString?obj.toString():""))}}static pushArray(gen,obj,opts){opts={indefinite:!1,...opts};var len=obj.length;if(opts.indefinite){if(!gen._pushUInt8(MT.ARRAY<<5|NUMBYTES.INDEFINITE))return!1}else if(!gen._pushInt(len,MT.ARRAY))return!1;for(let j=0;j<len;j++)if(!gen.pushAny(obj[j]))return!1;return!(opts.indefinite&&!gen.push(BREAK))}removeLoopDetectors(){return!!this.detectLoops&&(this.detectLoops=new WeakSet,!0)}static _pushDate(gen,obj){switch(gen.dateType){case"string":return gen._pushTag(TAG.DATE_STRING)&&gen._pushString(obj.toISOString());case"int":return gen._pushTag(TAG.DATE_EPOCH)&&gen._pushIntNum(Math.round(obj.getTime()/1e3));case"float":return gen._pushTag(TAG.DATE_EPOCH)&&gen._pushFloat(obj.getTime()/1e3);default:return gen._pushTag(TAG.DATE_EPOCH)&&gen.pushAny(obj.getTime()/1e3)}}static _pushBuffer(gen,obj){return gen._pushInt(obj.length,MT.BYTE_STRING)&&gen.push(obj)}static _pushNoFilter(gen,obj){return Encoder._pushBuffer(gen,obj.slice())}static _pushRegexp(gen,obj){return gen._pushTag(TAG.REGEXP)&&gen.pushAny(obj.source)}static _pushSet(gen,obj){if(!gen._pushTag(TAG.SET))return!1;if(!gen._pushInt(obj.size,MT.ARRAY))return!1;for(const x of obj)if(!gen.pushAny(x))return!1;return!0}static _pushURL(gen,obj){return gen._pushTag(TAG.URI)&&gen.pushAny(obj.toString())}static _pushBoxed(gen,obj){return gen.pushAny(obj.valueOf())}static _pushMap(gen,obj,opts){opts={indefinite:!1,...opts};let entries=[...obj.entries()];if(gen.omitUndefinedProperties&&(entries=entries.filter(([,v])=>void 0!==v)),opts.indefinite){if(!gen._pushUInt8(MT.MAP<<5|NUMBYTES.INDEFINITE))return!1}else if(!gen._pushInt(entries.length,MT.MAP))return!1;if(gen.canonical){const enc=new Encoder({genTypes:gen.semanticTypes,canonical:gen.canonical,detectLoops:Boolean(gen.detectLoops),dateType:gen.dateType,disallowUndefinedKeys:gen.disallowUndefinedKeys,collapseBigIntegers:gen.collapseBigIntegers}),bs=new NoFilter({highWaterMark:gen.readableHighWaterMark});enc.pipe(bs),entries.sort(([a],[b_cbor])=>{enc.pushAny(a);const a_cbor=bs.read();enc.pushAny(b_cbor);b_cbor=bs.read();return a_cbor.compare(b_cbor)});for(var[k,v]of entries){if(gen.disallowUndefinedKeys&&void 0===k)throw new Error("Invalid Map key: undefined");if(!gen.pushAny(k)||!gen.pushAny(v))return!1}}else for(const[k,v]of entries){if(gen.disallowUndefinedKeys&&void 0===k)throw new Error("Invalid Map key: undefined");if(!gen.pushAny(k)||!gen.pushAny(v))return!1}return!(opts.indefinite&&!gen.push(BREAK))}static _pushTypedArray(gen,obj){let typ=64,sz=obj.BYTES_PER_ELEMENT;const name=obj.constructor["name"];return name.startsWith("Float")?(typ|=16,sz/=2):name.includes("U")||(typ|=8),(name.includes("Clamped")||1!==sz&&!utils.isBigEndian())&&(typ|=4),typ|={1:0,2:1,4:2,8:3}[sz],!!gen._pushTag(typ)&&Encoder._pushBuffer(gen,Buffer.from(obj.buffer,obj.byteOffset,obj.byteLength))}static _pushArrayBuffer(gen,obj){return Encoder._pushBuffer(gen,Buffer.from(obj))}static encodeIndefinite(gen,obj,objType={}){if(null==obj){if(null==this)throw new Error("No object to encode");obj=this}var{chunkSize=4096}=objType;let ret=!0;objType=typeof obj;let buf=null;if("string"==objType){ret=ret&&gen._pushUInt8(MT.UTF8_STRING<<5|NUMBYTES.INDEFINITE);let offset=0;for(;offset<obj.length;){var endIndex=offset+chunkSize;ret=ret&&gen._pushString(obj.slice(offset,endIndex)),offset=endIndex}ret=ret&&gen.push(BREAK)}else if(buf=utils.bufferishToBuffer(obj)){ret=ret&&gen._pushUInt8(MT.BYTE_STRING<<5|NUMBYTES.INDEFINITE);let offset=0;for(;offset<buf.length;){const endIndex=offset+chunkSize;ret=ret&&Encoder._pushBuffer(gen,buf.slice(offset,endIndex)),offset=endIndex}ret=ret&&gen.push(BREAK)}else if(Array.isArray(obj))ret=ret&&Encoder.pushArray(gen,obj,{indefinite:!0});else if(obj instanceof Map)ret=ret&&Encoder._pushMap(gen,obj,{indefinite:!0});else{if("object"!=objType)throw new Error("Invalid indefinite encoding");ret=ret&&gen._pushObject(obj,{indefinite:!0,skipTypes:!0})}return ret}static encode(...objs){return(new Encoder)._encodeAll(objs)}static encodeCanonical(...objs){return new Encoder({canonical:!0})._encodeAll(objs)}static encodeOne(obj,options){return new Encoder(options)._encodeAll([obj])}static encodeAsync(obj,options){return new Promise((resolve,reject)=>{const bufs=[],enc=new Encoder(options);enc.on("data",buf=>bufs.push(buf)),enc.on("error",reject),enc.on("finish",()=>resolve(Buffer.concat(bufs))),enc.pushAny(obj),enc.end()})}static get SEMANTIC_TYPES(){return current_SEMANTIC_TYPES}static set SEMANTIC_TYPES(val){current_SEMANTIC_TYPES=val}static reset(){Encoder.SEMANTIC_TYPES={...SEMANTIC_TYPES}}}Object.assign(SEMANTIC_TYPES,{Array:Encoder.pushArray,Date:Encoder._pushDate,Buffer:Encoder._pushBuffer,[Buffer.name]:Encoder._pushBuffer,Map:Encoder._pushMap,NoFilter:Encoder._pushNoFilter,[NoFilter.name]:Encoder._pushNoFilter,RegExp:Encoder._pushRegexp,Set:Encoder._pushSet,ArrayBuffer:Encoder._pushArrayBuffer,Uint8ClampedArray:Encoder._pushTypedArray,Uint8Array:Encoder._pushTypedArray,Uint16Array:Encoder._pushTypedArray,Uint32Array:Encoder._pushTypedArray,Int8Array:Encoder._pushTypedArray,Int16Array:Encoder._pushTypedArray,Int32Array:Encoder._pushTypedArray,Float32Array:Encoder._pushTypedArray,Float64Array:Encoder._pushTypedArray,URL:Encoder._pushURL,Boolean:Encoder._pushBoxed,Number:Encoder._pushBoxed,String:Encoder._pushBoxed}),"undefined"!=typeof BigUint64Array&&(SEMANTIC_TYPES[BigUint64Array.name]=Encoder._pushTypedArray),"undefined"!=typeof BigInt64Array&&(SEMANTIC_TYPES[BigInt64Array.name]=Encoder._pushTypedArray),Encoder.reset(),module.exports=Encoder},{"./constants":98,"./utils":105,buffer:93,nofilter:215,stream:298}],102:[function(require,module,exports){"use strict";const Buffer=require("buffer")["Buffer"],encoder=require("./encoder"),decoder=require("./decoder"),MT=require("./constants")["MT"];class CborMap extends Map{constructor(iterable){super(iterable)}static _encode(key){return encoder.encodeCanonical(key).toString("base64")}static _decode(key){return decoder.decodeFirstSync(key,"base64")}get(key){return super.get(CborMap._encode(key))}set(key,val){return super.set(CborMap._encode(key),val)}delete(key){return super.delete(CborMap._encode(key))}has(key){return super.has(CborMap._encode(key))}*keys(){for(const k of super.keys())yield CborMap._decode(k)}*entries(){for(const kv of super.entries())yield[CborMap._decode(kv[0]),kv[1]]}[Symbol.iterator](){return this.entries()}forEach(fun,thisArg){if("function"!=typeof fun)throw new TypeError("Must be function");for(const kv of super.entries())fun.call(this,kv[1],CborMap._decode(kv[0]),this)}encodeCBOR(gen){if(!gen._pushInt(this.size,MT.MAP))return!1;if(gen.canonical){const entries=Array.from(super.entries()).map(kv=>[Buffer.from(kv[0],"base64"),kv[1]]);entries.sort((a,b)=>a[0].compare(b[0]));for(const kv of entries)if(!gen.push(kv[0])||!gen.pushAny(kv[1]))return!1}else for(const kv of super.entries())if(!gen.push(Buffer.from(kv[0],"base64"))||!gen.pushAny(kv[1]))return!1;return!0}}module.exports=CborMap},{"./constants":98,"./decoder":99,"./encoder":101,buffer:93}],103:[function(require,module,exports){"use strict";const{MT,SIMPLE,SYMS}=require("./constants");class Simple{constructor(value){if("number"!=typeof value)throw new Error("Invalid Simple type: "+typeof value);if(value<0||255<value||(0|value)!==value)throw new Error("value must be a small positive integer: "+value);this.value=value}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](depth,opts){return`simple(${this.value})`}encodeCBOR(gen){return gen._pushInt(this.value,MT.SIMPLE_FLOAT)}static isSimple(obj){return obj instanceof Simple}static decode(val,has_parent=!0,parent_indefinite=!1){switch(val){case SIMPLE.FALSE:return!1;case SIMPLE.TRUE:return!0;case SIMPLE.NULL:return has_parent?null:SYMS.NULL;case SIMPLE.UNDEFINED:return has_parent?void 0:SYMS.UNDEFINED;case-1:if(!has_parent||!parent_indefinite)throw new Error("Invalid BREAK");return SYMS.BREAK;default:return new Simple(val)}}}module.exports=Simple},{"./constants":98}],104:[function(require,module,exports){"use strict";const constants=require("./constants"),utils=require("./utils"),INTERNAL_JSON=Symbol("INTERNAL_JSON");function setBuffersToJSON(obj,fn){if(utils.isBufferish(obj))obj.toJSON=fn;else if(Array.isArray(obj))for(const v of obj)setBuffersToJSON(v,fn);else if(obj&&"object"==typeof obj&&(!(obj instanceof Tagged)||obj.tag<21||23<obj.tag))for(const v of Object.values(obj))setBuffersToJSON(v,fn)}function b64this(){return utils.base64(this)}function b64urlThis(){return utils.base64url(this)}function hexThis(){return this.toString("hex")}const TAGS={0:v=>new Date(v),1:v=>new Date(1e3*v),2:v=>utils.bufferToBigInt(v),3:v=>constants.BI.MINUS_ONE-utils.bufferToBigInt(v),21:(v,tag)=>(utils.isBufferish(v)?tag[INTERNAL_JSON]=b64urlThis:setBuffersToJSON(v,b64urlThis),tag),22:(v,tag)=>(utils.isBufferish(v)?tag[INTERNAL_JSON]=b64this:setBuffersToJSON(v,b64this),tag),23:(v,tag)=>(utils.isBufferish(v)?tag[INTERNAL_JSON]=hexThis:setBuffersToJSON(v,hexThis),tag),32:v=>new URL(v),33:(v,tag)=>{if(!v.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");var last=v.length%4;if(1==last)throw new Error("Invalid base64url length");if(2==last){if(-1==="AQgw".indexOf(v[v.length-1]))throw new Error("Invalid base64 padding")}else if(3==last&&-1==="AEIMQUYcgkosw048".indexOf(v[v.length-1]))throw new Error("Invalid base64 padding");return tag},34:(v,tag)=>{var m=v.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!m)throw new Error("Invalid base64 characters");if(v.length%4!=0)throw new Error("Invalid base64 length");if("="===m.groups.padding){if(-1==="AQgw".indexOf(v[v.length-2]))throw new Error("Invalid base64 padding")}else if("=="===m.groups.padding&&-1==="AEIMQUYcgkosw048".indexOf(v[v.length-3]))throw new Error("Invalid base64 padding");return tag},35:v=>new RegExp(v),258:v=>new Set(v)},TYPED_ARRAY_TAGS={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};function _toTypedArray(ab,sz){if(!utils.isBufferish(ab))throw new TypeError("val not a buffer");var tag=sz["tag"];const TypedClass=TYPED_ARRAY_TAGS[tag];if(!TypedClass)throw new Error("Invalid typed array tag: "+tag);sz=2**(((16&tag)>>4)+(3&tag));!(4&tag)!==utils.isBigEndian()&&1<sz&&function(ab,size,byteOffset,byteLength){var dv=new DataView(ab);const[getter,setter]={2:[dv.getUint16,dv.setUint16],4:[dv.getUint32,dv.setUint32],8:[dv.getBigUint64,dv.setBigUint64]}[size];var end=byteOffset+byteLength;for(let offset=byteOffset;offset<end;offset+=size)setter.call(dv,offset,getter.call(dv,offset,!0))}(ab.buffer,sz,ab.byteOffset,ab.byteLength);ab=ab.buffer.slice(ab.byteOffset,ab.byteOffset+ab.byteLength);return new TypedClass(ab)}"undefined"!=typeof BigUint64Array&&(TYPED_ARRAY_TAGS[67]=BigUint64Array,TYPED_ARRAY_TAGS[71]=BigUint64Array),"undefined"!=typeof BigInt64Array&&(TYPED_ARRAY_TAGS[75]=BigInt64Array,TYPED_ARRAY_TAGS[79]=BigInt64Array);for(const n of Object.keys(TYPED_ARRAY_TAGS))TAGS[n]=_toTypedArray;let current_TAGS={};class Tagged{constructor(tag,value,err){if(this.tag=tag,this.value=value,this.err=err,"number"!=typeof this.tag)throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toJSON(){if(this[INTERNAL_JSON])return this[INTERNAL_JSON].call(this.value);const ret={tag:this.tag,value:this.value};return this.err&&(ret.err=this.err),ret}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(gen){return gen._pushTag(this.tag),gen.pushAny(this.value)}convert(converters){let f=null==converters?void 0:converters[this.tag];if("function"!=typeof f&&(f=Tagged.TAGS[this.tag],"function"!=typeof f))return this;try{return f.call(this,this.value,this)}catch(error){return error&&error.message&&0<error.message.length?this.err=error.message:this.err=error,this}}static get TAGS(){return current_TAGS}static set TAGS(val){current_TAGS=val}static reset(){Tagged.TAGS={...TAGS}}}Tagged.INTERNAL_JSON=INTERNAL_JSON,Tagged.reset(),module.exports=Tagged},{"./constants":98,"./utils":105}],105:[function(require,module,exports){"use strict";const Buffer=require("buffer")["Buffer"],NoFilter=require("nofilter"),stream=require("stream");const{NUMBYTES,SHIFT32,BI,SYMS}=require("./constants"),td=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});exports.utf8=buf=>td.decode(buf),exports.utf8.checksUTF8=!0,exports.isBufferish=function(b){return b&&"object"==typeof b&&(Buffer.isBuffer(b)||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof ArrayBuffer||b instanceof DataView)},exports.bufferishToBuffer=function(b){return Buffer.isBuffer(b)?b:ArrayBuffer.isView(b)?Buffer.from(b.buffer,b.byteOffset,b.byteLength):b instanceof ArrayBuffer?Buffer.from(b):null},exports.parseCBORint=function(ai,buf){switch(ai){case NUMBYTES.ONE:return buf.readUInt8(0);case NUMBYTES.TWO:return buf.readUInt16BE(0);case NUMBYTES.FOUR:return buf.readUInt32BE(0);case NUMBYTES.EIGHT:var f=buf.readUInt32BE(0),g=buf.readUInt32BE(4);return 2097151<f?BigInt(f)*BI.SHIFT32+BigInt(g):f*SHIFT32+g;default:throw new Error("Invalid additional info for int: "+ai)}},exports.writeHalf=function(buf,exp){const u32=Buffer.allocUnsafe(4);u32.writeFloatBE(exp,0);var mant=u32.readUInt32BE(0);if(0!=(8191&mant))return!1;let s16=mant>>16&32768;exp=mant>>23&255,mant&=8388607;if(113<=exp&&exp<=142)s16+=(exp-112<<10)+(mant>>13);else{if(!(103<=exp&&exp<113))return!1;if(mant&(1<<126-exp)-1)return!1;s16+=8388608+mant>>126-exp}return buf.writeUInt16BE(s16),!0},exports.parseHalf=function(mant){var sign=128&mant[0]?-1:1,exp=(124&mant[0])>>2,mant=(3&mant[0])<<8|mant[1];return exp?31==exp?sign*(mant?NaN:1/0):sign*2**(exp-25)*(1024+mant):5.960464477539063e-8*sign*mant},exports.parseCBORfloat=function(buf){switch(buf.length){case 2:return exports.parseHalf(buf);case 4:return buf.readFloatBE(0);case 8:return buf.readDoubleBE(0);default:throw new Error("Invalid float size: "+buf.length)}},exports.hex=function(s){return Buffer.from(s.replace(/^0x/,""),"hex")},exports.bin=function(s){let start=0,end=(s=s.replace(/\s/g,"")).length%8||8;const chunks=[];for(;end<=s.length;)chunks.push(parseInt(s.slice(start,end),2)),start=end,end+=8;return Buffer.from(chunks)},exports.arrayEqual=function(a,b){return null==a&&null==b||null!=a&&null!=b&&(a.length===b.length&&a.every((elem,i)=>elem===b[i]))},exports.bufferToBigInt=function(buf){return BigInt("0x"+buf.toString("hex"))},exports.cborValueToString=function(val,float_bytes=-1){switch(typeof val){case"symbol":{switch(val){case SYMS.NULL:return"null";case SYMS.UNDEFINED:return"undefined";case SYMS.BREAK:return"BREAK"}if(val.description)return val.description;const s=val.toString();var m=s.match(/^Symbol\((?<name>.*)\)/);return m&&m.groups.name?m.groups.name:"Symbol"}case"string":return JSON.stringify(val);case"bigint":return val.toString();case"number":var hex=Object.is(val,-0)?"-0":String(val);return 0<float_bytes?hex+"_"+float_bytes:hex;case"object":{const buf=exports.bufferishToBuffer(val);if(buf){hex=buf.toString("hex");return float_bytes===-1/0?hex:`h'${hex}'`}return"function"==typeof val[Symbol.for("nodejs.util.inspect.custom")]?val[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(val)?"[]":"{}"}}return String(val)},exports.guessEncoding=function(input,buf){if("string"==typeof input)return new NoFilter(input,null==buf?"hex":buf);var s,buf=exports.bufferishToBuffer(input);if(buf)return new NoFilter(buf);if((s=input)instanceof stream.Readable||["read","on","pipe"].every(f=>"function"==typeof s[f]))return input;throw new Error("Unknown input type")};const B64URL_SWAPS={"=":"","+":"-","/":"_"};exports.base64url=function(buf){return exports.bufferishToBuffer(buf).toString("base64").replace(/[=+/]/g,c=>B64URL_SWAPS[c])},exports.base64=function(buf){return exports.bufferishToBuffer(buf).toString("base64")},exports.isBigEndian=function(){var array=new Uint8Array(4);const view=new Uint32Array(array.buffer);return!((view[0]=1)&array[0])}},{"./constants":98,buffer:93,nofilter:215,stream:298}],106:[function(require,module,exports){"use strict";var stream=require("stream");const NoFilter=require("nofilter");class BinaryParseStream extends stream.Transform{constructor(options){super(options),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new NoFilter,this.__restart()}_transform(fresh,encoding,cb){for(this.bs.write(fresh);this.bs.length>=this.__needed;){let ret=null;var chunk=null===this.__needed?void 0:this.bs.read(this.__needed);try{ret=this.__parser.next(chunk)}catch(e){return cb(e)}this.__needed&&(this.__fresh=!1),ret.done?(this.push(ret.value),this.__restart()):this.__needed=ret.value||1/0}return cb()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(cb){cb(this.__fresh?null:new Error("unexpected end of input"))}}module.exports=BinaryParseStream},{nofilter:215,stream:298}],107:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,Transform=require("stream").Transform,StringDecoder=require("string_decoder").StringDecoder;function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}require("inherits")(CipherBase,Transform),CipherBase.prototype.update=function(outData,inputEnc,outputEnc){"string"==typeof outData&&(outData=Buffer.from(outData,inputEnc));outData=this._update(outData);return this.hashMode?this:outputEnc?this._toString(outData,outputEnc):outData},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this.__final())}catch(e){err=e}done(err)},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this.__final()||Buffer.alloc(0);return outData=outputEnc?this._toString(outData,outputEnc,!0):outData},CipherBase.prototype._toString=function(out,enc,fin){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");out=this._decoder.write(out);return fin&&(out+=this._decoder.end()),out},module.exports=CipherBase},{inherits:201,"safe-buffer":288,stream:298,string_decoder:313}],108:[function(require,module,exports){!function(global,Buffer){!function(){"use strict";const AlgToTags={RS512:-259,RS384:-258,RS256:-257,"ECDH-SS-512":-28,"ECDH-SS":-27,"ECDH-ES-512":-26,"ECDH-ES":-25,ES256:-7,ES512:-36,direct:-6,A128GCM:1,A192GCM:2,A256GCM:3,"SHA-256_64":4,"SHA-256-64":4,"HS256/64":4,"SHA-256":5,HS256:5,"SHA-384":6,HS384:6,"SHA-512":7,HS512:7,"AES-CCM-16-64-128":10,"AES-CCM-16-128/64":10,"AES-CCM-16-64-256":11,"AES-CCM-16-256/64":11,"AES-CCM-64-64-128":12,"AES-CCM-64-128/64":12,"AES-CCM-64-64-256":13,"AES-CCM-64-256/64":13,"AES-MAC-128/64":14,"AES-MAC-256/64":15,"AES-MAC-128/128":25,"AES-MAC-256/128":26,"AES-CCM-16-128-128":30,"AES-CCM-16-128/128":30,"AES-CCM-16-128-256":31,"AES-CCM-16-256/128":31,"AES-CCM-64-128-128":32,"AES-CCM-64-128/128":32,"AES-CCM-64-128-256":33,"AES-CCM-64-256/128":33},Translators={kid:value=>Buffer.from(value,"utf8"),alg:value=>{if(!AlgToTags[value])throw new Error("Unknown 'alg' parameter, "+value);return AlgToTags[value]}},HeaderParameters={partyUNonce:-22,static_key_id:-3,static_key:-2,ephemeral_key:-1,alg:1,crit:2,content_type:3,ctyp:3,kid:4,IV:5,Partial_IV:6,counter_signature:7};exports.EMPTY_BUFFER=Buffer.alloc(0),exports.TranslateHeaders=function(header){const result=new Map;for(const param in header){if(!HeaderParameters[param])throw new Error("Unknown parameter, '"+param+"'");let value=header[param];Translators[param]&&(value=Translators[param](header[param])),void 0!==value&&null!==value&&result.set(HeaderParameters[param],value)}return result};const KeyParameters={crv:-1,k:-1,x:-2,y:-3,d:-4,kty:1},KeyTypes={OKP:1,EC2:2,RSA:3,Symmetric:4},KeyCrv={"P-256":1,"P-384":2,"P-521":3,X25519:4,X448:5,Ed25519:6,Ed448:7},KeyTranslators={kty:value=>{if(!KeyTypes[value])throw new Error("Unknown 'kty' parameter, "+value);return KeyTypes[value]},crv:value=>{if(!KeyCrv[value])throw new Error("Unknown 'crv' parameter, "+value);return KeyCrv[value]}};exports.TranslateKey=function(key){const result=new Map;for(const param in key){if(!KeyParameters[param])throw new Error("Unknown parameter, '"+param+"'");let value=key[param];KeyTranslators[param]&&(value=KeyTranslators[param](value)),result.set(KeyParameters[param],value)}return result},module.exports.xor=function(a,b){const buffer=Buffer.alloc(Math.max(a.length,b.length));for(let i=1;i<=buffer.length;++i){var av=a.length-i<0?0:a[a.length-i],bv=b.length-i<0?0:b[b.length-i];buffer[buffer.length-i]=av^bv}return buffer},exports.HeaderParameters=HeaderParameters,exports.runningInNode=function(){return"[object process]"===Object.prototype.toString.call(global.process)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{buffer:93}],109:[function(require,module,exports){!function(Buffer){!function(){"use strict";const cbor=require("cbor"),crypto=require("crypto"),Promise=require("any-promise"),common=require("./common"),HKDF=require("node-hkdf-sync"),Tagged=cbor.Tagged,EMPTY_BUFFER=common.EMPTY_BUFFER,runningInNode=(exports.EncryptTag=96,exports.Encrypt0Tag=16,common.runningInNode),TagToAlg={1:"A128GCM",2:"A192GCM",3:"A256GCM",10:"AES-CCM-16-64-128",11:"AES-CCM-16-64-256",12:"AES-CCM-64-64-128",13:"AES-CCM-64-64-256",30:"AES-CCM-16-128-128",31:"AES-CCM-16-128-256",32:"AES-CCM-64-128-128",33:"AES-CCM-64-128-256"},COSEAlgToNodeAlg={A128GCM:"aes-128-gcm",A192GCM:"aes-192-gcm",A256GCM:"aes-256-gcm","AES-CCM-16-64-128":"aes-128-ccm","AES-CCM-16-64-256":"aes-256-ccm","AES-CCM-64-64-128":"aes-128-ccm","AES-CCM-64-64-256":"aes-256-ccm","AES-CCM-16-128-128":"aes-128-ccm","AES-CCM-16-128-256":"aes-256-ccm","AES-CCM-64-128-128":"aes-128-ccm","AES-CCM-64-128-256":"aes-256-ccm"},isNodeAlg={1:!0,2:!0,3:!0},isCCMAlg={10:!0,11:!0,12:!0,13:!0,30:!0,31:!0,32:!0,33:!0},authTagLength={1:16,2:16,3:16,10:8,11:8,12:8,13:8,30:16,31:16,32:16,33:16},ivLenght={1:12,2:12,3:12,10:13,11:13,12:7,13:7,30:13,31:13,32:7,33:7},keyLength={1:16,2:24,3:32,10:16,11:32,12:16,13:32,30:16,31:32,32:16,33:32,"P-521":66,"P-256":32},HKDFAlg={"ECDH-ES":"sha256","ECDH-ES-512":"sha512","ECDH-SS":"sha256","ECDH-SS-512":"sha512"},nodeCRV={"P-521":"secp521r1","P-256":"prime256v1"};function createAAD(p,context,encStructure){encStructure=[context,p=p.size?cbor.encode(p):EMPTY_BUFFER,encStructure];return cbor.encode(encStructure)}function _randomSource(bytes){return crypto.randomBytes(bytes)}function nodeEncrypt(payload,key,chiperOptions,iv,aad,aadOptions=!1){var nodeAlg=COSEAlgToNodeAlg[TagToAlg[chiperOptions]],chiperOptions=aadOptions?{authTagLength:authTagLength[chiperOptions]}:null,aadOptions=aadOptions?{plaintextLength:Buffer.byteLength(payload)}:null;const cipher=crypto.createCipheriv(nodeAlg,key,iv,chiperOptions);return cipher.setAAD(aad,aadOptions),Buffer.concat([cipher.update(payload),cipher.final(),cipher.getAuthTag()])}function createContext(rp,alg,partyUNonce){return cbor.encode([alg,[null,partyUNonce||null,null],[null,null,null],[8*keyLength[alg],rp]])}function nodeDecrypt(ciphertext,key,chiperOptions,iv,tag,aad,aadOptions=!1){var nodeAlg=COSEAlgToNodeAlg[TagToAlg[chiperOptions]],chiperOptions=aadOptions?{authTagLength:authTagLength[chiperOptions]}:null,aadOptions=aadOptions?{plaintextLength:Buffer.byteLength(ciphertext)}:null;const decipher=crypto.createDecipheriv(nodeAlg,key,iv,chiperOptions);return decipher.setAuthTag(tag),decipher.setAAD(aad,aadOptions),Buffer.concat([decipher.update(ciphertext),decipher.final()])}exports.create=function(headers,payload,recipients,options){return new Promise((resolve,reject)=>{var externalAAD=(options=options||{}).externalAAD||EMPTY_BUFFER;const randomSource=options.randomSource||_randomSource;let u=headers.u||{},p=headers.p||{};p=common.TranslateHeaders(p),u=common.TranslateHeaders(u);var alg=p.get(common.HeaderParameters.alg)||u.get(common.HeaderParameters.alg);if(!alg)throw new Error("Missing mandatory parameter 'alg'");if(Array.isArray(recipients)){if(0===recipients.length)throw new Error("There has to be at least one recipent");if(1<recipients.length)throw new Error("Encrypting with multiple recipents is not implemented");let iv;options.contextIv?(ru=randomSource(2),iv=common.xor(ru,options.contextIv),u.set(common.HeaderParameters.Partial_IV,ru)):(iv=randomSource(ivLenght[alg]),u.set(common.HeaderParameters.IV,iv));var encrypted=createAAD(p,"Encrypt",externalAAD);let key,recipientStruct;if(recipients[0]&&recipients[0].p&&("ECDH-ES"===recipients[0].p.alg||"ECDH-ES-512"===recipients[0].p.alg||"ECDH-SS"===recipients[0].p.alg||"ECDH-SS-512"===recipients[0].p.alg)){const recipient=crypto.createECDH(nodeCRV[recipients[0].key.crv]),generated=crypto.createECDH(nodeCRV[recipients[0].key.crv]);recipient.setPrivateKey(recipients[0].key.d);let pk=randomSource(keyLength[recipients[0].key.crv]);"ECDH-ES"===recipients[0].p.alg||"ECDH-ES-512"===recipients[0].p.alg?(pk=randomSource(keyLength[recipients[0].key.crv]),pk[0]="P-521"!==recipients[0].key.crv||1===pk[0]?pk[0]:0):pk=recipients[0].sender.d,generated.setPrivateKey(pk);const senderPublicKey=generated.getPublicKey();var nrBytes=Buffer.concat([Buffer.from("04","hex"),recipients[0].key.x,recipients[0].key.y]),generatedKey=common.TranslateKey({crv:recipients[0].key.crv,x:senderPublicKey.slice(1,keyLength[recipients[0].key.crv]+1),y:senderPublicKey.slice(keyLength[recipients[0].key.crv]+1),kty:"EC2"}),rp=cbor.encode(common.TranslateHeaders(recipients[0].p)),ikm=generated.computeSecret(nrBytes);let partyUNonce=null;"ECDH-SS"!==recipients[0].p.alg&&"ECDH-SS-512"!==recipients[0].p.alg||(partyUNonce=randomSource(64));var context=createContext(rp,alg,partyUNonce),nrBytes=keyLength[alg];const hkdf=new HKDF(HKDFAlg[recipients[0].p.alg],void 0,ikm);key=hkdf.derive(context,nrBytes);let ru=recipients[0].u;"ECDH-ES"===recipients[0].p.alg||"ECDH-ES-512"===recipients[0].p.alg?ru.ephemeral_key=generatedKey:ru.static_key=generatedKey,ru.partyUNonce=partyUNonce,ru=common.TranslateHeaders(ru),recipientStruct=[[rp,ru,EMPTY_BUFFER]]}else{key=recipients[0].key;var ru=common.TranslateHeaders(recipients[0].u);recipientStruct=[[EMPTY_BUFFER,ru,EMPTY_BUFFER]]}let ciphertext;if(isNodeAlg[alg])ciphertext=nodeEncrypt(payload,key,alg,iv,encrypted);else{if(!isCCMAlg[alg]||!runningInNode())throw new Error("No implementation for algorithm, "+alg);ciphertext=nodeEncrypt(payload,key,alg,iv,encrypted,!0)}p=0===p.size&&"empty"===options.encodep?EMPTY_BUFFER:cbor.encode(p);encrypted=[p,u,ciphertext,recipientStruct];resolve(cbor.encode(options.excludetag?encrypted:new Tagged(96,encrypted)))}else{let iv;if(options.contextIv){let partialIv=randomSource(2);iv=common.xor(partialIv,options.contextIv),u.set(common.HeaderParameters.Partial_IV,partialIv)}else iv=randomSource(ivLenght[alg]),u.set(common.HeaderParameters.IV,iv);let key;if(recipients&&recipients.p&&"ECDH-ES"===recipients.p.alg){const recipient=crypto.createECDH("prime256v1"),generated=crypto.createECDH("prime256v1");recipient.setPrivateKey(recipients.key.d),generated.setPrivateKey(randomSource(32));const recipientPublicKey=Buffer.concat([Buffer.from("04","hex"),recipients.key.x,recipients.key.y]),ikm=generated.computeSecret(recipientPublicKey),context=createContext(p),nrBytes=16,hkdf=new HKDF("sha256",void 0,ikm);key=hkdf.derive(context,16)}else key=recipients.key;const aad=createAAD(p,"Encrypt0",externalAAD);let ciphertext;if(isNodeAlg[alg])ciphertext=nodeEncrypt(payload,key,alg,iv,aad);else{if(!isCCMAlg[alg]||!runningInNode())throw new Error("No implementation for algorithm, "+alg);ciphertext=nodeEncrypt(payload,key,alg,iv,aad,!0)}p=0===p.size&&"empty"===options.encodep?EMPTY_BUFFER:cbor.encode(p);const encrypted=[p,u,ciphertext];resolve(cbor.encode(options.excludetag?encrypted:new Tagged(16,encrypted)))}})},exports.read=function(data,key,options){const externalAAD=(options=options||{}).externalAAD||EMPTY_BUFFER;return cbor.decodeFirst(data).then(aad=>{let msgTag=options.defaultType||96;if(aad instanceof Tagged){if(96!==aad.tag&&16!==aad.tag)throw new Error("Unknown tag, "+aad.tag);msgTag=aad.tag,aad=aad.value}if(!Array.isArray(aad))throw new Error("Expecting Array");if(96===msgTag&&4!==aad.length)throw new Error("Expecting Array of lenght 4 for COSE Encrypt message");if(16===msgTag&&3!==aad.length)throw new Error("Expecting Array of lenght 4 for COSE Encrypt0 message");let[p,u,ciphertext]=aad;p=0===p.length?EMPTY_BUFFER:cbor.decodeFirstSync(p),p=p.size?p:EMPTY_BUFFER,u=u.size?u:EMPTY_BUFFER;var alg=p!==EMPTY_BUFFER?p.get(common.HeaderParameters.alg):u!==EMPTY_BUFFER?u.get(common.HeaderParameters.alg):void 0;if(!TagToAlg[alg])throw new Error("Unknown or unsupported algorithm "+alg);let iv=u.get(common.HeaderParameters.IV);var tag=u.get(common.HeaderParameters.Partial_IV);if(iv&&tag)throw new Error("IV and Partial IV parameters MUST NOT both be present in the same security layer");if(tag&&!options.contextIv)throw new Error("Context IV must be provided when Partial IV is used");tag&&options.contextIv&&(iv=common.xor(tag,options.contextIv));aad=authTagLength[alg],tag=ciphertext.slice(ciphertext.length-aad,ciphertext.length);ciphertext=ciphertext.slice(0,ciphertext.length-aad);aad=createAAD(p,96===msgTag?"Encrypt":"Encrypt0",externalAAD);if(isNodeAlg[alg])return nodeDecrypt(ciphertext,key,alg,iv,tag,aad);if(isCCMAlg[alg]&&runningInNode())return nodeDecrypt(ciphertext,key,alg,iv,tag,aad,!0);throw new Error("No implementation for algorithm, "+alg)})}}.call(this)}.call(this,require("buffer").Buffer)},{"./common":108,"any-promise":23,buffer:93,cbor:113,crypto:130,"node-hkdf-sync":213}],110:[function(require,module,exports){"use strict";exports.common=require("./common"),exports.mac=require("./mac"),exports.sign=require("./sign"),exports.encrypt=require("./encrypt")},{"./common":108,"./encrypt":109,"./mac":111,"./sign":112}],111:[function(require,module,exports){"use strict";const cbor=require("cbor"),aesCbcMac=require("aes-cbc-mac"),crypto=require("crypto"),Promise=require("any-promise"),common=require("./common"),Tagged=cbor.Tagged,EMPTY_BUFFER=common.EMPTY_BUFFER,AlgFromTags=(exports.MAC0Tag=17,exports.MACTag=97,{4:"SHA-256_64",5:"SHA-256",6:"SHA-384",7:"SHA-512",14:"AES-MAC-128/64",15:"AES-MAC-256/64",25:"AES-MAC-128/128",26:"AES-MAC-256/128"}),COSEAlgToNodeAlg={"SHA-256_64":"sha256","SHA-256":"sha256",HS256:"sha256","SHA-384":"sha384","SHA-512":"sha512","AES-MAC-128/64":"aes-cbc-mac-64","AES-MAC-128/128":"aes-cbc-mac-128","AES-MAC-256/64":"aes-cbc-mac-64","AES-MAC-256/128":"aes-cbc-mac-128"},CutTo={4:8,5:32,6:48,7:64},context={};function doMac(context,p,externalAAD,payload,alg,key){return new Promise((resolve,reject)=>{var mac=[context,p,externalAAD,payload],toBeMACed=cbor.encode(mac);if("aes-cbc-mac-64"===alg){mac=aesCbcMac.create(key,toBeMACed,8);resolve(mac)}else if("aes-cbc-mac-128"===alg){const mac=aesCbcMac.create(key,toBeMACed,16);resolve(mac)}else{const hmac=crypto.createHmac(alg,key);hmac.end(toBeMACed,function(){resolve(hmac.read())})}})}context[17]="MAC0",context[97]="MAC",exports.create=function(predictableP,payload,recipents,externalAAD,options){options=options||{},externalAAD=externalAAD||EMPTY_BUFFER;let u=predictableP.u||{},p=predictableP.p||{};p=common.TranslateHeaders(p),u=common.TranslateHeaders(u);const alg=p.get(common.HeaderParameters.alg)||u.get(common.HeaderParameters.alg);if(!alg)throw new Error("Missing mandatory parameter 'alg'");if(0===recipents.length)throw new Error("There has to be at least one recipent");predictableP=p.size?cbor.encode(p):EMPTY_BUFFER;if(p=0===p.size&&"empty"===options.encodep?EMPTY_BUFFER:cbor.encode(p),Array.isArray(recipents)){if(1<recipents.length)throw new Error("MACing with multiple recipents is not implemented");const recipent=recipents[0];return doMac("MAC",predictableP,externalAAD,payload,COSEAlgToNodeAlg[AlgFromTags[alg]],recipent.key).then(tag=>{tag=tag.slice(0,CutTo[alg]);var maced=common.TranslateHeaders(recipent.u),rp=EMPTY_BUFFER,maced=[p,u,payload,tag,[[rp,maced,EMPTY_BUFFER]]];return cbor.encode(options.excludetag?maced:new Tagged(97,maced))})}return doMac("MAC0",predictableP,externalAAD,payload,COSEAlgToNodeAlg[AlgFromTags[alg]],recipents.key).then(maced=>{maced=maced.slice(0,CutTo[alg]);maced=[p,u,payload,maced];return cbor.encode(options.excludetag?maced:new Tagged(17,maced))})},exports.read=function(data,key,externalAAD,options){return options=options||{},externalAAD=externalAAD||EMPTY_BUFFER,cbor.decodeFirst(data).then(obj=>{let type=options.defaultType||17;if(obj instanceof Tagged){if(17!==obj.tag&&97!==obj.tag)throw new Error("Unexpected cbor tag, '"+obj.tag+"'");type=obj.tag,obj=obj.value}if(!Array.isArray(obj))throw new Error("Expecting Array");if(17===type&&4!==obj.length)throw new Error("Expecting Array of lenght 4");if(97===type&&5!==obj.length)throw new Error("Expecting Array of lenght 5");let[p,u,payload,tag]=obj;p=p.length?cbor.decode(p):EMPTY_BUFFER,p=p.size?p:EMPTY_BUFFER,u=u.size?u:EMPTY_BUFFER;const alg=p!==EMPTY_BUFFER?p.get(common.HeaderParameters.alg):u!==EMPTY_BUFFER?u.get(common.HeaderParameters.alg):void 0;if(p=p.size?cbor.encode(p):EMPTY_BUFFER,!AlgFromTags[alg])throw new Error("Unknown algorithm, "+alg);if(!COSEAlgToNodeAlg[AlgFromTags[alg]])throw new Error("Unsupported algorithm, "+AlgFromTags[alg]);return doMac(context[type],p,externalAAD,payload,COSEAlgToNodeAlg[AlgFromTags[alg]],key).then(calcTag=>{if(calcTag=calcTag.slice(0,CutTo[alg]),tag.toString("hex")!==calcTag.toString("hex"))throw new Error("Tag mismatch");return payload})})}},{"./common":108,"aes-cbc-mac":22,"any-promise":23,cbor:113,crypto:130}],112:[function(require,module,exports){!function(Buffer){!function(){"use strict";const cbor=require("cbor"),EC=require("elliptic").ec,crypto=require("crypto"),common=require("./common"),Promise=require("any-promise"),EMPTY_BUFFER=common.EMPTY_BUFFER,Tagged=cbor.Tagged,AlgFromTags=(exports.SignTag=98,exports.Sign1Tag=18,{"-7":{sign:"ES256",digest:"SHA-256"},"-35":{sign:"ES384",digest:"SHA-384"},"-36":{sign:"ES512",digest:"SHA-512"},"-257":{sign:"RS256",digest:"SHA-256"},"-258":{sign:"RS384",digest:"SHA-384"},"-259":{sign:"RS512",digest:"SHA-512"}}),COSEAlgToNodeAlg={ES256:{sign:"p256",digest:"sha256"},ES384:{sign:"p384",digest:"sha384"},ES512:{sign:"p521",digest:"sha512"},RS256:{sign:"RSA-SHA256"},RS384:{sign:"RSA-SHA384"},RS512:{sign:"RSA-SHA512"}};function doSign(SigStructure,signer,alg){return new Promise((resolve,reject)=>{if(!AlgFromTags[alg])throw new Error("Unknown algorithm, "+alg);if(!COSEAlgToNodeAlg[AlgFromTags[alg].sign])throw new Error("Unsupported algorithm, "+AlgFromTags[alg].sign);let ToBeSigned=cbor.encode(SigStructure),sig;if(AlgFromTags[alg].sign.startsWith("ES")){const hash=crypto.createHash(COSEAlgToNodeAlg[AlgFromTags[alg].sign].digest);hash.update(ToBeSigned),ToBeSigned=hash.digest();const ec=new EC(COSEAlgToNodeAlg[AlgFromTags[alg].sign].sign),key=ec.keyFromPrivate(signer.key.d),signature=key.sign(ToBeSigned);var bitLength=Math.ceil(ec.curve._bitLength/8);sig=Buffer.concat([signature.r.toArrayLike(Buffer,void 0,bitLength),signature.s.toArrayLike(Buffer,void 0,bitLength)])}else{const sign=crypto.createSign(COSEAlgToNodeAlg[AlgFromTags[alg].sign].sign);sign.update(ToBeSigned),sign.end(),sig=sign.sign(signer.key)}resolve(sig)})}function doVerify(SigStructure,verifier,alg,sig){return new Promise((resolve,reject)=>{if(!AlgFromTags[alg])throw new Error("Unknown algorithm, "+alg);if(!COSEAlgToNodeAlg[AlgFromTags[alg].sign])throw new Error("Unsupported algorithm, "+AlgFromTags[alg].sign);var ToBeSigned=cbor.encode(SigStructure);if(AlgFromTags[alg].sign.startsWith("ES")){const hash=crypto.createHash(COSEAlgToNodeAlg[AlgFromTags[alg].sign].digest);hash.update(ToBeSigned);var msgHash=hash.digest(),pub={x:verifier.key.x,y:verifier.key.y};const ec=new EC(COSEAlgToNodeAlg[AlgFromTags[alg].sign].sign),key=ec.keyFromPublic(pub);if(sig={r:sig.slice(0,sig.length/2),s:sig.slice(sig.length/2)},!key.verify(msgHash,sig))throw new Error("Signature missmatch");resolve()}else{const verify=crypto.createVerify(COSEAlgToNodeAlg[AlgFromTags[alg].sign].sign);if(verify.update(ToBeSigned),!verify.verify(verifier.key,sig))throw new Error("Signature missmatch");resolve()}})}exports.create=function(alg,payload,signers,options){options=options||{};let u=alg.u||{},p=alg.p||{};p=common.TranslateHeaders(p),u=common.TranslateHeaders(u);let bodyP=p||{};if(bodyP=0===bodyP.size?EMPTY_BUFFER:cbor.encode(bodyP),Array.isArray(signers)){if(0===signers.length)throw new Error("There has to be at least one signer");if(1<signers.length)throw new Error("Only one signer is supported");var signer=signers[0],externalAAD=signer.externalAAD||EMPTY_BUFFER;let signerP=signer.p||{},signerU=signer.u||{};signerP=common.TranslateHeaders(signerP),signerU=common.TranslateHeaders(signerU);alg=signerP.get(common.HeaderParameters.alg);return signerP=0===signerP.size?EMPTY_BUFFER:cbor.encode(signerP),doSign(["Signature",bodyP,signerP,externalAAD,payload],signer,alg).then(signed=>{p=0===p.size&&"empty"===options.encodep?EMPTY_BUFFER:cbor.encode(p);signed=[p,u,payload,[[signerP,signerU,signed]]];return cbor.encode(options.excludetag?signed:new Tagged(98,signed))})}{const signer=signers,externalAAD=signer.externalAAD||EMPTY_BUFFER,alg=p.get(common.HeaderParameters.alg)||u.get(common.HeaderParameters.alg),SigStructure=["Signature1",bodyP,externalAAD,payload];return doSign(SigStructure,signer,alg).then(signed=>{p=0===p.size&&"empty"===options.encodep?EMPTY_BUFFER:cbor.encode(p);signed=[p,u,payload,signed];return cbor.encodeCanonical(options.excludetag?signed:new Tagged(18,signed))})}},exports.verify=function(payload,verifier,options){return options=options||{},cbor.decodeFirst(payload).then(alg=>{let type=options.defaultType||98;if(alg instanceof Tagged){if(98!==alg.tag&&18!==alg.tag)throw new Error("Unexpected cbor tag, '"+alg.tag+"'");type=alg.tag,alg=alg.value}if(!Array.isArray(alg))throw new Error("Expecting Array");if(4!==alg.length)throw new Error("Expecting Array of lenght 4");let[p,u,plaintext,signers]=alg;if(98===type&&!Array.isArray(signers))throw new Error("Expecting signature Array");p=p.length?cbor.decodeFirstSync(p):EMPTY_BUFFER,u=u.size?u:EMPTY_BUFFER;var signer=98===type?function(signers,verifier){for(let i=0;i<signers.length;i++){const kid=signers[i][1].get(common.HeaderParameters.kid);if(kid.equals(Buffer.from(verifier.key.kid,"utf8")))return signers[i]}}(signers,verifier):signers;if(!signer)throw new Error("Failed to find signer with kid"+verifier.key.kid);if(98===type){var externalAAD=verifier.externalAAD||EMPTY_BUFFER;let[signerP,,sig]=signer;signerP=signerP.length?signerP:EMPTY_BUFFER,p=p.size?cbor.encode(p):EMPTY_BUFFER;const signerPMap=cbor.decode(signerP);alg=signerPMap.get(common.HeaderParameters.alg);return doVerify(["Signature",p,signerP,externalAAD,plaintext],verifier,alg,sig).then(()=>plaintext)}{const externalAAD=verifier.externalAAD||EMPTY_BUFFER,alg=function(first,second,parameter){let result;return first.get&&(result=first.get(parameter)),!result&&second.get&&(result=second.get(parameter)),result}(p,u,common.HeaderParameters.alg);p=p.size?cbor.encode(p):EMPTY_BUFFER;const SigStructure=["Signature1",p,externalAAD,plaintext];return doVerify(SigStructure,verifier,alg,signer).then(()=>plaintext)}})}}.call(this)}.call(this,require("buffer").Buffer)},{"./common":108,"any-promise":23,buffer:93,cbor:113,crypto:130,elliptic:143}],113:[function(require,module,exports){"use strict";exports.Commented=require("./commented"),exports.Diagnose=require("./diagnose"),exports.Decoder=require("./decoder"),exports.Encoder=require("./encoder"),exports.Simple=require("./simple"),exports.Tagged=require("./tagged"),exports.comment=exports.Commented.comment,exports.decodeAll=exports.Decoder.decodeAll,exports.decodeFirst=exports.Decoder.decodeFirst,exports.decodeAllSync=exports.Decoder.decodeAllSync,exports.decodeFirstSync=exports.Decoder.decodeFirstSync,exports.diagnose=exports.Diagnose.diagnose,exports.encode=exports.Encoder.encode,exports.encodeCanonical=exports.Encoder.encodeCanonical,exports.decode=exports.Decoder.decodeFirstSync,exports.leveldb={decode:exports.Decoder.decodeAllSync,encode:exports.Encoder.encode,buffer:!0,name:"cbor"}},{"./commented":114,"./decoder":116,"./diagnose":117,"./encoder":118,"./simple":119,"./tagged":120}],114:[function(require,module,exports){!function(Buffer){!function(){"use strict";var stream=require("stream");const util=require("util");require("./utils"),require("./simple");const Decoder=require("./decoder");var constants=require("./constants");const bignumber=require("bignumber.js"),NoFilter=require("nofilter"),MT=constants.MT,NUMBYTES=constants.NUMBYTES,SYMS=constants.SYMS;function plural(c){return 1<c?"s":""}class Commented extends stream.Transform{constructor(options){(options=options||{}).readableObjectMode=!1,options.writableObjectMode=!1;var max_depth=null!=options.max_depth?options.max_depth:10;delete options.max_depth,super(options),this.depth=1,this.max_depth=max_depth,this.all=new NoFilter,this.parser=new Decoder(options),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_transform(fresh,encoding,cb){this.parser.write(fresh,encoding,cb)}_flush(cb){return this.parser._flush(cb)}static comment(input,options,cb){if(null==input)throw new Error("input required");let encoding="string"==typeof input?"hex":void 0,max_depth=10;switch(typeof options){case"function":cb=options;break;case"string":encoding=options;break;case"number":max_depth=options;break;case"object":var ref1=options.encoding,ref2=options.max_depth;encoding=null!=ref1?ref1:encoding,max_depth=null!=ref2?ref2:max_depth;break;case"undefined":break;default:throw new Error("Unknown option type")}const bs=new NoFilter,d=new Commented({max_depth:max_depth});let p=null;return"function"==typeof cb?(d.on("end",()=>{cb(null,bs.toString("utf8"))}),d.on("error",cb)):p=new Promise((resolve,reject)=>(d.on("end",()=>{resolve(bs.toString("utf8"))}),d.on("error",reject))),d.pipe(bs),d.end(input,encoding),p}_on_error(er){return this.push("ERROR: ")&&this.push(er.toString())&&this.push("\n")}_on_read(hex){this.all.write(hex);hex=hex.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(hex);let ind=2*(this.max_depth-this.depth);return ind-=hex.length,ind<1&&(ind=1),this.push(new Array(ind+1).join(" ")),this.push("-- ")}_on_more(mt,len,parent_mt,pos){this.depth++;let desc="";switch(mt){case MT.POS_INT:desc="Positive number,";break;case MT.NEG_INT:desc="Negative number,";break;case MT.ARRAY:desc="Array, length";break;case MT.MAP:desc="Map, count";break;case MT.BYTE_STRING:desc="Bytes, length";break;case MT.UTF8_STRING:desc="String, length";break;case MT.SIMPLE_FLOAT:desc=1===len?"Simple value,":"Float,"}return this.push(desc+" next "+len+" byte"+plural(len)+"\n")}_on_start_string(mt,tag,parent_mt,pos){this.depth++;let desc="";switch(mt){case MT.BYTE_STRING:desc="Bytes, length: "+tag;break;case MT.UTF8_STRING:desc="String, length: "+tag.toString()}return this.push(desc+"\n")}_on_start(mt,tag,parent_mt,pos){return this.depth++,tag!==SYMS.BREAK&&this.push((()=>{switch(parent_mt){case MT.ARRAY:return"["+pos+"], ";case MT.MAP:return pos%2?"{Val:"+Math.floor(pos/2)+"}, ":"{Key:"+Math.floor(pos/2)+"}, "}})()),this.push((()=>{switch(mt){case MT.TAG:return"Tag #"+tag;case MT.ARRAY:return tag===SYMS.STREAM?"Array (streaming)":"Array, "+tag+" item"+plural(tag);case MT.MAP:return tag===SYMS.STREAM?"Map (streaming)":"Map, "+tag+" pair"+plural(tag);case MT.BYTE_STRING:return"Bytes (streaming)";case MT.UTF8_STRING:return"String (streaming)"}})()),this.push("\n")}_on_stop(mt){return this.depth--}_on_value(val,parent_mt,pos,ai){switch(val!==SYMS.BREAK&&this.push((()=>{switch(parent_mt){case MT.ARRAY:return"["+pos+"], ";case MT.MAP:return pos%2?"{Val:"+Math.floor(pos/2)+"}, ":"{Key:"+Math.floor(pos/2)+"}, "}})()),val===SYMS.BREAK?this.push("BREAK\n"):val===SYMS.NULL?this.push("null\n"):val===SYMS.UNDEFINED?this.push("undefined\n"):"string"==typeof val?(this.depth--,0<val.length&&(this.push(JSON.stringify(val)),this.push("\n"))):Buffer.isBuffer(val)?(this.depth--,0<val.length&&(this.push(val.toString("hex")),this.push("\n"))):(val instanceof bignumber?this.push(val.toString()):this.push(util.inspect(val)),this.push("\n")),ai){case NUMBYTES.ONE:case NUMBYTES.TWO:case NUMBYTES.FOUR:case NUMBYTES.EIGHT:this.depth--}}_on_data(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}module.exports=Commented}.call(this)}.call(this,{isBuffer:require("../../../../is-buffer/index.js")})},{"../../../../is-buffer/index.js":203,"./constants":115,"./decoder":116,"./simple":119,"./utils":121,"bignumber.js":45,nofilter:123,stream:298,util:320}],115:[function(require,module,exports){"use strict";exports.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},exports.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},exports.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},exports.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},exports.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},exports.SHIFT32=Math.pow(2,32)},{}],116:[function(require,module,exports){!function(Buffer){!function(){"use strict";var BinaryParseStream=require("../vendor/binary-parse-stream");const Tagged=require("./tagged"),Simple=require("./simple"),utils=require("./utils"),bignumber=require("bignumber.js"),NoFilter=require("nofilter");var constants=require("./constants");const MT=constants.MT,NUMBYTES=constants.NUMBYTES;constants.SIMPLE;const SYMS=constants.SYMS,NEG_ONE=new bignumber(-1),NEG_MAX=NEG_ONE.sub(new bignumber(Number.MAX_SAFE_INTEGER.toString(16),16)),COUNT=Symbol("count");Symbol("pending_key");const MAJOR=Symbol("major type"),ERROR=Symbol("error"),NOT_FOUND=Symbol("not found");function parentArray(parent,typ,count){const a=[];return a[COUNT]=count,a[SYMS.PARENT]=parent,a[MAJOR]=typ,a}class Decoder extends BinaryParseStream{constructor(options){var tags=(options=options||{}).tags;delete options.tags;var max_depth=null!=options.max_depth?options.max_depth:-1;delete options.max_depth,super(options),this.running=!0,this.max_depth=max_depth,this.tags=tags}static nullcheck(val){switch(val){case SYMS.NULL:return null;case SYMS.UNDEFINED:return;case NOT_FOUND:throw new Error("Value not found");default:return val}}static decodeFirstSync(input,options){let opts={},encod;switch(typeof(options=options||{encoding:"hex"})){case"string":encod=options;break;case"object":opts=utils.extend({},options),encod=opts.encoding,delete opts.encoding}const c=new Decoder(opts),s=new NoFilter(input,null!=encod?encod:utils.guessEncoding(input)),parser=c._parse();let state=parser.next();for(;!state.done;){var b=s.read(state.value);if(null==b||b.length!==state.value)throw new Error("Insufficient data");state=parser.next(b)}return Decoder.nullcheck(state.value)}static decodeAllSync(input,options){let opts={},encod;switch(typeof(options=options||{encoding:"hex"})){case"string":encod=options;break;case"object":opts=utils.extend({},options),encod=opts.encoding,delete opts.encoding}const c=new Decoder(opts),s=new NoFilter(input,null!=encod?encod:utils.guessEncoding(input)),res=[];for(;0<s.length;){const parser=c._parse();let state=parser.next();for(;!state.done;){var b=s.read(state.value);if(null==b||b.length!==state.value)throw new Error("Insufficient data");state=parser.next(b)}res.push(Decoder.nullcheck(state.value))}return res}static decodeFirst(input,options,cb){let opts={},required=!1,encod="hex";switch(typeof options){case"function":cb=options,encod=utils.guessEncoding(input);break;case"string":encod=options;break;case"object":opts=utils.extend({},options),encod=null!=opts.encoding?opts.encoding:utils.guessEncoding(input),delete opts.encoding,required=null!=opts.required&&opts.required,delete opts.required}const c=new Decoder(opts);let p,v=NOT_FOUND;return c.on("data",val=>{v=Decoder.nullcheck(val),c.close()}),"function"==typeof cb?(c.once("error",er=>{var u=v;return v=ERROR,c.close(),cb(er,u)}),c.once("end",()=>{switch(v){case NOT_FOUND:return required?cb(new Error("No CBOR found")):cb(null,v);case ERROR:return;default:return cb(null,v)}})):p=new Promise((resolve,reject)=>(c.once("error",er=>(v=ERROR,c.close(),reject(er))),c.once("end",()=>{switch(v){case NOT_FOUND:return required?reject(new Error("No CBOR found")):resolve(v);case ERROR:return;default:return resolve(v)}}))),c.end(input,encod),p}static decodeAll(input,options,cb){let opts={},encod="hex";switch(typeof options){case"function":cb=options,encod=utils.guessEncoding(input);break;case"string":encod=options;break;case"object":opts=utils.extend({},options),encod=null!=opts.encoding?opts.encoding:utils.guessEncoding(input),delete opts.encoding}const c=new Decoder(opts);let p;const vals=[];return c.on("data",val=>vals.push(Decoder.nullcheck(val))),"function"==typeof cb?(c.on("error",cb),c.on("end",()=>cb(null,vals))):p=new Promise((resolve,reject)=>{c.on("error",reject),c.on("end",()=>resolve(vals))}),c.end(input,encod),p}close(){this.running=!1,this.__fresh=!0}*_parse(){let parent=null,depth=0,val=null;for(;;){if(0<=this.max_depth&&depth>this.max_depth)throw new Error("Maximum depth "+this.max_depth+" exceeded");const octet=(yield 1)[0];if(!this.running)throw new Error("Unexpected data: 0x"+octet.toString(16));var mt=octet>>5,ai=31&octet,parent_major=null!=parent?parent[MAJOR]:void 0,parent_length=null!=parent?parent.length:void 0;switch(ai){case NUMBYTES.ONE:this.emit("more-bytes",mt,1,parent_major,parent_length),val=(yield 1)[0];break;case NUMBYTES.TWO:case NUMBYTES.FOUR:case NUMBYTES.EIGHT:var buf=1<<ai-24;this.emit("more-bytes",mt,buf,parent_major,parent_length);buf=yield buf;val=mt===MT.SIMPLE_FLOAT?buf:utils.parseCBORint(ai,buf);break;case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+ai);case NUMBYTES.INDEFINITE:val=-1;break;default:val=ai}switch(mt){case MT.POS_INT:break;case MT.NEG_INT:val=val===Number.MAX_SAFE_INTEGER?NEG_MAX:val instanceof bignumber?NEG_ONE.sub(val):-1-val;break;case MT.BYTE_STRING:case MT.UTF8_STRING:switch(val){case 0:this.emit("start-string",mt,val,parent_major,parent_length),val=mt===MT.BYTE_STRING?new Buffer(0):"";break;case-1:this.emit("start",mt,SYMS.STREAM,parent_major,parent_length),parent=function(parent,typ){const b=new NoFilter;return b[SYMS.PARENT]=parent,b[MAJOR]=typ,b}(parent,mt),depth++;continue;default:this.emit("start-string",mt,val,parent_major,parent_length),val=yield val,mt===MT.UTF8_STRING&&(val=val.toString("utf-8"))}break;case MT.ARRAY:case MT.MAP:switch(val){case 0:val=mt===MT.MAP?{}:[];break;case-1:this.emit("start",mt,SYMS.STREAM,parent_major,parent_length),parent=parentArray(parent,mt,-1),depth++;continue;default:this.emit("start",mt,val,parent_major,parent_length),parent=parentArray(parent,mt,val*(mt-3)),depth++;continue}break;case MT.TAG:this.emit("start",mt,val,parent_major,parent_length),parent=parentArray(parent,mt,1),parent.push(val),depth++;continue;case MT.SIMPLE_FLOAT:val="number"==typeof val?Simple.decode(val,null!=parent):utils.parseCBORfloat(val)}this.emit("value",val,parent_major,parent_length,ai);let again=!1;for(;null!=parent;){switch(!1){case val!==SYMS.BREAK:parent[COUNT]=1;break;case!Array.isArray(parent):parent.push(val);break;case!(parent instanceof NoFilter):var pm=parent[MAJOR];if(null!=pm&&pm!==mt)throw this.running=!1,new Error("Invalid major type in indefinite encoding");parent.write(val)}if(0!=--parent[COUNT]){again=!0;break}if(--depth,delete parent[COUNT],this.emit("stop",parent[MAJOR]),Array.isArray(parent))switch(parent[MAJOR]){case MT.ARRAY:val=parent;break;case MT.MAP:let allstrings=!0;if(parent.length%2!=0)throw new Error("Invalid map length: "+parent.length);for(let i=0,len=parent.length;i<len;i+=2)if("string"!=typeof parent[i]){allstrings=!1;break}if(allstrings){val={};for(let i=0,len=parent.length;i<len;i+=2)val[parent[i]]=parent[i+1]}else{val=new Map;for(let i=0,len=parent.length;i<len;i+=2)val.set(parent[i],parent[i+1])}break;case MT.TAG:const t=new Tagged(parent[0],parent[1]);val=t.convert(this.tags)}else if(parent instanceof NoFilter)switch(parent[MAJOR]){case MT.BYTE_STRING:val=parent.slice();break;case MT.UTF8_STRING:val=parent.toString("utf-8")}const old=parent;parent=parent[SYMS.PARENT],delete old[SYMS.PARENT],delete old[MAJOR]}if(!again)return val}}}Decoder.NOT_FOUND=NOT_FOUND,module.exports=Decoder}.call(this)}.call(this,require("buffer").Buffer)},{"../vendor/binary-parse-stream":122,"./constants":115,"./simple":119,"./tagged":120,"./utils":121,"bignumber.js":45,buffer:93,nofilter:123}],117:[function(require,module,exports){!function(Buffer){!function(){"use strict";var stream=require("stream");const util=require("util"),Decoder=require("./decoder");require("./simple");const utils=require("./utils");var constants=require("./constants");const bignumber=require("bignumber.js"),NoFilter=require("nofilter"),MT=constants.MT,SYMS=constants.SYMS;class Diagnose extends stream.Transform{constructor(options){var separator=null!=(options=options||{}).separator?options.separator:"\n";delete options.separator;var stream_errors=null!=options.stream_errors&&options.stream_errors;delete options.stream_errors,options.readableObjectMode=!1,options.writableObjectMode=!1,super(options),this.float_bytes=-1,this.separator=separator,this.stream_errors=stream_errors,this.parser=new Decoder(options),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(fresh,encoding,cb){return this.parser.write(fresh,encoding,cb)}_flush(cb){return this.parser._flush(er=>this.stream_errors?(this._on_error(er),cb()):cb(er))}static diagnose(input,encoding,cb){if(null==input)throw new Error("input required");let opts={},encod="hex";switch(typeof encoding){case"function":cb=encoding,encod=utils.guessEncoding(input);break;case"object":opts=utils.extend({},encoding),encod=null!=opts.encoding?opts.encoding:utils.guessEncoding(input),delete opts.encoding;break;default:encod=null!=encoding?encoding:"hex"}const bs=new NoFilter,d=new Diagnose(opts);let p=null;return"function"==typeof cb?(d.on("end",function(){return cb(null,bs.toString("utf8"))}),d.on("error",cb)):p=new Promise(function(resolve,reject){return d.on("end",function(){return resolve(bs.toString("utf8"))}),d.on("error",reject)}),d.pipe(bs),d.end(input,encod),p}_on_error(er){return this.stream_errors?this.push(er.toString()):this.emit("error",er)}_on_more(mt,len,parent_mt,pos){if(mt===MT.SIMPLE_FLOAT)return this.float_bytes=function(){switch(len){case 2:return 1;case 4:return 2;case 8:return 3}}()}_fore(parent_mt,pos){switch(parent_mt){case MT.BYTE_STRING:case MT.UTF8_STRING:case MT.ARRAY:if(0<pos)return this.push(", ");break;case MT.MAP:if(0<pos)return pos%2?this.push(": "):this.push(", ")}}_on_value(val,parent_mt,pos){if(val!==SYMS.BREAK)return this._fore(parent_mt,pos),this.push(function(){switch(!1){case val!==SYMS.NULL:return"null";case val!==SYMS.UNDEFINED:return"undefined";case"string"!=typeof val:return JSON.stringify(val);case!(0<this.float_bytes):var fb=this.float_bytes;return this.float_bytes=-1,util.inspect(val)+"_"+fb;case!Buffer.isBuffer(val):return"h'"+val.toString("hex")+"'";case!(val instanceof bignumber):return val.toString();default:return util.inspect(val)}}.call(this))}_on_start(mt,tag,parent_mt,pos){if(this._fore(parent_mt,pos),this.push(function(){switch(mt){case MT.TAG:return tag+"(";case MT.ARRAY:return"[";case MT.MAP:return"{";case MT.BYTE_STRING:case MT.UTF8_STRING:return"(";default:throw new Error("Unknown diagnostic type: "+mt)}}()),tag===SYMS.STREAM)return this.push("_ ")}_on_stop(mt){return this.push(function(){switch(mt){case MT.TAG:return")";case MT.ARRAY:return"]";case MT.MAP:return"}";case MT.BYTE_STRING:case MT.UTF8_STRING:return")";default:throw new Error("Unknown diagnostic type: "+mt)}}())}_on_data(){return this.push(this.separator)}}module.exports=Diagnose}.call(this)}.call(this,{isBuffer:require("../../../../is-buffer/index.js")})},{"../../../../is-buffer/index.js":203,"./constants":115,"./decoder":116,"./simple":119,"./utils":121,"bignumber.js":45,nofilter:123,stream:298,util:320}],118:[function(require,module,exports){!function(Buffer){!function(){"use strict";var stream=require("stream");const url=require("url"),bignumber=require("bignumber.js"),NoFilter=require("nofilter");require("./tagged"),require("./simple");const utils=require("./utils");var constants=require("./constants");const MT=constants.MT,NUMBYTES=constants.NUMBYTES,SHIFT32=constants.SHIFT32,SYMS=constants.SYMS,TAG=constants.TAG,HALF=constants.MT.SIMPLE_FLOAT<<5|constants.NUMBYTES.TWO,FLOAT=constants.MT.SIMPLE_FLOAT<<5|constants.NUMBYTES.FOUR,DOUBLE=constants.MT.SIMPLE_FLOAT<<5|constants.NUMBYTES.EIGHT,TRUE=constants.MT.SIMPLE_FLOAT<<5|constants.SIMPLE.TRUE,FALSE=constants.MT.SIMPLE_FLOAT<<5|constants.SIMPLE.FALSE,UNDEFINED=constants.MT.SIMPLE_FLOAT<<5|constants.SIMPLE.UNDEFINED,NULL=constants.MT.SIMPLE_FLOAT<<5|constants.SIMPLE.NULL,MAXINT_BN=new bignumber("0x20000000000000"),BUF_NAN=new Buffer("f97e00","hex"),BUF_INF_NEG=new Buffer("f9fc00","hex"),BUF_INF_POS=new Buffer("f97c00","hex");class Encoder extends stream.Transform{constructor(options){(options=options||{}).readableObjectMode=!1,options.writableObjectMode=!0,super(options),this.canonical=options.canonical,this.semanticTypes=[Array,this._pushArray,Date,this._pushDate,Buffer,this._pushBuffer,Map,this._pushMap,NoFilter,this._pushNoFilter,RegExp,this._pushRegexp,Set,this._pushSet,url.Url,this._pushUrl,bignumber,this._pushBigNumber];var addTypes=options.genTypes||[];for(let i=0,len=addTypes.length;i<len;i+=2)this.addSemanticType(addTypes[i],addTypes[i+1])}_transform(fresh,encoding,cb){return cb(!1===this.pushAny(fresh)?new Error("Push Error"):void 0)}_flush(cb){return cb()}addSemanticType(type,fun){for(let i=0,len=this.semanticTypes.length;i<len;i+=2)if(this.semanticTypes[i]===type){var old=this.semanticTypes[i+1];return this.semanticTypes[i+1]=fun,old}return this.semanticTypes.push(type,fun),null}_pushUInt8(val){const b=new Buffer(1);return b.writeUInt8(val),this.push(b)}_pushUInt16BE(val){const b=new Buffer(2);return b.writeUInt16BE(val),this.push(b)}_pushUInt32BE(val){const b=new Buffer(4);return b.writeUInt32BE(val),this.push(b)}_pushDoubleBE(val){const b=new Buffer(8);return b.writeDoubleBE(val),this.push(b)}_pushNaN(){return this.push(BUF_NAN)}_pushInfinity(half){half=half<0?BUF_INF_NEG:BUF_INF_POS;return this.push(half)}_pushFloat(obj){if(this.canonical){var b2=new Buffer(2);if(utils.writeHalf(b2,obj)&&utils.parseHalf(b2)===obj)return this._pushUInt8(HALF)&&this.push(b2);const b4=new Buffer(4);if(b4.writeFloatBE(obj),b4.readFloatBE()===obj)return this._pushUInt8(FLOAT)&&this.push(b4)}return this._pushUInt8(DOUBLE)&&this._pushDoubleBE(obj)}_pushInt(obj,mt,orig){var m=mt<<5;switch(!1){case!(obj<24):return this._pushUInt8(m|obj);case!(obj<=255):return this._pushUInt8(m|NUMBYTES.ONE)&&this._pushUInt8(obj);case!(obj<=65535):return this._pushUInt8(m|NUMBYTES.TWO)&&this._pushUInt16BE(obj);case!(obj<=4294967295):return this._pushUInt8(m|NUMBYTES.FOUR)&&this._pushUInt32BE(obj);case!(obj<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(m|NUMBYTES.EIGHT)&&this._pushUInt32BE(Math.floor(obj/SHIFT32))&&this._pushUInt32BE(obj%SHIFT32);default:return mt===MT.NEG_INT?this._pushFloat(orig):this._pushFloat(obj)}}_pushIntNum(obj){return obj<0?this._pushInt(-obj-1,MT.NEG_INT,obj):this._pushInt(obj,MT.POS_INT)}_pushNumber(obj){switch(!1){case!isNaN(obj):return this._pushNaN(obj);case isFinite(obj):return this._pushInfinity(obj);case Math.round(obj)!==obj:return this._pushIntNum(obj);default:return this._pushFloat(obj)}}_pushString(obj){var len=Buffer.byteLength(obj,"utf8");return this._pushInt(len,MT.UTF8_STRING)&&this.push(obj,"utf8")}_pushBoolean(obj){return this._pushUInt8(obj?TRUE:FALSE)}_pushUndefined(obj){return this._pushUInt8(UNDEFINED)}_pushNull(obj){return this._pushUInt8(NULL)}_pushArray(gen,obj){var len=obj.length;if(!gen._pushInt(len,MT.ARRAY))return!1;for(let j=0;j<len;j++)if(!gen.pushAny(obj[j]))return!1;return!0}_pushTag(tag){return this._pushInt(tag,MT.TAG)}_pushDate(gen,obj){return gen._pushTag(TAG.DATE_EPOCH)&&gen.pushAny(obj/1e3)}_pushBuffer(gen,obj){return gen._pushInt(obj.length,MT.BYTE_STRING)&&gen.push(obj)}_pushNoFilter(gen,obj){return gen._pushBuffer(gen,obj.slice())}_pushRegexp(gen,obj){return gen._pushTag(TAG.REGEXP)&&gen.pushAny(obj.source)}_pushSet(gen,obj){if(!gen._pushInt(obj.size,MT.ARRAY))return!1;for(var x of obj)if(!gen.pushAny(x))return!1;return!0}_pushUrl(gen,obj){return gen._pushTag(TAG.URI)&&gen.pushAny(obj.format())}_pushBigint(buf){let tag=TAG.POS_BIGINT;buf.isNegative()&&(buf=buf.negated().minus(1),tag=TAG.NEG_BIGINT);let str=buf.toString(16);str.length%2&&(str="0"+str);buf=new Buffer(str,"hex");return this._pushTag(tag)&&this._pushBuffer(this,buf)}_pushBigNumber(gen,obj){if(obj.isNaN())return gen._pushNaN();if(!obj.isFinite())return gen._pushInfinity(obj.isNegative()?-1/0:1/0);if(obj.isInteger())return gen._pushBigint(obj);if(!gen._pushTag(TAG.DECIMAL_FRAC)||!gen._pushInt(2,MT.ARRAY))return!1;var dec=obj.decimalPlaces();const slide=obj.mul(new bignumber(10).pow(dec));return!!gen._pushIntNum(-dec)&&(slide.abs().lessThan(MAXINT_BN)?gen._pushIntNum(slide.toNumber()):gen._pushBigint(slide))}_pushMap(gen,obj){if(!gen._pushInt(obj.size,MT.MAP))return!1;if(gen.canonical){const entries=[];for(const e of obj.entries())entries.push(e);entries.sort((a,b_cbor)=>{const a_cbor=Encoder.encode(a[0]);b_cbor=Encoder.encode(b_cbor[0]);return a_cbor.compare(b_cbor)});for(const kv of entries)if(!gen.pushAny(kv[0])||!gen.pushAny(kv[1]))return!1}else for(const kv of obj)if(!gen.pushAny(kv[0])||!gen.pushAny(kv[1]))return!1;return!0}_pushObject(obj){if(!obj)return this._pushNull(obj);for(let i=0,len1=this.semanticTypes.length;i<len1;i+=2)if(obj instanceof this.semanticTypes[i])return this.semanticTypes[i+1].call(obj,this,obj);const f=obj.encodeCBOR;if("function"==typeof f)return f.call(obj,this);const keys=Object.keys(obj),cbor_keys={};if(this.canonical&&keys.sort((a,b_cbor)=>{const a_cbor=cbor_keys[a]||(cbor_keys[a]=Encoder.encode(a));b_cbor=cbor_keys[b_cbor]||(cbor_keys[b_cbor]=Encoder.encode(b_cbor));return a_cbor.compare(b_cbor)}),!this._pushInt(keys.length,MT.MAP))return!1;let ck;for(let j=0,len2=keys.length;j<len2;j++){var k=keys[j];if(this.canonical&&(ck=cbor_keys[k])){if(!this.push(ck))return!1}else if(!this._pushString(k))return!1;if(!this.pushAny(obj[k]))return!1}return!0}pushAny(obj){switch(typeof obj){case"number":return this._pushNumber(obj);case"string":return this._pushString(obj);case"boolean":return this._pushBoolean(obj);case"undefined":return this._pushUndefined(obj);case"object":return this._pushObject(obj);case"symbol":switch(obj){case SYMS.NULL:return this._pushNull(null);case SYMS.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+obj.toString())}default:throw new Error("Unknown type: "+typeof obj+", "+(obj?obj.toString():""))}}_pushAny(obj){return this.pushAny(obj)}_encodeAll(objs){const bs=new NoFilter;this.pipe(bs);for(var o of objs)void 0===o?this._pushUndefined():null===o?this._pushNull(null):this.write(o);return this.end(),bs.read()}static encode(){var objs=Array.prototype.slice.apply(arguments);return(new Encoder)._encodeAll(objs)}static encodeCanonical(){var objs=Array.prototype.slice.apply(arguments);return new Encoder({canonical:!0})._encodeAll(objs)}}module.exports=Encoder}.call(this)}.call(this,require("buffer").Buffer)},{"./constants":115,"./simple":119,"./tagged":120,"./utils":121,"bignumber.js":45,buffer:93,nofilter:123,stream:298,url:315}],119:[function(constants,module,exports){"use strict";constants=constants("./constants");const MT=constants.MT,SIMPLE=constants.SIMPLE,SYMS=constants.SYMS;module.exports=class Simple{constructor(value){if("number"!=typeof value)throw new Error("Invalid Simple type: "+typeof value);if(value<0||255<value||(0|value)!==value)throw new Error("value must be a small positive integer: "+value);this.value=value}toString(){return"simple("+this.value+")"}inspect(depth,opts){return"simple("+this.value+")"}encodeCBOR(gen){return gen._pushInt(this.value,MT.SIMPLE_FLOAT)}static isSimple(obj){return obj instanceof Simple}static decode(val,has_parent){switch(null==has_parent&&(has_parent=!0),val){case SIMPLE.FALSE:return!1;case SIMPLE.TRUE:return!0;case SIMPLE.NULL:return has_parent?null:SYMS.NULL;case SIMPLE.UNDEFINED:return has_parent?void 0:SYMS.UNDEFINED;case-1:if(!has_parent)throw new Error("Invalid BREAK");return SYMS.BREAK;default:return new Simple(val)}}}},{"./constants":115}],120:[function(require,module,exports){"use strict";const bignumber=require("bignumber.js"),utils=require("./utils"),url=require("url"),MINUS_ONE=new bignumber(-1),TEN=new bignumber(10),TWO=new bignumber(2);module.exports=class Tagged{constructor(tag,value,err){if(this.tag=tag,this.value=value,this.err=err,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(gen){return gen._pushTag(this.tag),gen.pushAny(this.value)}convert(f){if("function"!=typeof(f=null!=f?f[this.tag]:void 0)&&"function"!=typeof(f=Tagged["_tag_"+this.tag]))return this;try{return f.call(Tagged,this.value)}catch(error){return this.err=error,this}}static _tag_0(v){return new Date(v)}static _tag_1(v){return new Date(1e3*v)}static _tag_2(v){return utils.bufferToBignumber(v)}static _tag_3(v){return MINUS_ONE.minus(utils.bufferToBignumber(v))}static _tag_4(v){return TEN.pow(v[0]).times(v[1])}static _tag_5(v){return TWO.pow(v[0]).times(v[1])}static _tag_32(v){return url.parse(v)}static _tag_35(v){return new RegExp(v)}}},{"./utils":121,"bignumber.js":45,url:315}],121:[function(require,module,exports){!function(process,Buffer){!function(){"use strict";const fs=require("fs"),stream=require("stream"),bignumber=require("bignumber.js");var constants=require("./constants");const NUMBYTES=constants.NUMBYTES,SHIFT32=constants.SHIFT32;function printError(er){if(null!=er)return console.log(er)}exports.parseCBORint=function(ai,buf){switch(ai){case NUMBYTES.ONE:return buf.readUInt8(0,!0);case NUMBYTES.TWO:return buf.readUInt16BE(0,!0);case NUMBYTES.FOUR:return buf.readUInt32BE(0,!0);case NUMBYTES.EIGHT:var f=buf.readUInt32BE(0),g=buf.readUInt32BE(4);return 2097151<f?new bignumber(f).times(SHIFT32).plus(g):f*SHIFT32+g;default:throw new Error("Invalid additional info for int: "+ai)}},exports.writeHalf=function(buf,exp){const u32=new Buffer(4);u32.writeFloatBE(exp);var mant=u32.readUInt32BE();if(0!=(8191&mant))return!1;let s16=mant>>16&32768;exp=mant>>23&255,mant&=8388607;if(113<=exp&&exp<=142)s16+=(exp-112<<10)+(mant>>13);else{if(!(103<=exp&&exp<113))return!1;if(mant&(1<<126-exp)-1)return!1;s16+=8388608+mant>>126-exp}return buf.writeUInt16BE(s16),!0},exports.parseHalf=function(mant){var sign=128&mant[0]?-1:1,exp=(124&mant[0])>>2,mant=(3&mant[0])<<8|mant[1];return exp?31==exp?sign*(mant?NaN:1/0):sign*Math.pow(2,exp-25)*(1024+mant):5.960464477539063e-8*sign*mant},exports.parseCBORfloat=function(buf){switch(buf.length){case 2:return exports.parseHalf(buf);case 4:return buf.readFloatBE(0,!0);case 8:return buf.readDoubleBE(0,!0);default:throw new Error("Invalid float size: "+buf.length)}},exports.hex=function(s){return new Buffer(s.replace(/^0x/,""),"hex")},exports.bin=function(s){let start=0,end=(s=s.replace(/\s/g,"")).length%8||8;const chunks=[];for(;end<=s.length;)chunks.push(parseInt(s.slice(start,end),2)),start=end,end+=8;return new Buffer(chunks)},exports.extend=function(){let old=arguments[0];var adds=2<=arguments.length?Array.prototype.slice.call(arguments,1):[],len=adds.length;null==old&&(old={});for(let j=0;j<len;j++){var a=adds[j];for(const k in a){var v=a[k];old[k]=v}}return old},exports.arrayEqual=function(a,b){return null==a&&null==b||null!=a&&null!=b&&(a.length===b.length&&a.every((elem,i)=>elem===b[i]))},exports.bufferEqual=function(a,b){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)||a.length!==b.length)return!1;var len=a.length;let ret=!0,i,j;for(i=j=0;j<len;i=++j){var byte=a[i];ret&=b[i]===byte}return!!ret},exports.bufferToBignumber=function(buf){return new bignumber(buf.toString("hex"),16)},exports.DeHexStream=class extends stream.Readable{constructor(hex){super(),(hex=hex.replace(/^0x/,""))&&this.push(new Buffer(hex,"hex")),this.push(null)}},exports.HexStream=class extends stream.Transform{constructor(options){super(options)}_transform(fresh,encoding,cb){return this.push(fresh.toString("hex")),cb()}},exports.streamFiles=function(files,streamFunc,cb){null==cb&&(cb=printError);var f=files.shift();if(!f)return cb();const sf=streamFunc();sf.on("end",()=>exports.streamFiles(files,streamFunc,cb)),sf.on("error",cb);const s="-"===f?process.stdin:f instanceof stream.Stream?f:fs.createReadStream(f);return s.on("error",cb),s.pipe(sf)},exports.guessEncoding=function(input){switch(!1){case"string"!=typeof input:return"hex";case!Buffer.isBuffer(input):return;default:throw new Error("Unknown input type")}}}.call(this)}.call(this,require("_process"),require("buffer").Buffer)},{"./constants":115,_process:243,"bignumber.js":45,buffer:93,fs:48,stream:298}],122:[function(require,inherits,exports){"use strict";exports=inherits.exports=BinaryParseStream;var TransformStream=require("stream").Transform,inherits=require("util").inherits,NoFilter=require("nofilter");function BinaryParseStream(options){TransformStream.call(this,options),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new NoFilter,this.__restart()}exports.One=-1,inherits(BinaryParseStream,TransformStream),BinaryParseStream.prototype._transform=function(fresh,encoding,cb){for(this.bs.write(fresh);this.bs.length>=this.__needed;){var ret,chunk=null===this.__needed?void 0:this.bs.read(this.__needed);try{ret=this.__parser.next(chunk)}catch(e){return cb(e)}this.__needed&&(this.__fresh=!1),ret.done?(this.push(ret.value),this.__restart()):this.__needed=0|ret.value}return cb()},BinaryParseStream.prototype.__restart=function(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0},BinaryParseStream.prototype._flush=function(cb){cb(this.__fresh?null:new Error("unexpected end of input"))}},{nofilter:123,stream:298,util:320}],123:[function(require,module,exports){!function(Buffer){!function(){!function(){var hasProp={}.hasOwnProperty,stream=require("stream"),util=require("util");module.exports=function(){var _read_gen,_write_gen;function NoFilter(input,inputEncoding,options){var inp,inpE,watchPipe,_this;switch(null==options&&(options={}),inpE=inp=void 0,typeof input){case"object":Buffer.isBuffer(input)?(inp=input,null!=inputEncoding&&"object"==typeof inputEncoding&&(options=inputEncoding)):options=input;break;case"string":inp=input,null!=inputEncoding&&"object"==typeof inputEncoding?options=inputEncoding:inpE=inputEncoding}null==options&&(options={}),null==inp&&(inp=options.input),null==inpE&&(inpE=options.inputEncoding),delete options.input,delete options.inputEncoding,watchPipe=null==(watchPipe=options.watchPipe)||watchPipe,delete options.watchPipe,NoFilter.__super__.constructor.call(this,options),watchPipe&&this.on("pipe",(_this=this,function(om){om=om._readableState.objectMode;if(0<_this.length&&om!==_this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");return _this._readableState.objectMode=om,_this._writableState.objectMode=om})),null!=inp&&this.end(inp,inpE)}return function(child,parent){for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype}(NoFilter,stream.Transform),NoFilter.isNoFilter=function(obj){return obj instanceof this},NoFilter.compare=function(nf1,nf2){if(!(nf1 instanceof this))throw new TypeError("Arguments must be NoFilters");return nf1===nf2?0:nf1.compare(nf2)},NoFilter.concat=function(bufs,length){if(!Array.isArray(bufs))throw new TypeError("list argument must be an Array of NoFilters");return 0===bufs.length||0===length?new Buffer(0):(null==length&&(length=bufs.reduce(function(tot,nf){if(!(nf instanceof NoFilter))throw new TypeError("list argument must be an Array of NoFilters");return tot+nf.length},0)),bufs=bufs.map(function(nf){if(!(nf instanceof NoFilter))throw new TypeError("list argument must be an Array of NoFilters");if(nf._readableState.objectMode)throw new Error("NoFilter may not be in object mode for concat");return nf.slice()}),Buffer.concat(bufs,length))},NoFilter.prototype._transform=function(chunk,encoding,callback){return this._readableState.objectMode||Buffer.isBuffer(chunk)||(chunk=new Buffer(chunk,encoding)),this.push(chunk),callback()},NoFilter.prototype._bufArray=function(){var b,bufs=this._readableState.buffer;if(!Array.isArray(bufs))for(b=bufs.head,bufs=[];null!=b;)bufs.push(b.data),b=b.next;return bufs},NoFilter.prototype.read=function(buf){buf=NoFilter.__super__.read.call(this,buf);return null!=buf&&this.emit("read",buf),buf},NoFilter.prototype.promise=function(cb){var _this,done=!1;return new Promise((_this=this,function(resolve,reject){return _this.on("finish",function(){var data=_this.read();return null==cb||done||(done=!0,cb(null,data)),resolve(data)}),_this.on("error",function(er){return null==cb||done||(done=!0,cb(er)),reject(er)})}))},NoFilter.prototype.compare=function(other){if(!(other instanceof NoFilter))throw new TypeError("Arguments must be NoFilters");if(this._readableState.objectMode||other._readableState.objectMode)throw new Error("Must not be in object mode to compare");return this===other?0:this.slice().compare(other.slice())},NoFilter.prototype.equals=function(other){return 0===this.compare(other)},NoFilter.prototype.slice=function(start,end){var bufs;if(this._readableState.objectMode)return this._bufArray().slice(start,end);switch((bufs=this._bufArray()).length){case 0:return new Buffer(0);case 1:return bufs[0].slice(start,end);default:return Buffer.concat(bufs).slice(start,end)}},NoFilter.prototype.get=function(index){return this.slice()[index]},NoFilter.prototype.toJSON=function(){var b=this.slice();return Buffer.isBuffer(b)?b.toJSON():b},NoFilter.prototype.toString=function(encoding,start,end){return this.slice().toString(encoding,start,end)},NoFilter.prototype.inspect=function(depth,options){var hex=this._bufArray().map(function(b){return Buffer.isBuffer(b)?null!=options&&options.stylize?options.stylize(b.toString("hex"),"string"):b.toString("hex"):util.inspect(b,options)}).join(", ");return this.constructor.name+" ["+hex+"]"},_read_gen=function(meth,len){return function(val){var b=this.read(len);return Buffer.isBuffer(b)?b[meth].call(b,0,!0):null}},_write_gen=function(meth,len){return function(val){var b=new Buffer(len);return b[meth].call(b,val,0,!0),this.push(b)}},NoFilter.prototype.writeUInt8=_write_gen("writeUInt8",1),NoFilter.prototype.writeUInt16LE=_write_gen("writeUInt16LE",2),NoFilter.prototype.writeUInt16BE=_write_gen("writeUInt16BE",2),NoFilter.prototype.writeUInt32LE=_write_gen("writeUInt32LE",4),NoFilter.prototype.writeUInt32BE=_write_gen("writeUInt32BE",4),NoFilter.prototype.writeInt8=_write_gen("writeInt8",1),NoFilter.prototype.writeInt16LE=_write_gen("writeInt16LE",2),NoFilter.prototype.writeInt16BE=_write_gen("writeInt16BE",2),NoFilter.prototype.writeInt32LE=_write_gen("writeInt32LE",4),NoFilter.prototype.writeInt32BE=_write_gen("writeInt32BE",4),NoFilter.prototype.writeFloatLE=_write_gen("writeFloatLE",4),NoFilter.prototype.writeFloatBE=_write_gen("writeFloatBE",4),NoFilter.prototype.writeDoubleLE=_write_gen("writeDoubleLE",8),NoFilter.prototype.writeDoubleBE=_write_gen("writeDoubleBE",8),NoFilter.prototype.readUInt8=_read_gen("readUInt8",1),NoFilter.prototype.readUInt16LE=_read_gen("readUInt16LE",2),NoFilter.prototype.readUInt16BE=_read_gen("readUInt16BE",2),NoFilter.prototype.readUInt32LE=_read_gen("readUInt32LE",4),NoFilter.prototype.readUInt32BE=_read_gen("readUInt32BE",4),NoFilter.prototype.readInt8=_read_gen("readInt8",1),NoFilter.prototype.readInt16LE=_read_gen("readInt16LE",2),NoFilter.prototype.readInt16BE=_read_gen("readInt16BE",2),NoFilter.prototype.readInt32LE=_read_gen("readInt32LE",4),NoFilter.prototype.readInt32BE=_read_gen("readInt32BE",4),NoFilter.prototype.readFloatLE=_read_gen("readFloatLE",4),NoFilter.prototype.readFloatBE=_read_gen("readFloatBE",4),NoFilter.prototype.readDoubleLE=_read_gen("readDoubleLE",8),NoFilter.prototype.readDoubleBE=_read_gen("readDoubleBE",8),function(props){var getter,name,results=[];for(name in props)getter=props[name],results.push(NoFilter.prototype.__defineGetter__(name,getter));return results}({length:function(){return this._readableState.length}}),NoFilter}()}.call(this)}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,stream:298,util:320}],124:[function(require,module,exports){!function(Buffer){!function(){var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(buf,enc,zeros){Array.isArray(buf)||(buf=buf.toArray());buf=new Buffer(buf);return zeros&&buf.length<zeros&&((zeros=new Buffer(zeros-buf.length)).fill(0),buf=Buffer.concat([zeros,buf])),enc?buf.toString(enc):buf}aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){return inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc)),formatReturnValue(this.curve.keyFromPublic(other).getPublic().mul(this.keys.getPrivate()).getX(),enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[key.length-1]%2?key[0]=7:key[0]=6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this.keys._importPublic(pub),this},ECDH.prototype.setPrivateKey=function(_priv,enc){enc=enc||"utf8",Buffer.isBuffer(_priv)||(_priv=new Buffer(_priv,enc));_priv=(_priv=new BN(_priv)).toString(16);return this.keys=this.curve.genKeyPair(),this.keys._importPrivate(_priv),this}}.call(this)}.call(this,require("buffer").Buffer)},{"bn.js":125,buffer:93,elliptic:143}],125:[function(require,module,exports){arguments[4][40][0].apply(exports,arguments)},{buffer:48,dup:40}],126:[function(require,module,exports){"use strict";var inherits=require("inherits"),MD5=require("md5.js"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),Base=require("cipher-base");function Hash(hash){Base.call(this,"digest"),this._hash=hash}inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(alg){return"md5"===(alg=alg.toLowerCase())?new MD5:"rmd160"===alg||"ripemd160"===alg?new RIPEMD160:new Hash(sha(alg))}},{"cipher-base":107,inherits:201,"md5.js":208,ripemd160:287,"sha.js":291}],127:[function(require,module,exports){var MD5=require("md5.js");module.exports=function(buffer){return(new MD5).update(buffer).digest()}},{"md5.js":208}],128:[function(require,module,exports){"use strict";var inherits=require("inherits"),Legacy=require("./legacy"),Base=require("cipher-base"),Buffer=require("safe-buffer").Buffer,md5=require("create-hash/md5"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),ZEROS=Buffer.alloc(128);function Hmac(alg,key){Base.call(this,"digest"),"string"==typeof key&&(key=Buffer.from(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;this._alg=alg,(this._key=key).length>blocksize?key=("rmd160"===alg?new RIPEMD160:sha(alg)).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=Buffer.allocUnsafe(blocksize),opad=this._opad=Buffer.allocUnsafe(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash="rmd160"===alg?new RIPEMD160:sha(alg),this._hash.update(ipad)}inherits(Hmac,Base),Hmac.prototype._update=function(data){this._hash.update(data)},Hmac.prototype._final=function(){var h=this._hash.digest();return("rmd160"===this._alg?new RIPEMD160:sha(this._alg)).update(this._opad).update(h).digest()},module.exports=function(alg,key){return"rmd160"===(alg=alg.toLowerCase())||"ripemd160"===alg?new Hmac("rmd160",key):"md5"===alg?new Legacy(md5,key):new Hmac(alg,key)}},{"./legacy":129,"cipher-base":107,"create-hash/md5":127,inherits:201,ripemd160:287,"safe-buffer":288,"sha.js":291}],129:[function(require,module,exports){"use strict";var inherits=require("inherits"),Buffer=require("safe-buffer").Buffer,Base=require("cipher-base"),ZEROS=Buffer.alloc(128);function Hmac(alg,key){Base.call(this,"digest"),"string"==typeof key&&(key=Buffer.from(key)),this._alg=alg,64<(this._key=key).length?key=alg(key):key.length<64&&(key=Buffer.concat([key,ZEROS],64));for(var ipad=this._ipad=Buffer.allocUnsafe(64),opad=this._opad=Buffer.allocUnsafe(64),i=0;i<64;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=[ipad]}inherits(Hmac,Base),Hmac.prototype._update=function(data){this._hash.push(data)},Hmac.prototype._final=function(){var h=this._alg(Buffer.concat(this._hash));return this._alg(Buffer.concat([this._opad,h]))},module.exports=Hmac},{"cipher-base":107,inherits:201,"safe-buffer":288}],130:[function(rf,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=rf("randombytes"),exports.createHash=exports.Hash=rf("create-hash"),exports.createHmac=exports.Hmac=rf("create-hmac");var publicEncrypt=rf("browserify-sign/algos"),publicEncrypt=Object.keys(publicEncrypt),hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(publicEncrypt);exports.getHashes=function(){return hashes};publicEncrypt=rf("pbkdf2");exports.pbkdf2=publicEncrypt.pbkdf2,exports.pbkdf2Sync=publicEncrypt.pbkdf2Sync;publicEncrypt=rf("browserify-cipher");exports.Cipher=publicEncrypt.Cipher,exports.createCipher=publicEncrypt.createCipher,exports.Cipheriv=publicEncrypt.Cipheriv,exports.createCipheriv=publicEncrypt.createCipheriv,exports.Decipher=publicEncrypt.Decipher,exports.createDecipher=publicEncrypt.createDecipher,exports.Decipheriv=publicEncrypt.Decipheriv,exports.createDecipheriv=publicEncrypt.createDecipheriv,exports.getCiphers=publicEncrypt.getCiphers,exports.listCiphers=publicEncrypt.listCiphers;publicEncrypt=rf("diffie-hellman");exports.DiffieHellmanGroup=publicEncrypt.DiffieHellmanGroup,exports.createDiffieHellmanGroup=publicEncrypt.createDiffieHellmanGroup,exports.getDiffieHellman=publicEncrypt.getDiffieHellman,exports.createDiffieHellman=publicEncrypt.createDiffieHellman,exports.DiffieHellman=publicEncrypt.DiffieHellman;publicEncrypt=rf("browserify-sign");exports.createSign=publicEncrypt.createSign,exports.Sign=publicEncrypt.Sign,exports.createVerify=publicEncrypt.createVerify,exports.Verify=publicEncrypt.Verify,exports.createECDH=rf("create-ecdh");publicEncrypt=rf("public-encrypt");exports.publicEncrypt=publicEncrypt.publicEncrypt,exports.privateEncrypt=publicEncrypt.privateEncrypt,exports.publicDecrypt=publicEncrypt.publicDecrypt,exports.privateDecrypt=publicEncrypt.privateDecrypt;rf=rf("randomfill");exports.randomFill=rf.randomFill,exports.randomFillSync=rf.randomFillSync,exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":66,"browserify-sign":73,"browserify-sign/algos":70,"create-ecdh":124,"create-hash":126,"create-hmac":128,"diffie-hellman":137,pbkdf2:237,"public-encrypt":244,randombytes:284,randomfill:285}],131:[function(require,module,exports){"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede")},{"./des/cbc":132,"./des/cipher":133,"./des/des":134,"./des/ede":135,"./des/utils":136}],132:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits"),proto={};function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}exports.instantiate=function(Base){function CBC(options){Base.call(this,options),this._cbcInit()}inherits(CBC,Base);for(var keys=Object.keys(proto),i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}return CBC.create=function(options){return new CBC(options)},CBC},proto._cbcInit=function(){var state=new CBCState(this.options.iv);this._cbcState=state},proto._update=function(inp,inOff,out,outOff){var state=this._cbcState,superProto=this.constructor.super_.prototype,iv=state.iv;if("encrypt"===this.type){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:201,"minimalistic-assert":211}],133:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");function Cipher(options){this.options=options,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}(module.exports=Cipher).prototype._init=function(){},Cipher.prototype.update=function(data){return 0===data.length?[]:"decrypt"===this.type?this._updateDecrypt(data):this._updateEncrypt(data)},Cipher.prototype._buffer=function(data,off){for(var min=Math.min(this.buffer.length-this.bufferOff,data.length-off),i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];return this.bufferOff+=min,min},Cipher.prototype._flushBuffer=function(out,off){return this._update(this.buffer,0,out,off),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(data){var inputOff=0,outputOff=0,count=(this.bufferOff+data.length)/this.blockSize|0,out=new Array(count*this.blockSize);0!==this.bufferOff&&(inputOff+=this._buffer(data,inputOff),this.bufferOff===this.buffer.length&&(outputOff+=this._flushBuffer(out,outputOff)));for(var max=data.length-(data.length-inputOff)%this.blockSize;inputOff<max;inputOff+=this.blockSize)this._update(data,inputOff,out,outputOff),outputOff+=this.blockSize;for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out},Cipher.prototype._updateDecrypt=function(data){for(var inputOff=0,outputOff=0,count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1,out=new Array(count*this.blockSize);0<count;count--)inputOff+=this._buffer(data,inputOff),outputOff+=this._flushBuffer(out,outputOff);return inputOff+=this._buffer(data,inputOff),out},Cipher.prototype.final=function(last){var first;return last&&(first=this.update(last)),last="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),first?first.concat(last):last},Cipher.prototype._pad=function(buffer,off){if(0===off)return!1;for(;off<buffer.length;)buffer[off++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);return this._update(this.buffer,0,out,0),out},Cipher.prototype._unpad=function(buffer){return buffer},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);return this._flushBuffer(out,0),this._unpad(out)}},{"minimalistic-assert":211}],134:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits"),utils=require("./utils"),Cipher=require("./cipher");function DESState(){this.tmp=new Array(2),this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state,this.deriveKeys(state,options.key)}inherits(DES,Cipher),(module.exports=DES).create=function(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(state,key){state.keys=new Array(32),assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0),kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0),kL=state.tmp[0],kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1],kL=utils.r28shl(kL,shift),kR=utils.r28shl(kR,shift);utils.pc2(kL,kR,state.keys,i)}},DES.prototype._update=function(inp,r,out,outOff){var state=this._desState,l=utils.readUInt32BE(inp,r),r=utils.readUInt32BE(inp,r+4);utils.ip(l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],"encrypt"===this.type?this._encrypt(state,l,r,state.tmp,0):this._decrypt(state,l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],utils.writeUInt32BE(out,l,outOff),utils.writeUInt32BE(out,r,outOff+4)},DES.prototype._pad=function(buffer,off){for(var value=buffer.length-off,i=off;i<buffer.length;i++)buffer[i]=value;return!0},DES.prototype._unpad=function(buffer){for(var pad=buffer[buffer.length-1],i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)},DES.prototype._encrypt=function(state,lStart,rStart,out,off){for(var l=lStart,r=rStart,i=0;i<state.keys.length;i+=2){var s=state.keys[i],t=state.keys[i+1];utils.expand(r,state.tmp,0),s^=state.tmp[0],t^=state.tmp[1];s=utils.substitute(s,t),t=r,r=(l^utils.permute(s))>>>0,l=t}utils.rip(r,l,out,off)},DES.prototype._decrypt=function(state,lStart,rStart,out,off){for(var l=rStart,r=lStart,i=state.keys.length-2;0<=i;i-=2){var s=state.keys[i],t=state.keys[i+1];utils.expand(l,state.tmp,0),s^=state.tmp[0],t^=state.tmp[1];s=utils.substitute(s,t),t=l,l=(r^utils.permute(s))>>>0,r=t}utils.rip(l,r,out,off)}},{"./cipher":133,"./utils":136,inherits:201,"minimalistic-assert":211}],135:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits"),Cipher=require("./cipher"),DES=require("./des");function EDEState(type,k3){assert.equal(k3.length,24,"Invalid key length");var k1=k3.slice(0,8),k2=k3.slice(8,16),k3=k3.slice(16,24);this.ciphers="encrypt"===type?[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]:[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}function EDE(state){Cipher.call(this,state);state=new EDEState(this.type,this.options.key);this._edeState=state}inherits(EDE,Cipher),(module.exports=EDE).create=function(options){return new EDE(options)},EDE.prototype._update=function(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff),state.ciphers[1]._update(out,outOff,out,outOff),state.ciphers[2]._update(out,outOff,out,outOff)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad},{"./cipher":133,"./des":134,inherits:201,"minimalistic-assert":211}],136:[function(require,module,exports){"use strict";exports.readUInt32BE=function(bytes,off){return(bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off])>>>0},exports.writeUInt32BE=function(bytes,value,off){bytes[0+off]=value>>>24,bytes[1+off]=value>>>16&255,bytes[2+off]=value>>>8&255,bytes[3+off]=255&value},exports.ip=function(inL,inR,out,off){for(var outL=0,outR=0,i=6;0<=i;i-=2){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>>j+i&1;for(j=0;j<=24;j+=8)outL<<=1,outL|=inL>>>j+i&1}for(i=6;0<=i;i-=2){for(j=1;j<=25;j+=8)outR<<=1,outR|=inR>>>j+i&1;for(j=1;j<=25;j+=8)outR<<=1,outR|=inL>>>j+i&1}out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.rip=function(inL,inR,out,off){for(var outL=0,outR=0,i=0;i<4;i++)for(var j=24;0<=j;j-=8)outL<<=1,outL|=inR>>>j+i&1,outL<<=1,outL|=inL>>>j+i&1;for(i=4;i<8;i++)for(j=24;0<=j;j-=8)outR<<=1,outR|=inR>>>j+i&1,outR<<=1,outR|=inL>>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.pc1=function(inL,inR,out,off){for(var outL=0,outR=0,i=7;5<=i;i--){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(j=0;j<=24;j+=8)outL<<=1,outL|=inL>>j+i&1}for(j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(i=1;i<=3;i++){for(j=0;j<=24;j+=8)outR<<=1,outR|=inR>>j+i&1;for(j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1}for(j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.r28shl=function(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(inL,inR,out,off){for(var outL=0,outR=0,len=pc2table.length>>>1,i=0;i<len;i++)outL<<=1,outL|=inL>>>pc2table[i]&1;for(i=len;i<pc2table.length;i++)outR<<=1,outR|=inR>>>pc2table[i]&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.expand=function(r,out,off){for(var outL=0,outR=0,outL=(1&r)<<5|r>>>27,i=23;15<=i;i-=4)outL<<=6,outL|=r>>>i&63;for(i=11;3<=i;i-=4)outR|=r>>>i&63,outR<<=6;outR|=(31&r)<<1|r>>>31,out[off+0]=outL>>>0,out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(inL,inR){for(var out=0,i=0;i<4;i++)out<<=4,out|=sTable[64*i+(inL>>>18-6*i&63)];for(i=0;i<4;i++)out<<=4,out|=sTable[256+64*i+(inR>>>18-6*i&63)];return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(num){for(var out=0,i=0;i<permuteTable.length;i++)out<<=1,out|=num>>>permuteTable[i]&1;return out>>>0},exports.padSplit=function(num,size,group){for(var str=num.toString(2);str.length<size;)str="0"+str;for(var out=[],i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],137:[function(require,module,exports){!function(Buffer){!function(){var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes.json"),DH=require("./lib/dh");var ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=function(gen){var prime=new Buffer(primes[gen].prime,"hex"),gen=new Buffer(primes[gen].gen,"hex");return new DH(prime,gen)},exports.createDiffieHellman=exports.DiffieHellman=function createDiffieHellman(prime,enc,generator,genc){return Buffer.isBuffer(enc)||void 0===ENCODINGS[enc]?createDiffieHellman(prime,"binary",enc,generator):(enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,!0):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,!0)))}}.call(this)}.call(this,require("buffer").Buffer)},{"./lib/dh":138,"./lib/generatePrime":139,"./lib/primes.json":140,buffer:93}],138:[function(require,module,exports){!function(Buffer){!function(){var BN=require("bn.js"),millerRabin=new(require("miller-rabin")),TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}module.exports=DH;var primeCache={};function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(buf,enc){buf=new Buffer(buf.toArray());return enc?buf.toString(enc):buf}Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(prime,hex){var gen=hex.toString("hex");if((hex=[gen,prime.toString(16)].join("_"))in primeCache)return primeCache[hex];var rem,error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,primeCache[hex]=error+="02"===gen||"05"===gen?8:4;switch(millerRabin.test(prime.shrn(1))||(error+=2),gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":(rem=prime.mod(TEN)).cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error}(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(out){var front=(out=(out=new BN(out)).toRed(this._prime)).redPow(this._priv).fromRed(),out=new Buffer(front.toArray()),front=this.getPrime();return out.length<front.length&&((front=new Buffer(front.length-out.length)).fill(0),out=Buffer.concat([front,out])),out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this.__gen=gen,this._gen=new BN(gen),this}}.call(this)}.call(this,require("buffer").Buffer)},{"./generatePrime":139,"bn.js":141,buffer:93,"miller-rabin":209,randombytes:284}],139:[function(require,module,exports){var randomBytes=require("randombytes");(module.exports=findPrime).simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),millerRabin=new(require("miller-rabin")),ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),TEN=(new BN(16),new BN(8),new BN(10)),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),primes=(new BN(12),null);function _getPrimes(){if(null!==primes)return primes;var res=[];res[0]=2;for(var i=1,k=3;k<1048576;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;j<i&&res[j]<=sqrt&&k%res[j]!=0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i]);return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){if(bits<16)return new BN(2===gen||5===gen?[140,123]:[140,39]);var num,n2;for(gen=new BN(gen);;){for(num=new BN(randomBytes(Math.ceil(bits/8)));num.bitLength()>bits;)num.ishrn(1);if(num.isEven()&&num.iadd(ONE),num.testn(1)||num.iadd(TWO),gen.cmp(TWO)){if(!gen.cmp(FIVE))for(;num.mod(TEN).cmp(THREE);)num.iadd(FOUR)}else for(;num.mod(TWENTYFOUR).cmp(ELEVEN);)num.iadd(FOUR);if(simpleSieve(n2=num.shrn(1))&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num}}},{"bn.js":141,"miller-rabin":209,randombytes:284}],140:[function(require,module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],141:[function(require,module,exports){arguments[4][40][0].apply(exports,arguments)},{buffer:48,dup:40}],142:[function(require,module,exports){"use strict";var dijkstra={single_source_shortest_paths:function(graph,s,msg){var predecessors={},costs={};costs[s]=0;var closest,u,v,cost_of_s_to_u,adjacent_nodes,cost_of_s_to_u_plus_cost_of_e,cost_of_s_to_v,open=dijkstra.PriorityQueue.make();for(open.push(s,0);!open.empty();)for(v in u=(closest=open.pop()).value,cost_of_s_to_u=closest.cost,adjacent_nodes=graph[u]||{})adjacent_nodes.hasOwnProperty(v)&&(cost_of_s_to_u_plus_cost_of_e=cost_of_s_to_u+adjacent_nodes[v],cost_of_s_to_v=costs[v],(void 0===costs[v]||cost_of_s_to_u_plus_cost_of_e<cost_of_s_to_v)&&(costs[v]=cost_of_s_to_u_plus_cost_of_e,open.push(v,cost_of_s_to_u_plus_cost_of_e),predecessors[v]=u));if(void 0===msg||void 0!==costs[msg])return predecessors;msg=["Could not find a path from ",s," to ",msg,"."].join("");throw new Error(msg)},extract_shortest_path_from_predecessor_list:function(predecessors,d){for(var nodes=[],u=d;u;)nodes.push(u),predecessors[u],u=predecessors[u];return nodes.reverse(),nodes},find_path:function(graph,predecessors,d){predecessors=dijkstra.single_source_shortest_paths(graph,predecessors,d);return dijkstra.extract_shortest_path_from_predecessor_list(predecessors,d)},PriorityQueue:{make:function(opts){var key,T=dijkstra.PriorityQueue,t={};for(key in opts=opts||{},T)T.hasOwnProperty(key)&&(t[key]=T[key]);return t.queue=[],t.sorter=opts.sorter||T.default_sorter,t},default_sorter:function(a,b){return a.cost-b.cost},push:function(value,cost){this.queue.push({value:value,cost:cost}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==module&&(module.exports=dijkstra)},{}],143:[function(require,module,elliptic){"use strict";elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec"),elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":159,"./elliptic/curve":146,"./elliptic/curves":149,"./elliptic/ec":150,"./elliptic/eddsa":153,"./elliptic/utils":157,brorand:47}],144:[function(require,module,exports){"use strict";var BN=require("bn.js"),utils=require("../utils"),getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;function BaseCurve(type,adjustCount){this.type=type,this.p=new BN(adjustCount.p,16),this.red=adjustCount.prime?BN.red(adjustCount.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=adjustCount.n&&new BN(adjustCount.n,16),this.g=adjustCount.g&&this.pointFromJSON(adjustCount.g,adjustCount.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;adjustCount=this.n&&this.p.div(this.n);!adjustCount||0<adjustCount.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}(module.exports=BaseCurve).prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,I){assert(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(I,1,this._bitLength),I=(1<<doubles.step+1)-(doubles.step%2==0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){for(var nafW=0,l=j+doubles.step-1;j<=l;l--)nafW=(nafW<<1)+naf[l];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;0<i;i--){for(j=0;j<repr.length;j++)(nafW=repr[j])===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()));a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){for(var nafPoints=p._getNAFPoints(4),w=nafPoints.wnd,wnd=nafPoints.points,naf=getNAF(k,w,this._bitLength),acc=this.jpoint(null,null,null),i=naf.length-1;0<=i;i--){for(var l=0;0<=i&&0===naf[i];i--)l++;if(0<=i&&l++,acc=acc.dblp(l),i<0)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?0<z?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):0<z?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;i<len;i++){var p,nafPoints=(p=points[i])._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(i=len-1;1<=i;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]),max=Math.max(jsf[0].length,max);for(naf[a]=new Array(max),naf[b]=new Array(max),j=0;j<max;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(1+ja)+(1+jb)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a],this._bitLength),naf[b]=getNAF(coeffs[b],wndWidth[b],this._bitLength),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}var acc=this.jpoint(null,null,null),tmp=this._wnafT4;for(i=max;0<=i;i--){for(var k=0;0<=i;){for(var zero=!0,j=0;j<len;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(0<=i&&k++,acc=acc.dblp(k),i<0)break;for(j=0;j<len;j++){var z=tmp[j];0!==z&&(0<z?p=wnd[j][z-1>>1]:z<0&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(i=0;i<len;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},(BaseCurve.BasePoint=BasePoint).prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(bytes,len){bytes=utils.toArray(bytes,len);len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1==2*len)return 6===bytes[0]?assert(bytes[bytes.length-1]%2==0):7===bytes[0]&&assert(bytes[bytes.length-1]%2==1),this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return!!doubles&&doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1==max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r}},{"../utils":157,"bn.js":158}],145:[function(require,module,exports){"use strict";var utils=require("../utils"),BN=require("bn.js"),inherits=require("inherits"),Base=require("./base"),assert=utils.assert;function EdwardsCurve(conf){this.twisted=1!=(0|conf.a),this.mOneA=this.twisted&&-1==(0|conf.a),this.extended=this.mOneA,Base.call(this,"edwards",conf),this.a=new BN(conf.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|conf.c)}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=z?new BN(z,16):this.curve.one,this.t=t&&new BN(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits(EdwardsCurve,Base),(module.exports=EdwardsCurve).prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromX=function(x,odd){var y=(x=!(x=new BN(x,16)).red?x.toRed(this.red):x).redSqr(),isOdd=this.c2.redSub(this.a.redMul(y)),y=this.one.redSub(this.c2.redMul(this.d).redMul(y)),isOdd=isOdd.redMul(y.redInvm()),y=isOdd.redSqrt();if(0!==y.redSqr().redSub(isOdd).cmp(this.zero))throw new Error("invalid point");isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},EdwardsCurve.prototype.pointFromY=function(y,odd){var x=(y=!(y=new BN(y,16)).red?y.toRed(this.red):y).redSqr(),x2=x.redSub(this.c2),x=x.redMul(this.d).redMul(this.c2).redSub(this.a),x2=x2.redMul(x.redInvm());if(0===x2.cmp(this.zero)){if(odd)throw new Error("invalid point");return this.point(this.zero,y)}x=x2.redSqrt();if(0!==x.redSqr().redSub(x2).cmp(this.zero))throw new Error("invalid point");return x.fromRed().isOdd()!==odd&&(x=x.redNeg()),this.point(x,y)},EdwardsCurve.prototype.validate=function(lhs){if(lhs.isInfinity())return!0;lhs.normalize();var x2=lhs.x.redSqr(),rhs=lhs.y.redSqr(),lhs=x2.redMul(this.a).redAdd(rhs),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(rhs)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var f=this.x.redSqr(),ny=this.y.redSqr(),nt=(nt=this.z.redSqr()).redIAdd(nt),nx=this.curve._mulA(f),e=this.x.redAdd(this.y).redSqr().redISub(f).redISub(ny),nz=nx.redAdd(ny),f=nz.redSub(nt),nt=nx.redSub(ny),nx=e.redMul(f),ny=nz.redMul(nt),nt=e.redMul(nt),nz=f.redMul(nz);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var nx,ny,h,e,f,nz,b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();return nz=this.curve.twisted?(f=(e=this.curve._mulA(c)).redAdd(d),this.zOne?(nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),f.redSqr().redSub(f).redSub(f)):(h=this.z.redSqr(),nz=f.redSub(h).redISub(h),nx=b.redSub(c).redISub(d).redMul(nz),ny=f.redMul(e.redSub(d)),f.redMul(nz))):(e=c.redAdd(d),h=this.curve._mulC(this.z).redSqr(),nz=e.redSub(h).redSub(h),nx=this.curve._mulC(b.redISub(e)).redMul(nz),ny=this.curve._mulC(e).redMul(c.redISub(d)),e.redMul(nz)),this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(f){var ny=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),nx=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),nt=this.t.redMul(this.curve.dd).redMul(f.t),nz=this.z.redMul(f.z.redAdd(f.z)),e=nx.redSub(ny),f=nz.redSub(nt),nz=nz.redAdd(nt),nt=nx.redAdd(ny),nx=e.redMul(f),ny=nz.redMul(nt),nt=e.redMul(nt),nz=f.redMul(nz);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projAdd=function(nx){var ny,a=this.z.redMul(nx.z),b=a.redSqr(),c=this.x.redMul(nx.x),d=this.y.redMul(nx.y),nz=this.curve.d.redMul(c).redMul(d),f=b.redSub(nz),nz=b.redAdd(nz),nx=this.x.redAdd(this.y).redMul(nx.x.redAdd(nx.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(nx),nz=this.curve.twisted?(ny=a.redMul(nz).redMul(d.redSub(this.curve._mulA(c))),f.redMul(nz)):(ny=a.redMul(nz).redMul(d.redSub(c)),this.curve._mulC(f).redMul(nz));return this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!1)},Point.prototype.jmulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(other){return this===other||0===this.getX().cmp(other.getX())&&0===this.getY().cmp(other.getY())},Point.prototype.eqXToP=function(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(this.z);;){if(xc.iadd(this.curve.n),0<=xc.cmp(this.curve.p))return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../utils":157,"./base":144,"bn.js":158,inherits:201}],146:[function(require,module,curve){"use strict";curve.base=require("./base"),curve.short=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards")},{"./base":144,"./edwards":145,"./mont":147,"./short":148}],147:[function(require,module,exports){"use strict";var BN=require("bn.js"),inherits=require("inherits"),Base=require("./base"),utils=require("../utils");function MontCurve(conf){Base.call(this,"mont",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(x,16),this.z=new BN(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits(MontCurve,Base),(module.exports=MontCurve).prototype.validate=function(x2){var rhs=x2.normalize().x,x2=rhs.redSqr(),rhs=x2.redMul(rhs).redAdd(x2.redMul(this.a)).redAdd(rhs);return 0===rhs.redSqrt().redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(bytes,enc){return this.point(utils.toArray(bytes,enc),1)},MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var nx=this.x.redAdd(this.z).redSqr(),bb=this.x.redSub(this.z).redSqr(),nz=nx.redSub(bb),nx=nx.redMul(bb),nz=nz.redMul(bb.redAdd(this.curve.a24.redMul(nz)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var da=this.x.redAdd(this.z),nx=this.x.redSub(this.z),nz=p.x.redAdd(p.z),da=p.x.redSub(p.z).redMul(da),nz=nz.redMul(nx),nx=diff.z.redMul(da.redAdd(nz).redSqr()),nz=diff.x.redMul(da.redISub(nz).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),bits=[];0!==t.cmpn(0);t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;0<=i;i--)0===bits[i]?(a=a.diffAdd(b,this),b=b.dbl()):(b=a.diffAdd(b,this),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(other){return 0===this.getX().cmp(other.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":157,"./base":144,"bn.js":158,inherits:201}],148:[function(require,module,exports){"use strict";var utils=require("../utils"),BN=require("bn.js"),inherits=require("inherits"),Base=require("./base"),assert=utils.assert;function ShortCurve(conf){Base.call(this,"short",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits(ShortCurve,Base),(module.exports=ShortCurve).prototype._getEndomorphism=function(conf){var lambda,beta,lambdas;if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3))return beta=(conf.beta?new BN(conf.beta,16):beta=(lambdas=this._getEndoRoots(this.p))[0].cmp(lambdas[1])<0?lambdas[0]:lambdas[1]).toRed(this.red),conf.lambda?lambda=new BN(conf.lambda,16):(lambdas=this._getEndoRoots(this.n),0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))),{beta:beta,lambda:lambda,basis:conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda)}},ShortCurve.prototype._getEndoRoots=function(ntinv){var red=ntinv===this.p?this.red:BN.mont(ntinv),s=new BN(2).toRed(red).redInvm(),ntinv=s.redNeg(),s=new BN(3).toRed(red).redNeg().redSqrt().redMul(s);return[ntinv.redAdd(s).fromRed(),ntinv.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function(len1){for(var a0,b0,a1,b1,prevR,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=len1,v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),i=0;0!==u.cmpn(0);){var y=v.div(u),r=v.sub(y.mul(u)),x=x2.sub(y.mul(x1)),y=y2.sub(y.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2==++i)break;v=u,u=prevR=r,x2=x1,x1=x,y2=y1,y1=y}var a2=r.neg(),b2=x,len1=a1.sqr().add(b1.sqr());return 0<=a2.sqr().add(b2.sqr()).cmp(len1)&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var p2=this.endo.basis,q1=p2[0],q2=p2[1],c1=q2.b.mul(k).divRound(this.n),c2=q1.b.neg().mul(k).divRound(this.n),p1=c1.mul(q1.a),p2=c2.mul(q2.a),q1=c1.mul(q1.b),q2=c2.mul(q2.b);return{k1:k.sub(p1).sub(p2),k2:q1.add(q2).neg()}},ShortCurve.prototype.pointFromX=function(x,odd){var isOdd=(x=!(x=new BN(x,16)).red?x.toRed(this.red):x).redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=isOdd.redSqrt();if(0!==y.redSqr().redSub(isOdd).cmp(this.zero))throw new Error("invalid point");isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function(rhs){if(rhs.inf)return!0;var x=rhs.x,y=rhs.y,rhs=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(rhs).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,res){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,res),j=0;j<2*i;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var curve,endoMul,beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);return pre&&(curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)},(pre.beta=beta).precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}),beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,pre,red){"string"==typeof pre&&(pre=JSON.parse(pre));var res=curve.point(pre[0],pre[1],red);if(!pre[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}pre=pre[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(nx){if(this.inf)return nx;if(nx.inf)return this;if(this.eq(nx))return this.dbl();if(this.neg().eq(nx))return this.curve.point(null,null);if(0===this.x.cmp(nx.x))return this.curve.point(null,null);var ny=this.y.redSub(nx.y),nx=(ny=0!==ny.cmpn(0)?ny.redMul(this.x.redSub(nx.x).redInvm()):ny).redSqr().redISub(this.x).redISub(nx.x),ny=ny.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var nx=this.y.redAdd(this.y);if(0===nx.cmpn(0))return this.curve.point(null,null);var ny=this.curve.a,x2=this.x.redSqr(),nx=nx.redInvm(),ny=x2.redAdd(x2).redIAdd(x2).redIAdd(ny).redMul(nx),nx=ny.redSqr().redISub(this.x.redAdd(this.x)),ny=ny.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new BN(k,16),this.isInfinity()?this:this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,points,coeffs){points=[this,points],coeffs=[k1,coeffs];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function(k1,points,coeffs){points=[this,points],coeffs=[k1,coeffs];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(negate){if(this.inf)return this;var pre,res=this.curve.point(this.x,this.y.redNeg());return negate&&this.precomputed&&(pre=this.precomputed,negate=function(p){return p.neg()},res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}),res},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ay=this.z.redInvm(),zinv2=ay.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(ay);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var nz=p.z.redSqr(),r=this.z.redSqr(),v=this.x.redMul(nz),nx=p.x.redMul(r),s1=this.y.redMul(nz.redMul(p.z)),ny=p.y.redMul(r.redMul(this.z)),nz=v.redSub(nx),r=s1.redSub(ny);if(0===nz.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();nx=nz.redSqr(),ny=nx.redMul(nz),v=v.redMul(nx),nx=r.redSqr().redIAdd(ny).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(ny)),nz=this.z.redMul(p.z).redMul(nz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(nz){if(this.isInfinity())return nz.toJ();if(nz.isInfinity())return this;var r=this.z.redSqr(),v=this.x,nx=nz.x.redMul(r),s1=this.y,ny=nz.y.redMul(r).redMul(this.z),nz=v.redSub(nx),r=s1.redSub(ny);if(0===nz.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();nx=nz.redSqr(),ny=nx.redMul(nz),v=v.redMul(nx),nx=r.redSqr().redIAdd(ny).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(ny)),nz=this.z.redMul(nz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;i<pow;i++)r=r.dbl();return r}var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy);for(i=0;i<pow;i++){var nz=jx.redSqr(),nx=jyd.redSqr(),jyd4=nx.redSqr(),dny=nz.redAdd(nz).redIAdd(nz).redIAdd(a.redMul(jz4)),nz=jx.redMul(nx),nx=dny.redSqr().redISub(nz.redAdd(nz)),nz=nz.redISub(nx),dny=(dny=dny.redMul(nz)).redIAdd(dny).redISub(jyd4),nz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var nx,ny,d,e,f,nz=this.zOne?(d=this.x.redSqr(),nx=(e=this.y.redSqr()).redSqr(),f=(f=this.x.redAdd(e).redSqr().redISub(d).redISub(nx)).redIAdd(f),e=(ny=d.redAdd(d).redIAdd(d)).redSqr().redISub(f).redISub(f),d=(d=(d=nx.redIAdd(nx)).redIAdd(d)).redIAdd(d),ny=ny.redMul(f.redISub(nx=e)).redISub(d),this.y.redAdd(this.y)):(f=this.x.redSqr(),nz=(e=this.y.redSqr()).redSqr(),d=(d=this.x.redAdd(e).redSqr().redISub(f).redISub(nz)).redIAdd(d),f=(e=f.redAdd(f).redIAdd(f)).redSqr(),nz=(nz=(nz=nz.redIAdd(nz)).redIAdd(nz)).redIAdd(nz),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(nz),(nz=this.y.redMul(this.z)).redIAdd(nz));return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){var ny,nx,delta,alpha,beta4,beta8,nz,ggamma8;return this.zOne?(nz=this.x.redSqr(),delta=(ny=this.y.redSqr()).redSqr(),beta8=(beta8=this.x.redAdd(ny).redSqr().redISub(nz).redISub(delta)).redIAdd(beta8),nx=alpha=(ggamma8=nz.redAdd(nz).redIAdd(nz).redIAdd(this.curve.a)).redSqr().redISub(beta8).redISub(beta8),beta4=(beta4=(beta4=delta.redIAdd(delta)).redIAdd(beta4)).redIAdd(beta4),ny=ggamma8.redMul(beta8.redISub(alpha)).redISub(beta4),nz=this.y.redAdd(this.y)):(delta=this.z.redSqr(),ggamma8=this.y.redSqr(),beta8=this.x.redMul(ggamma8),alpha=(alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta))).redAdd(alpha).redIAdd(alpha),beta8=(beta4=(beta4=beta8.redIAdd(beta8)).redIAdd(beta4)).redAdd(beta4),nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(ggamma8).redISub(delta),ggamma8=(ggamma8=(ggamma8=(ggamma8=ggamma8.redSqr()).redIAdd(ggamma8)).redIAdd(ggamma8)).redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)),this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){var c=this.curve.a,t2=this.x,jy=this.y,nz=this.z,nx=nz.redSqr().redSqr(),jx2=t2.redSqr(),ny=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(c.redMul(nx)),nx=t2.redAdd(t2),t2=(nx=nx.redIAdd(nx)).redMul(ny),nx=c.redSqr().redISub(t2.redAdd(t2)),t2=t2.redISub(nx),ny=ny.redSqr();ny=(ny=(ny=ny.redIAdd(ny)).redIAdd(ny)).redIAdd(ny);ny=c.redMul(t2).redISub(ny),nz=jy.redAdd(jy).redMul(nz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var nz=this.x.redSqr(),nx=this.y.redSqr(),zz=this.z.redSqr(),t=nx.redSqr(),m=nz.redAdd(nz).redIAdd(nz),ny=m.redSqr(),e=this.x.redAdd(nx).redSqr().redISub(nz).redISub(t),nz=(e=(e=(e=e.redIAdd(e)).redAdd(e).redIAdd(e)).redISub(ny)).redSqr(),t=t.redIAdd(t);t=(t=(t=t.redIAdd(t)).redIAdd(t)).redIAdd(t);ny=m.redIAdd(e).redSqr().redISub(ny).redISub(nz).redISub(t),nx=nx.redMul(ny);nx=(nx=nx.redIAdd(nx)).redIAdd(nx);nx=this.x.redMul(nz).redISub(nx);nx=(nx=nx.redIAdd(nx)).redIAdd(nx);ny=this.y.redMul(ny.redMul(t.redISub(ny)).redISub(e.redMul(nz)));ny=(ny=(ny=ny.redIAdd(ny)).redIAdd(ny)).redIAdd(ny);nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(nz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new BN(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z3=this.z.redSqr(),pz3=p.z.redSqr();if(0!==this.x.redMul(pz3).redISub(p.x.redMul(z3)).cmpn(0))return!1;z3=z3.redMul(this.z),pz3=pz3.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),0<=xc.cmp(this.curve.p))return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":157,"./base":144,"bn.js":158,inherits:201}],149:[function(require,module,hash){"use strict";var pre,curves=hash,hash=require("hash.js"),curve=require("./curve"),assert=require("./utils").assert;function PresetCurve(options){"short"===options.type?this.curve=new curve.short(options):"edwards"===options.type?this.curve=new curve.edwards(options):this.curve=new curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{pre=require("./precomputed/secp256k1")}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"./curve":146,"./precomputed/secp256k1":156,"./utils":157,"hash.js":187}],150:[function(require,module,exports){"use strict";var BN=require("bn.js"),HmacDRBG=require("hmac-drbg"),utils=require("../utils"),curves=require("../curves"),rand=require("brorand"),assert=utils.assert,KeyPair=require("./key"),Signature=require("./signature");function EC(options){if(!(this instanceof EC))return new EC(options);"string"==typeof options&&(assert(Object.prototype.hasOwnProperty.call(curves,options),"Unknown curve "+options),options=curves[options]),options instanceof curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),this.hash=options.hash||options.curve.hash}(module.exports=EC).prototype.keyPair=function(options){return new KeyPair(this,options)},EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function(options){for(var drbg=new HmacDRBG({hash:this.hash,pers:(options=options||{}).pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));;){var priv=new BN(drbg.generate(bytes));if(!(0<priv.cmp(ns2)))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return 0<delta&&(msg=msg.ushrn(delta)),!truncOnly&&0<=msg.cmp(this.n)?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,bkey,options){"object"==typeof bkey&&(options=bkey,bkey=null),options=options||{},key=this.keyFromPrivate(key,bkey),msg=this._truncateToN(new BN(msg,16));for(var nonce=this.n.byteLength(),bkey=key.getPrivate().toArray("be",nonce),nonce=msg.toArray("be",nonce),drbg=new HmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||"utf8"}),ns1=this.n.sub(new BN(1)),iter=0;;iter++){var s=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));if(!((s=this._truncateToN(s,!0)).cmpn(1)<=0||0<=s.cmp(ns1))){var kp=this.g.mul(s);if(!kp.isInfinity()){var recoveryParam=kp.getX(),r=recoveryParam.umod(this.n);if(0!==r.cmpn(0)){s=s.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(0!==(s=s.umod(this.n)).cmpn(0)){recoveryParam=(kp.getY().isOdd()?1:0)|(0!==recoveryParam.cmp(r)?2:0);return options.canonical&&0<s.cmp(this.nh)&&(s=this.n.sub(s),recoveryParam^=1),new Signature({r:r,s:s,recoveryParam:recoveryParam})}}}}}},EC.prototype.verify=function(u1,u2,key,r){u1=this._truncateToN(new BN(u1,16)),key=this.keyFromPublic(key,r);r=(u2=new Signature(u2,"hex")).r,u2=u2.s;if(r.cmpn(1)<0||0<=r.cmp(this.n))return!1;if(u2.cmpn(1)<0||0<=u2.cmp(this.n))return!1;var p,u2=u2.invm(this.n),u1=u2.mul(u1).umod(this.n),u2=u2.mul(r).umod(this.n);return this.curve._maxwellTrick?!(p=this.g.jmulAdd(u1,key.getPublic(),u2)).isInfinity()&&p.eqXToP(r):!(p=this.g.mulAdd(u1,key.getPublic(),u2)).isInfinity()&&0===p.getX().umod(this.n).cmp(r)},EC.prototype.recoverPubKey=function(isYOdd,rInv,isSecondKey,s){assert((3&isSecondKey)===isSecondKey,"The recovery param is more than two bits"),rInv=new Signature(rInv,s);var s2=this.n,s1=new BN(isYOdd),r=rInv.r,s=rInv.s,isYOdd=1&isSecondKey,isSecondKey=isSecondKey>>1;if(0<=r.cmp(this.curve.p.umod(this.curve.n))&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd),rInv=rInv.r.invm(s2),s1=s2.sub(s1).mul(rInv).umod(s2),s2=s.mul(rInv).umod(s2);return this.g.mulAdd(s1,r,s2)},EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){if(null!==(signature=new Signature(signature,enc)).recoveryParam)return signature.recoveryParam;for(var Qprime,i=0;i<4;i++){try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":149,"../utils":157,"./key":151,"./signature":152,"bn.js":158,brorand:47,"hmac-drbg":199}],151:[function(require,module,exports){"use strict";var BN=require("bn.js"),assert=require("../utils").assert;function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}(module.exports=KeyPair).fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})},KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})},KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key,enc){if(key.x||key.y)return"mont"===this.ec.curve.type?assert(key.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert(key.x&&key.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(key.x,key.y));this.pub=this.ec.curve.decodePoint(key,enc)},KeyPair.prototype.derive=function(pub){return pub.validate()||assert(pub.validate(),"public point not validated"),pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":157,"bn.js":158}],152:[function(require,module,exports){"use strict";var BN=require("bn.js"),utils=require("../utils"),assert=utils.assert;function Signature(options,enc){if(options instanceof Signature)return options;this._importDER(options,enc)||(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),void 0===options.recoveryParam?this.recoveryParam=null:this.recoveryParam=options.recoveryParam)}function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;var octetLen=15&initial;if(0==octetLen||4<octetLen)return!1;for(var val=0,i=0,off=p.place;i<octetLen;i++,off++)val<<=8,val|=buf[off],val>>>=0;return!(val<=127)&&(p.place=off,val)}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&i<len;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(len<128)arr.push(len);else{var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}}(module.exports=Signature).prototype._importDER=function(data,slen){data=utils.toArray(data,slen);var s=new Position;if(48!==data[s.place++])return!1;var r=getLength(data,s);if(!1===r)return!1;if(r+s.place!==data.length)return!1;if(2!==data[s.place++])return!1;slen=getLength(data,s);if(!1===slen)return!1;r=data.slice(s.place,slen+s.place);if(s.place+=slen,2!==data[s.place++])return!1;slen=getLength(data,s);if(!1===slen)return!1;if(data.length!==slen+s.place)return!1;s=data.slice(s.place,slen+s.place);if(0===r[0]){if(!(128&r[1]))return!1;r=r.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new BN(r),this.s=new BN(s),!(this.recoveryParam=null)},Signature.prototype.toDER=function(enc){var backHalf=this.r.toArray(),s=this.s.toArray();for(128&backHalf[0]&&(backHalf=[0].concat(backHalf)),128&s[0]&&(s=[0].concat(s)),backHalf=rmPadding(backHalf),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var res=[2];constructLength(res,backHalf.length),(res=res.concat(backHalf)).push(2),constructLength(res,s.length);backHalf=res.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils.encode(res,enc)}},{"../utils":157,"bn.js":158}],153:[function(require,module,exports){"use strict";var hash=require("hash.js"),curves=require("../curves"),utils=require("../utils"),assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=require("./key"),Signature=require("./signature");function EDDSA(curve){if(assert("ed25519"===curve,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(curve);curve=curves[curve].curve,this.curve=curve,this.g=curve.g,this.g.precompute(curve.n.bitLength()+1),this.pointClass=curve.point().constructor,this.encodingLength=Math.ceil(curve.n.bitLength()/8),this.hash=hash.sha512}(module.exports=EDDSA).prototype.sign=function(message,Rencoded){message=parseBytes(message);var S=this.keyFromSecret(Rencoded),r=this.hashInt(S.messagePrefix(),message),R=this.g.mul(r),Rencoded=this.encodePoint(R),S=this.hashInt(Rencoded,S.pubBytes(),message).mul(S.priv()),S=r.add(S).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})},EDDSA.prototype.verify=function(SG,sig,h){SG=parseBytes(SG),sig=this.makeSignature(sig);var key=this.keyFromPublic(h),h=this.hashInt(sig.Rencoded(),key.pubBytes(),SG),SG=this.g.mul(sig.S());return sig.R().add(key.pub().mul(h)).eq(SG)},EDDSA.prototype.hashInt=function(){for(var hash=this.hash(),i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(pub){return KeyPair.fromPublic(this,pub)},EDDSA.prototype.keyFromSecret=function(secret){return KeyPair.fromSecret(this,secret)},EDDSA.prototype.makeSignature=function(sig){return sig instanceof Signature?sig:new Signature(this,sig)},EDDSA.prototype.encodePoint=function(point){var enc=point.getY().toArray("le",this.encodingLength);return enc[this.encodingLength-1]|=point.getX().isOdd()?128:0,enc},EDDSA.prototype.decodePoint=function(bytes){var xIsOdd=(bytes=utils.parseBytes(bytes)).length-1,y=bytes.slice(0,xIsOdd).concat(-129&bytes[xIsOdd]),xIsOdd=0!=(128&bytes[xIsOdd]),y=utils.intFromLE(y);return this.curve.pointFromY(y,xIsOdd)},EDDSA.prototype.encodeInt=function(num){return num.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(bytes){return utils.intFromLE(bytes)},EDDSA.prototype.isPoint=function(val){return val instanceof this.pointClass}},{"../curves":149,"../utils":157,"./key":154,"./signature":155,"hash.js":187}],154:[function(cachedProperty,module,exports){"use strict";var utils=cachedProperty("../utils"),assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;function KeyPair(eddsa,params){this.eddsa=eddsa,this._secret=parseBytes(params.secret),eddsa.isPoint(params.pub)?this._pub=params.pub:this._pubBytes=parseBytes(params.pub)}KeyPair.fromPublic=function(eddsa,pub){return pub instanceof KeyPair?pub:new KeyPair(eddsa,{pub:pub})},KeyPair.fromSecret=function(eddsa,secret){return secret instanceof KeyPair?secret:new KeyPair(eddsa,{secret:secret})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var a=this.eddsa,hash=this.hash(),lastIx=a.encodingLength-1,a=hash.slice(0,a.encodingLength);return a[0]&=248,a[lastIx]&=127,a[lastIx]|=64,a}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(message){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(message,this)},KeyPair.prototype.verify=function(message,sig){return this.eddsa.verify(message,sig,this)},KeyPair.prototype.getSecret=function(enc){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),enc)},KeyPair.prototype.getPublic=function(enc){return utils.encode(this.pubBytes(),enc)},module.exports=KeyPair},{"../utils":157}],155:[function(cachedProperty,module,exports){"use strict";var BN=cachedProperty("bn.js"),utils=cachedProperty("../utils"),assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa,"object"!=typeof sig&&(sig=parseBytes(sig)),Array.isArray(sig)&&(sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}),assert(sig.R&&sig.S,"Signature without R or S"),eddsa.isPoint(sig.R)&&(this._R=sig.R),sig.S instanceof BN&&(this._S=sig.S),this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded,this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature},{"../utils":157,"bn.js":158}],156:[function(require,module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],157:[function(minUtils,module,minAssert){"use strict";var utils=minAssert,BN=minUtils("bn.js"),minAssert=minUtils("minimalistic-assert"),minUtils=minUtils("minimalistic-crypto-utils");utils.assert=minAssert,utils.toArray=minUtils.toArray,utils.zero2=minUtils.zero2,utils.toHex=minUtils.toHex,utils.encode=minUtils.encode,utils.getNAF=function(num,w,bits){var naf=new Array(Math.max(num.bitLength(),bits)+1);naf.fill(0);for(var ws=1<<w+1,k=num.clone(),i=0;i<naf.length;i++){var z,mod=k.andln(ws-1);k.isOdd()?k.isubn(z=(ws>>1)-1<mod?(ws>>1)-mod:mod):z=0,naf[i]=z,k.iushrn(1)}return naf},utils.getJSF=function(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var m8,d1=0,d2=0;0<k1.cmpn(-d1)||0<k2.cmpn(-d2);){var u1,m14=k1.andln(3)+d1&3,u2=k2.andln(3)+d2&3;3===u2&&(u2=-1),u1=0==(1&(m14=3===m14?-1:m14))?0:3!==(m8=k1.andln(7)+d1&7)&&5!==m8||2!==u2?m14:-m14,jsf[0].push(u1),u2=0==(1&u2)?0:3!==(m8=k2.andln(7)+d2&7)&&5!==m8||2!==m14?u2:-u2,jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf},utils.cachedProperty=function(obj,name,computer){var key="_"+name;obj.prototype[name]=function(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}},utils.parseBytes=function(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes},utils.intFromLE=function(bytes){return new BN(bytes,"hex","le")}},{"bn.js":158,"minimalistic-assert":211,"minimalistic-crypto-utils":212}],158:[function(require,module,exports){arguments[4][40][0].apply(exports,arguments)},{buffer:48,dup:40}],159:[function(require,module,exports){module.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],160:[function($gOPD,module,exports){"use strict";$gOPD=$gOPD("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}module.exports=$gOPD},{"get-intrinsic":166}],161:[function(require,module,exports){"use strict";var R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};var ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)},NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){"function"==typeof emitter.removeListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),"error"!==name&&function(emitter,handler,flags){"function"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,"error",handler,flags)}(emitter,errorListener,{once:!0})})},(EventEmitter.EventEmitter=EventEmitter).prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,warning,prepend){var events,existing;return checkListener(warning),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,warning.listener||warning),events=target._events),existing=events[type]),void 0===existing?(existing=events[type]=warning,++target._eventsCount):("function"==typeof existing?existing=events[type]=prepend?[warning,existing]:[existing,warning]:prepend?existing.unshift(warning):existing.push(warning),0<(warning=_getMaxListeners(target))&&existing.length>warning&&!existing.warned&&(existing.warned=!0,(warning=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",warning.emitter=target,warning.type=type,warning.count=existing.length,warning=warning,console&&console.warn&&console.warn(warning))),target}function _onceWrap(state,wrapped,listener){state={fired:!1,wrapFn:void 0,target:state,type:wrapped,listener:listener},wrapped=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped}function _listeners(events,evlistener,unwrap){events=events._events;if(void 0===events)return[];evlistener=events[evlistener];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(evlistener){var events=this._events;if(void 0!==events){evlistener=events[evlistener];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if("function"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if("function"!=typeof emitter.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)})}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(handler){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var er,err="error"===handler,events=this._events;if(void 0!==events)err=err&&void 0===events.error;else if(!err)return!1;if(err){if((er=0<args.length?args[0]:er)instanceof Error)throw er;err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}handler=events[handler];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)ReflectApply(listeners[i],this,args);return!0},EventEmitter.prototype.on=EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;0<=i;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events=this._events;if(void 0===events)return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){for(var key,keys=Object.keys(events),i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;0<=i;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return 0<this._eventsCount?ReflectOwnKeys(this._events):[]}},{}],162:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,MD5=require("md5.js");module.exports=function(password,salt,keyBits,ivLen){if(Buffer.isBuffer(password)||(password=Buffer.from(password,"binary")),salt&&8!==(salt=!Buffer.isBuffer(salt)?Buffer.from(salt,"binary"):salt).length)throw new RangeError("salt should be Buffer with 8 byte length");for(var keyLen=keyBits/8,key=Buffer.alloc(keyLen),iv=Buffer.alloc(ivLen||0),tmp=Buffer.alloc(0);0<keyLen||0<ivLen;){var ivStart=new MD5;ivStart.update(tmp),ivStart.update(password),salt&&ivStart.update(salt);var length,tmp=ivStart.digest(),used=0;0<keyLen&&(length=key.length-keyLen,used=Math.min(keyLen,tmp.length),tmp.copy(key,length,0,used),keyLen-=used),used<tmp.length&&0<ivLen&&(ivStart=iv.length-ivLen,length=Math.min(ivLen,tmp.length-used),tmp.copy(iv,ivStart,used,used+length),ivLen-=length)}return tmp.fill(0),{key:key,iv:iv}}},{"md5.js":208,"safe-buffer":288}],163:[function(require,module,exports){var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(obj,fn,ctx){if("[object Function]"!==toString.call(fn))throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;i<l;i++)fn.call(ctx,obj[i],i,obj);else for(var k in obj)hasOwn.call(obj,k)&&fn.call(ctx,obj[k],k,obj)}},{}],164:[function(require,module,exports){"use strict";var slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,Empty,args=slice.call(arguments,1),boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);return bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))}),target.prototype&&((Empty=function(){}).prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}},{}],165:[function(implementation,module,exports){"use strict";implementation=implementation("./implementation");module.exports=Function.prototype.bind||implementation},{"./implementation":164}],166:[function(require,module,exports){"use strict";var $SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch(e){$gOPD=null}function throwTypeError(){throw new $TypeError}function doEval(name){var value,gen;return"%AsyncFunction%"===name?value=getEvalledConstructor("async function () {}"):"%GeneratorFunction%"===name?value=getEvalledConstructor("function* () {}"):"%AsyncGeneratorFunction%"===name?value=getEvalledConstructor("async function* () {}"):"%AsyncGenerator%"===name?(gen=doEval("%AsyncGeneratorFunction%"))&&(value=gen.prototype):"%AsyncIteratorPrototype%"!==name||(gen=doEval("%AsyncGenerator%"))&&(value=getProto(gen.prototype)),INTRINSICS[name]=value}var ThrowTypeError=$gOPD?function(){try{return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=require("has-symbols")(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},needsEval={},bind="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"%Symbol%":hasSymbols?Symbol:void 0,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":bind,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=require("function-bind"),hasOwn=require("has"),$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g;module.exports=function(name,allowMissing){if("string"!=typeof name||0===name.length)throw new $TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof allowMissing)throw new $TypeError('"allowMissing" argument must be a boolean');var intrinsicRealName,parts=function(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if("%"===first&&"%"!==last)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===last&&"%"!==first)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}),result}(name),intrinsicBaseName=0<parts.length?parts[0]:"",alias=function(name,allowMissing){var alias,intrinsicName=name;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(intrinsicName="%"+(alias=LEGACY_ALIASES[intrinsicName])[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(void 0===(value=value===needsEval?doEval(intrinsicName):value)&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")}("%"+intrinsicBaseName+"%",allowMissing),value=(alias.name,alias.value),skipFurtherCaching=!1,alias=alias.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),desc=$strSlice(part,-1);if(('"'===first||"'"===first||"`"===first||'"'===desc||"'"===desc||"`"===desc)&&first!==desc)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==part&&isOwn||(skipFurtherCaching=!0),hasOwn(INTRINSICS,intrinsicRealName="%"+(intrinsicBaseName+="."+part)+"%"))value=INTRINSICS[intrinsicRealName];else if(null!=value){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}value=$gOPD&&i+1>=parts.length?(isOwn=!!(desc=$gOPD(value,part)))&&"get"in desc&&!("originalValue"in desc.get)?desc.get:value[part]:(isOwn=hasOwn(value,part),value[part]),isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value}},{"function-bind":165,has:170,"has-symbols":167}],167:[function(require,module,exports){"use strict";var origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=require("./shams");module.exports=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}},{"./shams":168}],168:[function(require,module,exports){"use strict";module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var descriptor={},sym=Symbol("test"),syms=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(syms))return!1;for(sym in descriptor[sym]=42,descriptor)return!1;if("function"==typeof Object.keys&&0!==Object.keys(descriptor).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(descriptor).length)return!1;syms=Object.getOwnPropertySymbols(descriptor);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(descriptor,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){descriptor=Object.getOwnPropertyDescriptor(descriptor,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},{}],169:[function(require,module,exports){"use strict";var hasSymbols=require("has-symbols/shams");module.exports=function(){return hasSymbols()&&!!Symbol.toStringTag}},{"has-symbols/shams":168}],170:[function(bind,module,exports){"use strict";bind=bind("function-bind");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":165}],171:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,Transform=require("readable-stream").Transform;function HashBase(blockSize){Transform.call(this),this._block=Buffer.allocUnsafe(blockSize),this._blockSize=blockSize,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}require("inherits")(HashBase,Transform),HashBase.prototype._transform=function(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)},HashBase.prototype._flush=function(callback){var error=null;try{this.push(this.digest())}catch(err){error=err}callback(error)},HashBase.prototype.update=function(data,encoding){if(!function(val,prefix){if(!Buffer.isBuffer(val)&&"string"!=typeof val)throw new TypeError(prefix+" must be a string or a buffer")}(data,"Data"),this._finalized)throw new Error("Digest already called");Buffer.isBuffer(data)||(data=Buffer.from(data,encoding));for(var block=this._block,offset=0;this._blockOffset+data.length-offset>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)block[i++]=data[offset++];this._update(),this._blockOffset=0}for(;offset<data.length;)block[this._blockOffset++]=data[offset++];for(var j=0,carry=8*data.length;0<carry;++j)this._length[j]+=carry,0<(carry=this._length[j]/4294967296|0)&&(this._length[j]-=4294967296*carry);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(encoding){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var digest=this._digest();void 0!==encoding&&(digest=digest.toString(encoding)),this._block.fill(0);for(var i=this._blockOffset=0;i<4;++i)this._length[i]=0;return digest},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=HashBase},{inherits:201,"readable-stream":186,"safe-buffer":288}],172:[function(require,module,exports){arguments[4][76][0].apply(exports,arguments)},{dup:76}],173:[function(require,module,exports){arguments[4][77][0].apply(exports,arguments)},{"./_stream_readable":175,"./_stream_writable":177,_process:243,dup:77,inherits:201}],174:[function(require,module,exports){arguments[4][78][0].apply(exports,arguments)},{"./_stream_transform":176,dup:78,inherits:201}],175:[function(require,module,exports){arguments[4][79][0].apply(exports,arguments)},{"../errors":172,"./_stream_duplex":173,"./internal/streams/async_iterator":178,"./internal/streams/buffer_list":179,"./internal/streams/destroy":180,"./internal/streams/from":182,"./internal/streams/state":184,"./internal/streams/stream":185,_process:243,buffer:93,dup:79,events:161,inherits:201,"string_decoder/":313,util:48}],176:[function(require,module,exports){arguments[4][80][0].apply(exports,arguments)},{"../errors":172,"./_stream_duplex":173,dup:80,inherits:201}],177:[function(require,module,exports){arguments[4][81][0].apply(exports,arguments)},{"../errors":172,"./_stream_duplex":173,"./internal/streams/destroy":180,"./internal/streams/state":184,"./internal/streams/stream":185,_process:243,buffer:93,dup:81,inherits:201,"util-deprecate":317}],178:[function(require,module,exports){arguments[4][82][0].apply(exports,arguments)},{"./end-of-stream":181,_process:243,dup:82}],179:[function(require,module,exports){arguments[4][83][0].apply(exports,arguments)},{buffer:93,dup:83,util:48}],180:[function(require,module,exports){arguments[4][84][0].apply(exports,arguments)},{_process:243,dup:84}],181:[function(require,module,exports){arguments[4][85][0].apply(exports,arguments)},{"../../../errors":172,dup:85}],182:[function(require,module,exports){arguments[4][86][0].apply(exports,arguments)},{dup:86}],183:[function(require,module,exports){arguments[4][87][0].apply(exports,arguments)},{"../../../errors":172,"./end-of-stream":181,dup:87}],184:[function(require,module,exports){arguments[4][88][0].apply(exports,arguments)},{"../../../errors":172,dup:88}],185:[function(require,module,exports){arguments[4][89][0].apply(exports,arguments)},{dup:89,events:161}],186:[function(require,module,exports){arguments[4][90][0].apply(exports,arguments)},{"./lib/_stream_duplex.js":173,"./lib/_stream_passthrough.js":174,"./lib/_stream_readable.js":175,"./lib/_stream_transform.js":176,"./lib/_stream_writable.js":177,"./lib/internal/streams/end-of-stream.js":181,"./lib/internal/streams/pipeline.js":183,dup:90}],187:[function(require,module,hash){hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":188,"./hash/hmac":189,"./hash/ripemd":190,"./hash/sha":191,"./hash/utils":198}],188:[function(require,module,exports){"use strict";var utils=require("./utils"),assert=require("minimalistic-assert");function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(exports.BlockHash=BlockHash).prototype.update=function(msg,r){if(msg=utils.toArray(msg,r),this.pending?this.pending=this.pending.concat(msg):this.pending=msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){r=(msg=this.pending).length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else for(res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,t=8;t<this.padLength;t++)res[i++]=0;return res}},{"./utils":198,"minimalistic-assert":211}],189:[function(require,module,exports){"use strict";var utils=require("./utils"),assert=require("minimalistic-assert");function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(key,enc))}(module.exports=Hmac).prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(i=0;i<key.length;i++)key[i]^=54;for(this.inner=(new this.Hash).update(key),i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},{"./utils":198,"minimalistic-assert":211}],190:[function(common,module,exports){"use strict";var utils=common("./utils"),common=common("./common"),rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(j,x,y,z){return j<=15?x^y^z:j<=31?x&y|~x&z:j<=47?(x|~y)^z:j<=63?x&z|y&~z:x^(y|~z)}utils.inherits(RIPEMD160,BlockHash),(exports.ripemd160=RIPEMD160).blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var Ah=A=this.h[0],Bh=B=this.h[1],Ch=C=this.h[2],Dh=D=this.h[3],Eh=E=this.h[4],j=0;j<80;j++)var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],function(j){return j<=15?0:j<=31?1518500249:j<=47?1859775393:j<=63?2400959708:2840853838}(j)),s[j]),E),A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],function(j){return j<=15?1352829926:j<=31?1548603684:j<=47?1836072691:j<=63?2053994217:0}(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T;T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":188,"./utils":198}],191:[function(require,module,exports){"use strict";exports.sha1=require("./sha/1"),exports.sha224=require("./sha/224"),exports.sha256=require("./sha/256"),exports.sha384=require("./sha/384"),exports.sha512=require("./sha/512")},{"./sha/1":192,"./sha/224":193,"./sha/256":194,"./sha/384":195,"./sha/512":196}],192:[function(shaCommon,module,exports){"use strict";var utils=shaCommon("../utils"),common=shaCommon("../common"),shaCommon=shaCommon("./common"),rotl32=utils.rotl32,sum32=utils.sum32,sum32_5=utils.sum32_5,ft_1=shaCommon.ft_1,BlockHash=common.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils.inherits(SHA1,BlockHash),(module.exports=SHA1).blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);for(var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],i=0;i<W.length;i++)var t=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(t,b,c,d),e,W[i],sha1_K[t]),e=d,d=c,c=rotl32(b,30),b=a,a=t;this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":188,"../utils":198,"./common":197}],193:[function(require,module,exports){"use strict";var utils=require("../utils"),SHA256=require("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils.inherits(SHA224,SHA256),(module.exports=SHA224).blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")}},{"../utils":198,"./256":194}],194:[function(require,module,exports){"use strict";var utils=require("../utils"),common=require("../common"),shaCommon=require("./common"),assert=require("minimalistic-assert"),sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash=common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils.inherits(SHA256,BlockHash),(module.exports=SHA256).blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];for(assert(this.k.length===W.length),i=0;i<W.length;i++)var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c)),h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2);this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":188,"../utils":198,"./common":197,"minimalistic-assert":211}],195:[function(require,module,exports){"use strict";var utils=require("../utils"),SHA512=require("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils.inherits(SHA384,SHA512),(module.exports=SHA384).blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")}},{"../utils":198,"./512":196}],196:[function(require,module,exports){"use strict";var utils=require("../utils"),common=require("../common"),assert=require("minimalistic-assert"),rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=common.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils.inherits(SHA512,BlockHash),(module.exports=SHA512).blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=function(xh,r){var c0_hi=rotr64_hi(xh,r,19),c1_hi=rotr64_hi(r,xh,29),r=shr64_hi(xh,r,6),r=c0_hi^c1_hi^r;r<0&&(r+=4294967296);return r}(W[i-4],W[i-3]),c0_lo=function(xh,r){var c0_lo=rotr64_lo(xh,r,19),c1_lo=rotr64_lo(r,xh,29),r=shr64_lo(xh,r,6),r=c0_lo^c1_lo^r;r<0&&(r+=4294967296);return r}(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=function(xh,r){var c0_hi=rotr64_hi(xh,r,1),c1_hi=rotr64_hi(xh,r,8),r=shr64_hi(xh,r,7),r=c0_hi^c1_hi^r;r<0&&(r+=4294967296);return r}(W[i-30],W[i-29]),c2_lo=function(xh,r){var c0_lo=rotr64_lo(xh,r,1),c1_lo=rotr64_lo(xh,r,8),r=shr64_lo(xh,r,7),r=c0_lo^c1_lo^r;r<0&&(r+=4294967296);return r}(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2)var c0_hi=hh,c0_lo=hl,c1_hi=function(r,xl){var c0_hi=rotr64_hi(r,xl,14),c1_hi=rotr64_hi(r,xl,18),r=rotr64_hi(xl,r,9),r=c0_hi^c1_hi^r;r<0&&(r+=4294967296);return r}(eh,el),T2_lo=function(r,xl){var c0_lo=rotr64_lo(r,xl,14),c1_lo=rotr64_lo(r,xl,18),r=rotr64_lo(xl,r,9),r=c0_lo^c1_lo^r;r<0&&(r+=4294967296);return r}(eh,el),c2_hi=function(xh,yh,r){r=xh&yh^~xh&r;r<0&&(r+=4294967296);return r}(eh,fh,gh),c2_lo=function(xl,yl,r){r=xl&yl^~xl&r;r<0&&(r+=4294967296);return r}(el,fl,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],T1_lo=W[i],T2_hi=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,T2_lo,c2_hi,c2_lo,c3_hi,c3_lo,T1_lo,T2_hi),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,T2_lo,c2_hi,c2_lo,c3_hi,c3_lo,T1_lo,T2_hi),c0_hi=function(r,xl){var c0_hi=rotr64_hi(r,xl,28),c1_hi=rotr64_hi(xl,r,2),r=rotr64_hi(xl,r,7),r=c0_hi^c1_hi^r;r<0&&(r+=4294967296);return r}(ah,al),c0_lo=function(r,xl){var c0_lo=rotr64_lo(r,xl,28),c1_lo=rotr64_lo(xl,r,2),r=rotr64_lo(xl,r,7),r=c0_lo^c1_lo^r;r<0&&(r+=4294967296);return r}(ah,al),c1_hi=function(xh,yh,r){r=xh&yh^xh&r^yh&r;r<0&&(r+=4294967296);return r}(ah,bh,ch),T2_lo=function(xl,yl,r){r=xl&yl^xl&r^yl&r;r<0&&(r+=4294967296);return r}(al,bl,cl),T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,T2_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,T2_lo),hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo);sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":188,"../utils":198,"minimalistic-assert":211}],197:[function(require,module,exports){"use strict";var rotr32=require("../utils").rotr32;function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}exports.ft_1=function(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?x^y^z:2===s?maj32(x,y,z):void 0},exports.ch32=ch32,exports.maj32=maj32,exports.p32=p32,exports.s0_256=function(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)},exports.s1_256=function(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)},exports.g0_256=function(x){return rotr32(x,7)^rotr32(x,18)^x>>>3},exports.g1_256=function(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}},{"../utils":198}],198:[function(inherits,module,exports){"use strict";var assert=inherits("minimalistic-assert"),inherits=inherits("inherits");function htonl(w){return(w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24)>>>0}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}exports.inherits=inherits,exports.toArray=function(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc)for((msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg),i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else for(var p=0,i=0;i<msg.length;i++){var c=msg.charCodeAt(i);c<128?res[p++]=c:(c<2048?res[p++]=c>>6|192:(!function(msg,i){return 55296==(64512&msg.charCodeAt(i))&&(!(i<0||i+1>=msg.length)&&56320==(64512&msg.charCodeAt(i+1)))}(msg,i)?res[p++]=c>>12|224:(c=65536+((1023&c)<<10)+(1023&msg.charCodeAt(++i)),res[p++]=c>>18|240,res[p++]=c>>12&63|128),res[p++]=c>>6&63|128),res[p++]=63&c|128)}else for(i=0;i<msg.length;i++)res[i]=0|msg[i];return res},exports.toHex=function(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res},exports.htonl=htonl,exports.toHex32=function(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];res+=zero8((w="little"===endian?htonl(w):w).toString(16))}return res},exports.zero2=zero2,exports.zero8=zero8,exports.join32=function(msg,start,len,endian){assert((len-=start)%4==0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0}return res},exports.split32=function(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res},exports.rotr32=function(w,b){return w>>>b|w<<32-b},exports.rotl32=function(w,b){return w<<b|w>>>32-b},exports.sum32=function(a,b){return a+b>>>0},exports.sum32_3=function(a,b,c){return a+b+c>>>0},exports.sum32_4=function(a,b,c,d){return a+b+c+d>>>0},exports.sum32_5=function(a,b,c,d,e){return a+b+c+d+e>>>0},exports.sum64=function(buf,pos,ah,al){var bh=buf[pos],lo=al+buf[pos+1]>>>0;buf[pos]=(lo<al?1:0)+ah+bh>>>0,buf[pos+1]=lo},exports.sum64_hi=function(ah,al,bh,bl){return(al+bl>>>0<al?1:0)+ah+bh>>>0},exports.sum64_lo=function(ah,al,bh,bl){return al+bl>>>0},exports.sum64_4_hi=function(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;return carry+=(lo=al+bl>>>0)<al?1:0,carry+=(lo=lo+cl>>>0)<cl?1:0,ah+bh+ch+dh+(carry+=(lo=lo+dl>>>0)<dl?1:0)>>>0},exports.sum64_4_lo=function(ah,al,bh,bl,ch,cl,dh,dl){return al+bl+cl+dl>>>0},exports.sum64_5_hi=function(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;return carry+=(lo=al+bl>>>0)<al?1:0,carry+=(lo=lo+cl>>>0)<cl?1:0,carry+=(lo=lo+dl>>>0)<dl?1:0,ah+bh+ch+dh+eh+(carry+=(lo=lo+el>>>0)<el?1:0)>>>0},exports.sum64_5_lo=function(ah,al,bh,bl,ch,cl,dh,dl,eh,el){return al+bl+cl+dl+el>>>0},exports.rotr64_hi=function(ah,al,num){return(al<<32-num|ah>>>num)>>>0},exports.rotr64_lo=function(ah,al,num){return(ah<<32-num|al>>>num)>>>0},exports.shr64_hi=function(ah,al,num){return ah>>>num},exports.shr64_lo=function(ah,al,num){return(ah<<32-num|al>>>num)>>>0}},{inherits:201,"minimalistic-assert":211}],199:[function(require,module,exports){"use strict";var hash=require("hash.js"),utils=require("minimalistic-crypto-utils"),assert=require("minimalistic-assert");function HmacDRBG(pers){if(!(this instanceof HmacDRBG))return new HmacDRBG(pers);this.hash=pers.hash,this.predResist=!!pers.predResist,this.outLen=this.hash.outSize,this.minEntropy=pers.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(pers.entropy,pers.entropyEnc||"hex"),nonce=utils.toArray(pers.nonce,pers.nonceEnc||"hex"),pers=utils.toArray(pers.pers,pers.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}(module.exports=HmacDRBG).prototype._init=function(entropy,nonce,seed){seed=entropy.concat(nonce).concat(seed);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toArray(entropy,entropyEnc),add=utils.toArray(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this._reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,res){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(res=add,add=enc,enc=null),add&&(add=utils.toArray(add,res||"hex"),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);res=temp.slice(0,len);return this._update(add),this._reseed++,utils.encode(res,enc)}},{"hash.js":187,"minimalistic-assert":211,"minimalistic-crypto-utils":212}],200:[function(require,module,exports){exports.read=function(buffer,offset,s,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=s?nBytes-1:0,d=s?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;0<nBits;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;0<nBits;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,c,mLen,s){var e,m,eLen=8*s-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=c?0:s-1,d=c?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),2<=(value+=1<=e+eBias?rt/c:rt*Math.pow(2,1-eBias))*c&&(e++,c/=2),eMax<=e+eBias?(m=0,e=eMax):1<=e+eBias?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));8<=mLen;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;0<eLen;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],201:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){var TempCtor;superCtor&&(ctor.super_=superCtor,(TempCtor=function(){}).prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor)}},{}],202:[function(supportsStandardArguments,module,exports){"use strict";function isStandardArguments(value){return!(hasToStringTag&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===$toString(value)}function isLegacyArguments(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&0<=value.length&&"[object Array]"!==$toString(value)&&"[object Function]"===$toString(value.callee)}var hasToStringTag=supportsStandardArguments("has-tostringtag/shams")(),$toString=supportsStandardArguments("call-bind/callBound")("Object.prototype.toString"),supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments,module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments},{"call-bind/callBound":94,"has-tostringtag/shams":169}],203:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}},{}],204:[function(require,module,exports){"use strict";var GeneratorFunction,toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag=require("has-tostringtag/shams")(),getProto=Object.getPrototypeOf;module.exports=function(fn){return"function"==typeof fn&&(!!isFnRegex.test(fnToStr.call(fn))||(hasToStringTag?!!getProto&&(void 0===GeneratorFunction&&(generatorFunc=function(){if(!hasToStringTag)return!1;try{return Function("return function*() {}")()}catch(e){}}(),GeneratorFunction=!!generatorFunc&&getProto(generatorFunc)),getProto(fn)===GeneratorFunction):"[object GeneratorFunction]"===toStr.call(fn)));var generatorFunc}},{"has-tostringtag/shams":169}],205:[function(require,module,exports){!function(global){!function(){"use strict";var forEach=require("foreach"),availableTypedArrays=require("available-typed-arrays"),callBound=require("call-bind/callBound"),$toString=callBound("Object.prototype.toString"),hasToStringTag=require("has-tostringtag/shams")(),g="undefined"==typeof globalThis?global:globalThis,typedArrays=availableTypedArrays(),$indexOf=callBound("Array.prototype.indexOf",!0)||function(array,value){for(var i=0;i<array.length;i+=1)if(array[i]===value)return i;return-1},$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=require("es-abstract/helpers/getOwnPropertyDescriptor"),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(typedArray){var superProto,descriptor=new g[typedArray];Symbol.toStringTag in descriptor&&(superProto=getPrototypeOf(descriptor),(descriptor=gOPD(superProto,Symbol.toStringTag))||(superProto=getPrototypeOf(superProto),descriptor=gOPD(superProto,Symbol.toStringTag)),toStrTags[typedArray]=descriptor.get)});module.exports=function(tag){if(!tag||"object"!=typeof tag)return!1;if(hasToStringTag&&Symbol.toStringTag in tag)return!!gOPD&&function(value){var anyTrue=!1;return forEach(toStrTags,function(getter,typedArray){if(!anyTrue)try{anyTrue=getter.call(value)===typedArray}catch(e){}}),anyTrue}(tag);tag=$slice($toString(tag),8,-1);return-1<$indexOf(typedArrays,tag)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":41,"call-bind/callBound":94,"es-abstract/helpers/getOwnPropertyDescriptor":160,foreach:163,"has-tostringtag/shams":169}],206:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],207:[function(require,module,exports){var root,factory;root="undefined"!=typeof self?self:this,factory=function(){return modules=[function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix=function(){function BitMatrix(data,width){this.width=width,this.height=data.length/width,this.data=data}return BitMatrix.createEmpty=function(width,height){return new BitMatrix(new Uint8ClampedArray(width*height),width)},BitMatrix.prototype.get=function(x,y){return!(x<0||x>=this.width||y<0||y>=this.height)&&!!this.data[y*this.width+x]},BitMatrix.prototype.set=function(x,y,v){this.data[y*this.width+x]=v?1:0},BitMatrix.prototype.setRegion=function(left,top,width,height,v){for(var y=top;y<top+height;y++)for(var x=left;x<left+width;x++)this.set(x,y,!!v)},BitMatrix}();exports.BitMatrix=BitMatrix},function(module,exports,GenericGF){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGFPoly_1=GenericGF(2);exports.addOrSubtractGF=function(a,b){return a^b};GenericGF=function(){function GenericGF(primitive,size,genBase){this.primitive=primitive,this.size=size,this.generatorBase=genBase,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var x=1,i=0;i<this.size;i++)this.expTable[i]=x,(x*=2)>=this.size&&(x=(x^this.primitive)&this.size-1);for(i=0;i<this.size-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new GenericGFPoly_1.default(this,Uint8ClampedArray.from([0])),this.one=new GenericGFPoly_1.default(this,Uint8ClampedArray.from([1]))}return GenericGF.prototype.multiply=function(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]},GenericGF.prototype.inverse=function(a){if(0===a)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[a]-1]},GenericGF.prototype.buildMonomial=function(coefficients,coefficient){if(coefficients<0)throw new Error("Invalid monomial degree less than 0");if(0===coefficient)return this.zero;coefficients=new Uint8ClampedArray(coefficients+1);return coefficients[0]=coefficient,new GenericGFPoly_1.default(this,coefficients)},GenericGF.prototype.log=function(a){if(0===a)throw new Error("Can't take log(0)");return this.logTable[a]},GenericGF.prototype.exp=function(a){return this.expTable[a]},GenericGF}();exports.default=GenericGF},function(module,exports,GenericGFPoly){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGF_1=GenericGFPoly(1),GenericGFPoly=function(){function GenericGFPoly(field,coefficients){if(0===coefficients.length)throw new Error("No coefficients.");this.field=field;var coefficientsLength=coefficients.length;if(1<coefficientsLength&&0===coefficients[0]){for(var firstNonZero=1;firstNonZero<coefficientsLength&&0===coefficients[firstNonZero];)firstNonZero++;if(firstNonZero===coefficientsLength)this.coefficients=field.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(coefficientsLength-firstNonZero);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=coefficients[firstNonZero+i]}}else this.coefficients=coefficients}return GenericGFPoly.prototype.degree=function(){return this.coefficients.length-1},GenericGFPoly.prototype.isZero=function(){return 0===this.coefficients[0]},GenericGFPoly.prototype.getCoefficient=function(degree){return this.coefficients[this.coefficients.length-1-degree]},GenericGFPoly.prototype.addOrSubtract=function(_a){if(this.isZero())return _a;if(_a.isZero())return this;var smallerCoefficients=this.coefficients,largerCoefficients=_a.coefficients;smallerCoefficients.length>largerCoefficients.length&&(smallerCoefficients=(_a=[largerCoefficients,smallerCoefficients])[0],largerCoefficients=_a[1]);for(var sumDiff=new Uint8ClampedArray(largerCoefficients.length),lengthDiff=largerCoefficients.length-smallerCoefficients.length,i=0;i<lengthDiff;i++)sumDiff[i]=largerCoefficients[i];for(i=lengthDiff;i<largerCoefficients.length;i++)sumDiff[i]=GenericGF_1.addOrSubtractGF(smallerCoefficients[i-lengthDiff],largerCoefficients[i]);return new GenericGFPoly(this.field,sumDiff)},GenericGFPoly.prototype.multiply=function(scalar){if(0===scalar)return this.field.zero;if(1===scalar)return this;for(var size=this.coefficients.length,product=new Uint8ClampedArray(size),i=0;i<size;i++)product[i]=this.field.multiply(this.coefficients[i],scalar);return new GenericGFPoly(this.field,product)},GenericGFPoly.prototype.multiplyPoly=function(other){if(this.isZero()||other.isZero())return this.field.zero;for(var aCoefficients=this.coefficients,aLength=aCoefficients.length,bCoefficients=other.coefficients,bLength=bCoefficients.length,product=new Uint8ClampedArray(aLength+bLength-1),i=0;i<aLength;i++)for(var aCoeff=aCoefficients[i],j=0;j<bLength;j++)product[i+j]=GenericGF_1.addOrSubtractGF(product[i+j],this.field.multiply(aCoeff,bCoefficients[j]));return new GenericGFPoly(this.field,product)},GenericGFPoly.prototype.multiplyByMonomial=function(degree,coefficient){if(degree<0)throw new Error("Invalid degree less than 0");if(0===coefficient)return this.field.zero;for(var size=this.coefficients.length,product=new Uint8ClampedArray(size+degree),i=0;i<size;i++)product[i]=this.field.multiply(this.coefficients[i],coefficient);return new GenericGFPoly(this.field,product)},GenericGFPoly.prototype.evaluateAt=function(a){var result=0;if(0===a)return this.getCoefficient(0);var size=this.coefficients.length;if(1===a)return this.coefficients.forEach(function(coefficient){result=GenericGF_1.addOrSubtractGF(result,coefficient)}),result;for(var result=this.coefficients[0],i=1;i<size;i++)result=GenericGF_1.addOrSubtractGF(this.field.multiply(a,result),this.coefficients[i]);return result},GenericGFPoly}();exports.default=GenericGFPoly},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var binarizer_1=__webpack_require__(4),decoder_1=__webpack_require__(5),extractor_1=__webpack_require__(11),locator_1=__webpack_require__(12);function scan(matrix){var locations=locator_1.locate(matrix);if(!locations)return null;for(var _i=0,locations_1=locations;_i<locations_1.length;_i++){var location_1=locations_1[_i],extracted=extractor_1.extract(matrix,location_1),decoded=decoder_1.decode(extracted.matrix);if(decoded)return{binaryData:decoded.bytes,data:decoded.text,chunks:decoded.chunks,version:decoded.version,location:{topRightCorner:extracted.mappingFunction(location_1.dimension,0),topLeftCorner:extracted.mappingFunction(0,0),bottomRightCorner:extracted.mappingFunction(location_1.dimension,location_1.dimension),bottomLeftCorner:extracted.mappingFunction(0,location_1.dimension),topRightFinderPattern:location_1.topRight,topLeftFinderPattern:location_1.topLeft,bottomLeftFinderPattern:location_1.bottomLeft,bottomRightAlignmentPattern:location_1.alignmentPattern}}}return null}var defaultOptions={inversionAttempts:"attemptBoth"};function jsQR(data,result,binarized,providedOptions){void 0===providedOptions&&(providedOptions={});var options=defaultOptions;Object.keys(options||{}).forEach(function(opt){options[opt]=providedOptions[opt]||options[opt]});var inverted="attemptBoth"===options.inversionAttempts||"invertFirst"===options.inversionAttempts,tryInvertedFirst="onlyInvert"===options.inversionAttempts||"invertFirst"===options.inversionAttempts,result=binarizer_1.binarize(data,result,binarized,inverted),binarized=result.binarized,inverted=result.inverted,result=scan(tryInvertedFirst?inverted:binarized);return result=!(result||"attemptBoth"!==options.inversionAttempts&&"invertFirst"!==options.inversionAttempts)?scan(tryInvertedFirst?binarized:inverted):result}exports.default=jsQR.default=jsQR},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix_1=__webpack_require__(0);function numBetween(value,min,max){return value<min?min:max<value?max:value}var Matrix=function(){function Matrix(width,height){this.width=width,this.data=new Uint8ClampedArray(width*height)}return Matrix.prototype.get=function(x,y){return this.data[y*this.width+x]},Matrix.prototype.set=function(x,y,value){this.data[y*this.width+x]=value},Matrix}();exports.binarize=function(data,width,height,returnInverted){if(data.length!==width*height*4)throw new Error("Malformed data passed to binarizer.");for(var greyscalePixels=new Matrix(width,height),x=0;x<width;x++)for(var y=0;y<height;y++){var r=data[4*(y*width+x)+0],g=data[4*(y*width+x)+1],b=data[4*(y*width+x)+2];greyscalePixels.set(x,y,.2126*r+.7152*g+.0722*b)}for(var horizontalRegionCount=Math.ceil(width/8),verticalRegionCount=Math.ceil(height/8),blackPoints=new Matrix(horizontalRegionCount,verticalRegionCount),verticalRegion=0;verticalRegion<verticalRegionCount;verticalRegion++)for(var hortizontalRegion=0;hortizontalRegion<horizontalRegionCount;hortizontalRegion++){for(var sum=0,min=1/0,max=0,y=0;y<8;y++)for(x=0;x<8;x++){var pixelLumosity=greyscalePixels.get(8*hortizontalRegion+x,8*verticalRegion+y);sum+=pixelLumosity,min=Math.min(min,pixelLumosity),max=Math.max(max,pixelLumosity)}var averageNeighborBlackPoint,average=sum/Math.pow(8,2);max-min<=24&&(average=min/2,0<verticalRegion&&0<hortizontalRegion&&(min<(averageNeighborBlackPoint=(blackPoints.get(hortizontalRegion,verticalRegion-1)+2*blackPoints.get(hortizontalRegion-1,verticalRegion)+blackPoints.get(hortizontalRegion-1,verticalRegion-1))/4)&&(average=averageNeighborBlackPoint))),blackPoints.set(hortizontalRegion,verticalRegion,average)}var binarized=BitMatrix_1.BitMatrix.createEmpty(width,height),inverted=null;for(returnInverted&&(inverted=BitMatrix_1.BitMatrix.createEmpty(width,height)),verticalRegion=0;verticalRegion<verticalRegionCount;verticalRegion++)for(hortizontalRegion=0;hortizontalRegion<horizontalRegionCount;hortizontalRegion++){for(var left=numBetween(hortizontalRegion,2,horizontalRegionCount-3),top_1=numBetween(verticalRegion,2,verticalRegionCount-3),sum=0,xRegion=-2;xRegion<=2;xRegion++)for(var yRegion=-2;yRegion<=2;yRegion++)sum+=blackPoints.get(left+xRegion,top_1+yRegion);for(var threshold=sum/25,xRegion=0;xRegion<8;xRegion++)for(yRegion=0;yRegion<8;yRegion++){var x=8*hortizontalRegion+xRegion,y=8*verticalRegion+yRegion,lum=greyscalePixels.get(x,y);binarized.set(x,y,lum<=threshold),returnInverted&&inverted.set(x,y,!(lum<=threshold))}}return returnInverted?{binarized:binarized,inverted:inverted}:{binarized:binarized}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix_1=__webpack_require__(0),decodeData_1=__webpack_require__(6),reedsolomon_1=__webpack_require__(9),version_1=__webpack_require__(10);function numBitsDiffering(x,y){for(var z=x^y,bitCount=0;z;)bitCount++,z&=z-1;return bitCount}function pushBit(bit,byte){return byte<<1|bit}var FORMAT_INFO_TABLE=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],DATA_MASKS=[function(p){return(p.y+p.x)%2==0},function(p){return p.y%2==0},function(p){return p.x%3==0},function(p){return(p.y+p.x)%3==0},function(p){return(Math.floor(p.y/2)+Math.floor(p.x/3))%2==0},function(p){return p.x*p.y%2+p.x*p.y%3==0},function(p){return(p.y*p.x%2+p.y*p.x%3)%2==0},function(p){return((p.y+p.x)%2+p.y*p.x%3)%2==0}];function readCodewords(matrix,version,formatInfo){for(var dataMask=DATA_MASKS[formatInfo.dataMask],dimension=matrix.height,functionPatternMask=function(version){var dimension=17+4*version.versionNumber,matrix=BitMatrix_1.BitMatrix.createEmpty(dimension,dimension);matrix.setRegion(0,0,9,9,!0),matrix.setRegion(dimension-8,0,8,9,!0),matrix.setRegion(0,dimension-8,9,8,!0);for(var _i=0,_a=version.alignmentPatternCenters;_i<_a.length;_i++)for(var x=_a[_i],_b=0,_c=version.alignmentPatternCenters;_b<_c.length;_b++){var y=_c[_b];6===x&&6===y||6===x&&y===dimension-7||x===dimension-7&&6===y||matrix.setRegion(x-2,y-2,5,5,!0)}return matrix.setRegion(6,9,1,dimension-17,!0),matrix.setRegion(9,6,dimension-17,1,!0),6<version.versionNumber&&(matrix.setRegion(dimension-11,0,3,6,!0),matrix.setRegion(0,dimension-11,6,3,!0)),matrix}(version),codewords=[],currentByte=0,bitsRead=0,readingUp=!0,columnIndex=dimension-1;0<columnIndex;columnIndex-=2){6===columnIndex&&columnIndex--;for(var i=0;i<dimension;i++)for(var y=readingUp?dimension-1-i:i,columnOffset=0;columnOffset<2;columnOffset++){var bit,x=columnIndex-columnOffset;functionPatternMask.get(x,y)||(bitsRead++,bit=matrix.get(x,y),currentByte=currentByte<<1|(bit=dataMask({y:y,x:x})?!bit:bit),8===bitsRead&&(codewords.push(currentByte),currentByte=bitsRead=0))}readingUp=!readingUp}return codewords}function decodeMatrix(dataBlocks){var version=function(matrix){var dimension=matrix.height,provisionalVersion=Math.floor((dimension-17)/4);if(provisionalVersion<=6)return version_1.VERSIONS[provisionalVersion-1];for(var topRightVersionBits=0,y=5;0<=y;y--)for(var x=dimension-9;dimension-11<=x;x--)topRightVersionBits=pushBit(matrix.get(x,y),topRightVersionBits);for(var bottomLeftVersionBits=0,x=5;0<=x;x--)for(y=dimension-9;dimension-11<=y;y--)bottomLeftVersionBits=pushBit(matrix.get(x,y),bottomLeftVersionBits);for(var bestVersion,bestDifference=1/0,_i=0,VERSIONS_1=version_1.VERSIONS;_i<VERSIONS_1.length;_i++){var version=VERSIONS_1[_i];if(version.infoBits===topRightVersionBits||version.infoBits===bottomLeftVersionBits)return version;var difference=numBitsDiffering(topRightVersionBits,version.infoBits);difference<bestDifference&&(bestVersion=version,bestDifference=difference),(difference=numBitsDiffering(bottomLeftVersionBits,version.infoBits))<bestDifference&&(bestVersion=version,bestDifference=difference)}return bestDifference<=3?bestVersion:void 0}(dataBlocks);if(!version)return null;var totalBytes=function(matrix){for(var topLeftFormatInfoBits=0,x=0;x<=8;x++)6!==x&&(topLeftFormatInfoBits=pushBit(matrix.get(x,8),topLeftFormatInfoBits));for(var y=7;0<=y;y--)6!==y&&(topLeftFormatInfoBits=pushBit(matrix.get(8,y),topLeftFormatInfoBits));for(var dimension=matrix.height,topRightBottomRightFormatInfoBits=0,y=dimension-1;dimension-7<=y;y--)topRightBottomRightFormatInfoBits=pushBit(matrix.get(8,y),topRightBottomRightFormatInfoBits);for(x=dimension-8;x<dimension;x++)topRightBottomRightFormatInfoBits=pushBit(matrix.get(x,8),topRightBottomRightFormatInfoBits);for(var bestDifference=1/0,bestFormatInfo=null,_i=0,FORMAT_INFO_TABLE_1=FORMAT_INFO_TABLE;_i<FORMAT_INFO_TABLE_1.length;_i++){var difference=FORMAT_INFO_TABLE_1[_i],bits=difference.bits,formatInfo=difference.formatInfo;if(bits===topLeftFormatInfoBits||bits===topRightBottomRightFormatInfoBits)return formatInfo;difference=numBitsDiffering(topLeftFormatInfoBits,bits);difference<bestDifference&&(bestFormatInfo=formatInfo,bestDifference=difference),topLeftFormatInfoBits!==topRightBottomRightFormatInfoBits&&(difference=numBitsDiffering(topRightBottomRightFormatInfoBits,bits))<bestDifference&&(bestFormatInfo=formatInfo,bestDifference=difference)}return bestDifference<=3?bestFormatInfo:null}(dataBlocks);if(!totalBytes)return null;dataBlocks=function(codewords,version,ecLevel){var ecInfo=version.errorCorrectionLevels[ecLevel],dataBlocks=[],totalCodewords=0;if(ecInfo.ecBlocks.forEach(function(block){for(var i=0;i<block.numBlocks;i++)dataBlocks.push({numDataCodewords:block.dataCodewordsPerBlock,codewords:[]}),totalCodewords+=block.dataCodewordsPerBlock+ecInfo.ecCodewordsPerBlock}),codewords.length<totalCodewords)return null;codewords=codewords.slice(0,totalCodewords);for(var shortBlockSize=ecInfo.ecBlocks[0].dataCodewordsPerBlock,i=0;i<shortBlockSize;i++)for(var _i=0,dataBlocks_1=dataBlocks;_i<dataBlocks_1.length;_i++)dataBlocks_1[_i].codewords.push(codewords.shift());if(1<ecInfo.ecBlocks.length)for(var smallBlockCount=ecInfo.ecBlocks[0].numBlocks,largeBlockCount=ecInfo.ecBlocks[1].numBlocks,i=0;i<largeBlockCount;i++)dataBlocks[smallBlockCount+i].codewords.push(codewords.shift());for(;0<codewords.length;)for(var _a=0,dataBlocks_2=dataBlocks;_a<dataBlocks_2.length;_a++)dataBlocks_2[_a].codewords.push(codewords.shift());return dataBlocks}(readCodewords(dataBlocks,version,totalBytes),version,totalBytes.errorCorrectionLevel);if(!dataBlocks)return null;for(var totalBytes=dataBlocks.reduce(function(a,b){return a+b.numDataCodewords},0),resultBytes=new Uint8ClampedArray(totalBytes),resultIndex=0,_i=0,dataBlocks_3=dataBlocks;_i<dataBlocks_3.length;_i++){var dataBlock=dataBlocks_3[_i],correctedBytes=reedsolomon_1.decode(dataBlock.codewords,dataBlock.codewords.length-dataBlock.numDataCodewords);if(!correctedBytes)return null;for(var i=0;i<dataBlock.numDataCodewords;i++)resultBytes[resultIndex++]=correctedBytes[i]}try{return decodeData_1.decode(resultBytes,version.versionNumber)}catch(_a){return null}}exports.decode=function(matrix){if(null==matrix)return null;var result=decodeMatrix(matrix);if(result)return result;for(var x=0;x<matrix.width;x++)for(var y=x+1;y<matrix.height;y++)matrix.get(x,y)!==matrix.get(y,x)&&(matrix.set(x,y,!matrix.get(x,y)),matrix.set(y,x,!matrix.get(y,x)));return decodeMatrix(matrix)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Mode,ModeByte,BitStream_1=__webpack_require__(7),shiftJISTable_1=__webpack_require__(8);!function(Mode){Mode.Numeric="numeric",Mode.Alphanumeric="alphanumeric",Mode.Byte="byte",Mode.Kanji="kanji",Mode.ECI="eci"}(Mode=exports.Mode||(exports.Mode={})),function(ModeByte){ModeByte[ModeByte.Terminator=0]="Terminator",ModeByte[ModeByte.Numeric=1]="Numeric",ModeByte[ModeByte.Alphanumeric=2]="Alphanumeric",ModeByte[ModeByte.Byte=4]="Byte",ModeByte[ModeByte.Kanji=8]="Kanji",ModeByte[ModeByte.ECI=7]="ECI"}(ModeByte=ModeByte||{});var AlphanumericCharacterCodes=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];exports.decode=function(data,version){for(var _a,stream=new BitStream_1.BitStream(data),size=version<=9?0:version<=26?1:2,result={text:"",bytes:[],chunks:[],version:version};4<=stream.available();){var _b,_c,kanjiResult,_d=stream.readBits(4);if(_d===ModeByte.Terminator)return result;_d===ModeByte.ECI?0===stream.readBits(1)?result.chunks.push({type:Mode.ECI,assignmentNumber:stream.readBits(7)}):0===stream.readBits(1)?result.chunks.push({type:Mode.ECI,assignmentNumber:stream.readBits(14)}):0===stream.readBits(1)?result.chunks.push({type:Mode.ECI,assignmentNumber:stream.readBits(21)}):result.chunks.push({type:Mode.ECI,assignmentNumber:-1}):_d===ModeByte.Numeric?(_b=function(stream,size){for(var num,bytes=[],text="",length=stream.readBits([10,12,14][size]);3<=length;){if(1e3<=(num=stream.readBits(10)))throw new Error("Invalid numeric value above 999");var a=Math.floor(num/100),b=Math.floor(num/10)%10,c=num%10;bytes.push(48+a,48+b,48+c),text+=a.toString()+b.toString()+c.toString(),length-=3}if(2===length){if(100<=(num=stream.readBits(7)))throw new Error("Invalid numeric value above 99");a=Math.floor(num/10),b=num%10;bytes.push(48+a,48+b),text+=a.toString()+b.toString()}else if(1===length){if(10<=(num=stream.readBits(4)))throw new Error("Invalid numeric value above 9");bytes.push(48+num),text+=num.toString()}return{bytes:bytes,text:text}}(stream,size),result.text+=_b.text,(_a=result.bytes).push.apply(_a,_b.bytes),result.chunks.push({type:Mode.Numeric,text:_b.text})):_d===ModeByte.Alphanumeric?(_c=function(stream,size){for(var bytes=[],text="",length=stream.readBits([9,11,13][size]);2<=length;){var b=stream.readBits(11),a=Math.floor(b/45),b=b%45;bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0),AlphanumericCharacterCodes[b].charCodeAt(0)),text+=AlphanumericCharacterCodes[a]+AlphanumericCharacterCodes[b],length-=2}return 1===length&&(a=stream.readBits(6),bytes.push(AlphanumericCharacterCodes[a].charCodeAt(0)),text+=AlphanumericCharacterCodes[a]),{bytes:bytes,text:text}}(stream,size),result.text+=_c.text,(_b=result.bytes).push.apply(_b,_c.bytes),result.chunks.push({type:Mode.Alphanumeric,text:_c.text})):_d===ModeByte.Byte?(kanjiResult=function(stream,size){for(var bytes=[],text="",length=stream.readBits([8,16,16][size]),i=0;i<length;i++){var b=stream.readBits(8);bytes.push(b)}try{text+=decodeURIComponent(bytes.map(function(b){return"%"+("0"+b.toString(16)).substr(-2)}).join(""))}catch(_a){}return{bytes:bytes,text:text}}(stream,size),result.text+=kanjiResult.text,(_c=result.bytes).push.apply(_c,kanjiResult.bytes),result.chunks.push({type:Mode.Byte,bytes:kanjiResult.bytes,text:kanjiResult.text})):_d===ModeByte.Kanji&&(kanjiResult=function(stream,size){for(var bytes=[],text="",length=stream.readBits([8,10,12][size]),i=0;i<length;i++){var c=stream.readBits(13),c=Math.floor(c/192)<<8|c%192;c+=c<7936?33088:49472,bytes.push(c>>8,255&c),text+=String.fromCharCode(shiftJISTable_1.shiftJISTable[c])}return{bytes:bytes,text:text}}(stream,size),result.text+=kanjiResult.text,(_d=result.bytes).push.apply(_d,kanjiResult.bytes),result.chunks.push({type:Mode.Kanji,bytes:kanjiResult.bytes,text:kanjiResult.text}))}if(0===stream.available()||0===stream.readBits(stream.available()))return result}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitStream=function(){function BitStream(bytes){this.byteOffset=0,this.bitOffset=0,this.bytes=bytes}return BitStream.prototype.readBits=function(numBits){if(numBits<1||32<numBits||numBits>this.available())throw new Error("Cannot read "+numBits.toString()+" bits");var toRead,bitsToNotRead,mask,result=0;if(0<this.bitOffset&&(mask=255>>8-(toRead=numBits<(mask=8-this.bitOffset)?numBits:mask)<<(bitsToNotRead=mask-toRead),result=(this.bytes[this.byteOffset]&mask)>>bitsToNotRead,numBits-=toRead,this.bitOffset+=toRead,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)),0<numBits){for(;8<=numBits;)result=result<<8|255&this.bytes[this.byteOffset],this.byteOffset++,numBits-=8;0<numBits&&(mask=255>>(bitsToNotRead=8-numBits)<<bitsToNotRead,result=result<<numBits|(this.bytes[this.byteOffset]&mask)>>bitsToNotRead,this.bitOffset+=numBits)}return result},BitStream.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},BitStream}();exports.BitStream=BitStream},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GenericGF_1=__webpack_require__(1),GenericGFPoly_1=__webpack_require__(2);exports.decode=function(sigmaOmega,twoS){var outputBytes=new Uint8ClampedArray(sigmaOmega.length);outputBytes.set(sigmaOmega);for(var field=new GenericGF_1.default(285,256,0),poly=new GenericGFPoly_1.default(field,outputBytes),syndromeCoefficients=new Uint8ClampedArray(twoS),error=!1,s=0;s<twoS;s++){var evaluation=poly.evaluateAt(field.exp(s+field.generatorBase));0!==(syndromeCoefficients[syndromeCoefficients.length-1-s]=evaluation)&&(error=!0)}if(!error)return outputBytes;if(sigmaOmega=new GenericGFPoly_1.default(field,syndromeCoefficients),null===(sigmaOmega=function(field,a,inverse,R){var _a;a.degree()<inverse.degree()&&(a=(_a=[inverse,a])[0],inverse=_a[1]);for(var rLast=a,r=inverse,tLast=field.zero,t=field.one;r.degree()>=R/2;){var denominatorLeadingTerm=rLast,tLastLast=tLast,tLast=t;if((rLast=r).isZero())return null;r=denominatorLeadingTerm;for(var q=field.zero,denominatorLeadingTerm=rLast.getCoefficient(rLast.degree()),dltInverse=field.inverse(denominatorLeadingTerm);r.degree()>=rLast.degree()&&!r.isZero();)var degreeDiff=r.degree()-rLast.degree(),scale=field.multiply(r.getCoefficient(r.degree()),dltInverse),q=q.addOrSubtract(field.buildMonomial(degreeDiff,scale)),r=r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff,scale));if(t=q.multiplyPoly(tLast).addOrSubtract(tLastLast),r.degree()>=rLast.degree())return null}return 0===(inverse=t.getCoefficient(0))?null:(inverse=field.inverse(inverse),[t.multiply(inverse),r.multiply(inverse)])}(field,field.buildMonomial(twoS,1),sigmaOmega,twoS)))return null;var errorLocations=function(field,errorLocator){var numErrors=errorLocator.degree();if(1===numErrors)return[errorLocator.getCoefficient(1)];for(var result=new Array(numErrors),errorCount=0,i=1;i<field.size&&errorCount<numErrors;i++)0===errorLocator.evaluateAt(i)&&(result[errorCount]=field.inverse(i),errorCount++);return errorCount!==numErrors?null:result}(field,sigmaOmega[0]);if(null==errorLocations)return null;for(var errorMagnitudes=function(field,errorEvaluator,errorLocations){for(var s=errorLocations.length,result=new Array(s),i=0;i<s;i++){for(var xiInverse=field.inverse(errorLocations[i]),denominator=1,j=0;j<s;j++)i!==j&&(denominator=field.multiply(denominator,GenericGF_1.addOrSubtractGF(1,field.multiply(errorLocations[j],xiInverse))));result[i]=field.multiply(errorEvaluator.evaluateAt(xiInverse),field.inverse(denominator)),0!==field.generatorBase&&(result[i]=field.multiply(result[i],xiInverse))}return result}(field,sigmaOmega[1],errorLocations),i=0;i<errorLocations.length;i++){var position=outputBytes.length-1-field.log(errorLocations[i]);if(position<0)return null;outputBytes[position]=GenericGF_1.addOrSubtractGF(outputBytes[position],errorMagnitudes[i])}return outputBytes}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BitMatrix_1=__webpack_require__(0);function squareToQuadrilateral(p1,p2,a23,p4){var dx3=p1.x-p2.x+a23.x-p4.x,dy3=p1.y-p2.y+a23.y-p4.y;if(0==dx3&&0==dy3)return{a11:p2.x-p1.x,a12:p2.y-p1.y,a13:0,a21:a23.x-p2.x,a22:a23.y-p2.y,a23:0,a31:p1.x,a32:p1.y,a33:1};var dx1=p2.x-a23.x,a13=p4.x-a23.x,dy1=p2.y-a23.y,dy2=p4.y-a23.y,a23=dx1*dy2-a13*dy1,a13=(dx3*dy2-a13*dy3)/a23,a23=(dx1*dy3-dx3*dy1)/a23;return{a11:p2.x-p1.x+a13*p2.x,a12:p2.y-p1.y+a13*p2.y,a13:a13,a21:p4.x-p1.x+a23*p4.x,a22:p4.y-p1.y+a23*p4.y,a23:a23,a31:p1.x,a32:p1.y,a33:1}}exports.extract=function(image,location){for(var qToS=function(p1,p2,p3,sToQ){return{a11:(sToQ=squareToQuadrilateral(p1,p2,p3,sToQ)).a22*sToQ.a33-sToQ.a23*sToQ.a32,a12:sToQ.a13*sToQ.a32-sToQ.a12*sToQ.a33,a13:sToQ.a12*sToQ.a23-sToQ.a13*sToQ.a22,a21:sToQ.a23*sToQ.a31-sToQ.a21*sToQ.a33,a22:sToQ.a11*sToQ.a33-sToQ.a13*sToQ.a31,a23:sToQ.a13*sToQ.a21-sToQ.a11*sToQ.a23,a31:sToQ.a21*sToQ.a32-sToQ.a22*sToQ.a31,a32:sToQ.a12*sToQ.a31-sToQ.a11*sToQ.a32,a33:sToQ.a11*sToQ.a22-sToQ.a12*sToQ.a21}}({x:3.5,y:3.5},{x:location.dimension-3.5,y:3.5},{x:location.dimension-6.5,y:location.dimension-6.5},{x:3.5,y:location.dimension-3.5}),sToQ=squareToQuadrilateral(location.topLeft,location.topRight,location.alignmentPattern,location.bottomLeft),transform={a11:sToQ.a11*qToS.a11+sToQ.a21*qToS.a12+sToQ.a31*qToS.a13,a12:sToQ.a12*qToS.a11+sToQ.a22*qToS.a12+sToQ.a32*qToS.a13,a13:sToQ.a13*qToS.a11+sToQ.a23*qToS.a12+sToQ.a33*qToS.a13,a21:sToQ.a11*qToS.a21+sToQ.a21*qToS.a22+sToQ.a31*qToS.a23,a22:sToQ.a12*qToS.a21+sToQ.a22*qToS.a22+sToQ.a32*qToS.a23,a23:sToQ.a13*qToS.a21+sToQ.a23*qToS.a22+sToQ.a33*qToS.a23,a31:sToQ.a11*qToS.a31+sToQ.a21*qToS.a32+sToQ.a31*qToS.a33,a32:sToQ.a12*qToS.a31+sToQ.a22*qToS.a32+sToQ.a32*qToS.a33,a33:sToQ.a13*qToS.a31+sToQ.a23*qToS.a32+sToQ.a33*qToS.a33},matrix=BitMatrix_1.BitMatrix.createEmpty(location.dimension,location.dimension),mappingFunction=function(x,y){var denominator=transform.a13*x+transform.a23*y+transform.a33;return{x:(transform.a11*x+transform.a21*y+transform.a31)/denominator,y:(transform.a12*x+transform.a22*y+transform.a32)/denominator}},y=0;y<location.dimension;y++)for(var x=0;x<location.dimension;x++){var sourcePixel=mappingFunction(x+.5,y+.5);matrix.set(x,y,image.get(Math.floor(sourcePixel.x),Math.floor(sourcePixel.y)))}return{matrix:matrix,mappingFunction:mappingFunction}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var distance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))};function sum(values){return values.reduce(function(a,b){return a+b})}function countBlackWhiteRunTowardsPoint(origin,end,matrix,length){for(var fromX,fromY,toX,switchPoints=[{x:Math.floor(origin.x),y:Math.floor(origin.y)}],steep=Math.abs(end.y-origin.y)>Math.abs(end.x-origin.x),toY=steep?(fromX=Math.floor(origin.y),fromY=Math.floor(origin.x),toX=Math.floor(end.y),Math.floor(end.x)):(fromX=Math.floor(origin.x),fromY=Math.floor(origin.y),toX=Math.floor(end.x),Math.floor(end.y)),dx=Math.abs(toX-fromX),dy=Math.abs(toY-fromY),error=Math.floor(-dx/2),xStep=fromX<toX?1:-1,yStep=fromY<toY?1:-1,currentPixel=!0,x=fromX,y=fromY;x!==toX+xStep;x+=xStep){var realX=steep?y:x,realY=steep?x:y;if(matrix.get(realX,realY)!==currentPixel&&(currentPixel=!currentPixel,switchPoints.push({x:realX,y:realY}),switchPoints.length===length+1))break;if(0<(error+=dy)){if(y===toY)break;y+=yStep,error-=dx}}for(var distances=[],i=0;i<length;i++)switchPoints[i]&&switchPoints[i+1]?distances.push(distance(switchPoints[i],switchPoints[i+1])):distances.push(0);return distances}function countBlackWhiteRun(origin,towardsEnd,awayFromEnd,_a){var rise=towardsEnd.y-origin.y,run=towardsEnd.x-origin.x,towardsEnd=countBlackWhiteRunTowardsPoint(origin,towardsEnd,awayFromEnd,Math.ceil(_a/2)),awayFromEnd=countBlackWhiteRunTowardsPoint(origin,{x:origin.x-run,y:origin.y-rise},awayFromEnd,Math.ceil(_a/2)),_a=towardsEnd.shift()+awayFromEnd.shift()-1;return(_a=awayFromEnd.concat(_a)).concat.apply(_a,towardsEnd)}function scoreBlackWhiteRun(sequence,ratios){var averageSize=sum(sequence)/sum(ratios),error=0;return ratios.forEach(function(ratio,i){error+=Math.pow(sequence[i]-ratio*averageSize,2)}),{averageSize:averageSize,error:error}}function scorePattern(point,ratios,matrix){try{var horizontalRun=countBlackWhiteRun(point,{x:-1,y:point.y},matrix,ratios.length),verticalRun=countBlackWhiteRun(point,{x:point.x,y:-1},matrix,ratios.length),topLeftBottomRightRun=countBlackWhiteRun(point,{x:Math.max(0,point.x-point.y)-1,y:Math.max(0,point.y-point.x)-1},matrix,ratios.length),bottomLeftTopRightRun=countBlackWhiteRun(point,{x:Math.min(matrix.width,point.x+point.y)+1,y:Math.min(matrix.height,point.y+point.x)+1},matrix,ratios.length),horzError=scoreBlackWhiteRun(horizontalRun,ratios),vertError=scoreBlackWhiteRun(verticalRun,ratios),diagDownError=scoreBlackWhiteRun(topLeftBottomRightRun,ratios),diagUpError=scoreBlackWhiteRun(bottomLeftTopRightRun,ratios),ratioError=Math.sqrt(horzError.error*horzError.error+vertError.error*vertError.error+diagDownError.error*diagDownError.error+diagUpError.error*diagUpError.error),avgSize=(horzError.averageSize+vertError.averageSize+diagDownError.averageSize+diagUpError.averageSize)/4;return ratioError+(Math.pow(horzError.averageSize-avgSize,2)+Math.pow(vertError.averageSize-avgSize,2)+Math.pow(diagDownError.averageSize-avgSize,2)+Math.pow(diagUpError.averageSize-avgSize,2))/avgSize}catch(_a){return 1/0}}function recenterLocation(matrix,p){for(var leftX=Math.round(p.x);matrix.get(leftX,Math.round(p.y));)leftX--;for(var rightX=Math.round(p.x);matrix.get(rightX,Math.round(p.y));)rightX++;for(var x=(leftX+rightX)/2,topY=Math.round(p.y);matrix.get(Math.round(x),topY);)topY--;for(var bottomY=Math.round(p.y);matrix.get(Math.round(x),bottomY);)bottomY++;return{x:x,y:(topY+bottomY)/2}}function findAlignmentPattern(matrix,alignmentPatterns,modulesBetweenFinderPatterns,topLeft,bottomLeft){var dimension;try{dimension=(bottomRightFinderPattern_y=function(topLeft,topDimension,sideDimension,moduleSize){if((moduleSize=(sum(countBlackWhiteRun(topLeft,sideDimension,moduleSize,5))/7+sum(countBlackWhiteRun(topLeft,topDimension,moduleSize,5))/7+sum(countBlackWhiteRun(sideDimension,topLeft,moduleSize,5))/7+sum(countBlackWhiteRun(topDimension,topLeft,moduleSize,5))/7)/4)<1)throw new Error("Invalid module size");var topDimension=Math.round(distance(topLeft,topDimension)/moduleSize),sideDimension=Math.round(distance(topLeft,sideDimension)/moduleSize),dimension=Math.floor((topDimension+sideDimension)/2)+7;switch(dimension%4){case 0:dimension++;break;case 2:dimension--}return{dimension:dimension,moduleSize:moduleSize}}(topLeft,modulesBetweenFinderPatterns,bottomLeft,matrix)).dimension,correctionToTopLeft=bottomRightFinderPattern_y.moduleSize}catch(e){return null}var bottomRightFinderPattern_x=modulesBetweenFinderPatterns.x-topLeft.x+bottomLeft.x,bottomRightFinderPattern_y=modulesBetweenFinderPatterns.y-topLeft.y+bottomLeft.y,modulesBetweenFinderPatterns=(distance(topLeft,bottomLeft)+distance(topLeft,modulesBetweenFinderPatterns))/2/correctionToTopLeft,correctionToTopLeft=1-3/modulesBetweenFinderPatterns,expectedAlignmentPattern={x:topLeft.x+correctionToTopLeft*(bottomRightFinderPattern_x-topLeft.x),y:topLeft.y+correctionToTopLeft*(bottomRightFinderPattern_y-topLeft.y)},alignmentPatterns=alignmentPatterns.map(function(lengths){var x=(lengths.top.startX+lengths.top.endX+lengths.bottom.startX+lengths.bottom.endX)/4,y=(lengths.top.y+lengths.bottom.y+1)/2;if(matrix.get(Math.floor(x),Math.floor(y))){lengths=[lengths.top.endX-lengths.top.startX,lengths.bottom.endX-lengths.bottom.startX,lengths.bottom.y-lengths.top.y+1],sum(lengths),lengths.length;return{x:x,y:y,score:scorePattern({x:Math.floor(x),y:Math.floor(y)},[1,1,1],matrix)+distance({x:x,y:y},expectedAlignmentPattern)}}}).filter(function(v){return!!v}).sort(function(a,b){return a.score-b.score});return{alignmentPattern:15<=modulesBetweenFinderPatterns&&alignmentPatterns.length?alignmentPatterns[0]:expectedAlignmentPattern,dimension:dimension}}exports.locate=function(matrix){for(var finderPatternQuads=[],activeFinderPatternQuads=[],alignmentPatternQuads=[],activeAlignmentPatternQuads=[],_loop_1=function(y){for(var length_1=0,lastBit=!1,scans=[0,0,0,0,0],x=-1;x<=matrix.width;x++)!function(x){var validFinderPattern,averageAlignmentPatternBlocksize,endX_1,startX_1,endX_2,startX_2,line,matchingQuads,validAlignmentPattern=matrix.get(x,y);validAlignmentPattern===lastBit?length_1++:(scans=[scans[1],scans[2],scans[3],scans[4],length_1],length_1=1,lastBit=validAlignmentPattern,averageAlignmentPatternBlocksize=sum(scans)/7,validFinderPattern=Math.abs(scans[0]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&Math.abs(scans[1]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&Math.abs(scans[2]-3*averageAlignmentPatternBlocksize)<3*averageAlignmentPatternBlocksize&&Math.abs(scans[3]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&Math.abs(scans[4]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&!validAlignmentPattern,averageAlignmentPatternBlocksize=sum(scans.slice(-3))/3,validAlignmentPattern=Math.abs(scans[2]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&Math.abs(scans[3]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&Math.abs(scans[4]-averageAlignmentPatternBlocksize)<averageAlignmentPatternBlocksize&&validAlignmentPattern,validFinderPattern&&(endX_1=x-scans[3]-scans[4],line={startX:startX_1=endX_1-scans[2],endX:endX_1,y:y},0<(matchingQuads=activeFinderPatternQuads.filter(function(q){return startX_1>=q.bottom.startX&&startX_1<=q.bottom.endX||endX_1>=q.bottom.startX&&startX_1<=q.bottom.endX||startX_1<=q.bottom.startX&&endX_1>=q.bottom.endX&&scans[2]/(q.bottom.endX-q.bottom.startX)<1.5&&.5<scans[2]/(q.bottom.endX-q.bottom.startX)})).length?matchingQuads[0].bottom=line:activeFinderPatternQuads.push({top:line,bottom:line})),validAlignmentPattern&&(endX_2=x-scans[4],line={startX:startX_2=endX_2-scans[3],y:y,endX:endX_2},0<(matchingQuads=activeAlignmentPatternQuads.filter(function(q){return startX_2>=q.bottom.startX&&startX_2<=q.bottom.endX||endX_2>=q.bottom.startX&&startX_2<=q.bottom.endX||startX_2<=q.bottom.startX&&endX_2>=q.bottom.endX&&scans[2]/(q.bottom.endX-q.bottom.startX)<1.5&&.5<scans[2]/(q.bottom.endX-q.bottom.startX)})).length?matchingQuads[0].bottom=line:activeAlignmentPatternQuads.push({top:line,bottom:line})))}(x);finderPatternQuads.push.apply(finderPatternQuads,activeFinderPatternQuads.filter(function(q){return q.bottom.y!==y&&2<=q.bottom.y-q.top.y})),activeFinderPatternQuads=activeFinderPatternQuads.filter(function(q){return q.bottom.y===y}),alignmentPatternQuads.push.apply(alignmentPatternQuads,activeAlignmentPatternQuads.filter(function(q){return q.bottom.y!==y})),activeAlignmentPatternQuads=activeAlignmentPatternQuads.filter(function(q){return q.bottom.y===y})},y=0;y<=matrix.height;y++)_loop_1(y);if(finderPatternQuads.push.apply(finderPatternQuads,activeFinderPatternQuads.filter(function(q){return 2<=q.bottom.y-q.top.y})),alignmentPatternQuads.push.apply(alignmentPatternQuads,activeAlignmentPatternQuads),0===(midTopRight=finderPatternQuads.filter(function(q){return 2<=q.bottom.y-q.top.y}).map(function(size){var x=(size.top.startX+size.top.endX+size.bottom.startX+size.bottom.endX)/4,y=(size.top.y+size.bottom.y+1)/2;if(matrix.get(Math.round(x),Math.round(y))){size=[size.top.endX-size.top.startX,size.bottom.endX-size.bottom.startX,size.bottom.y-size.top.y+1],size=sum(size)/size.length;return{score:scorePattern({x:Math.round(x),y:Math.round(y)},[1,1,3,1,1],matrix),x:x,y:y,size:size}}}).filter(function(q){return!!q}).sort(function(a,b){return a.score-b.score}).map(function(point,i,score){if(4<i)return null;var otherPoints=score.filter(function(p,ii){return i!==ii}).map(function(p){return{x:p.x,y:p.y,score:p.score+Math.pow(p.size-point.size,2)/point.size,size:p.size}}).sort(function(a,b){return a.score-b.score});if(otherPoints.length<2)return null;score=point.score+otherPoints[0].score+otherPoints[1].score;return{points:[point].concat(otherPoints.slice(0,2)),score:score}}).filter(function(q){return!!q}).sort(function(a,b){return a.score-b.score})).length)return null;var midTopLeft=(result=function(pattern1,topRight,pattern3){var _a,_d,bottomLeft,topLeft,oneTwoDistance=distance(pattern1,topRight),twoThreeDistance=distance(topRight,pattern3),_b=distance(pattern1,pattern3);return((topRight=oneTwoDistance<=twoThreeDistance&&_b<=twoThreeDistance?(bottomLeft=(_a=[topRight,pattern1,pattern3])[0],topLeft=_a[1],_a[2]):twoThreeDistance<=_b&&oneTwoDistance<=_b?(bottomLeft=(_b=[pattern1,topRight,pattern3])[0],topLeft=_b[1],_b[2]):(bottomLeft=(_d=[pattern1,pattern3,topRight])[0],topLeft=_d[1],_d[2])).x-topLeft.x)*(bottomLeft.y-topLeft.y)-(topRight.y-topLeft.y)*(bottomLeft.x-topLeft.x)<0&&(bottomLeft=(_d=[topRight,bottomLeft])[0],topRight=_d[1]),{bottomLeft:bottomLeft,topLeft:topLeft,topRight:topRight}}(midTopRight[0].points[0],midTopRight[0].points[1],midTopRight[0].points[2])).topRight,midBottomLeft=result.topLeft,centeredAlignment=result.bottomLeft,midTopRight=findAlignmentPattern(matrix,alignmentPatternQuads,midTopLeft,midBottomLeft,centeredAlignment),result=[];return midTopRight&&result.push({alignmentPattern:{x:midTopRight.alignmentPattern.x,y:midTopRight.alignmentPattern.y},bottomLeft:{x:centeredAlignment.x,y:centeredAlignment.y},dimension:midTopRight.dimension,topLeft:{x:midBottomLeft.x,y:midBottomLeft.y},topRight:{x:midTopLeft.x,y:midTopLeft.y}}),midTopRight=recenterLocation(matrix,midTopLeft),midTopLeft=recenterLocation(matrix,midBottomLeft),midBottomLeft=recenterLocation(matrix,centeredAlignment),(centeredAlignment=findAlignmentPattern(matrix,alignmentPatternQuads,midTopRight,midTopLeft,midBottomLeft))&&result.push({alignmentPattern:{x:centeredAlignment.alignmentPattern.x,y:centeredAlignment.alignmentPattern.y},bottomLeft:{x:midBottomLeft.x,y:midBottomLeft.y},topLeft:{x:midTopLeft.x,y:midTopLeft.y},topRight:{x:midTopRight.x,y:midTopRight.y},dimension:centeredAlignment.dimension}),0===result.length?null:result}}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3).default;function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules},"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.jsQR=factory():root.jsQR=factory()},{}],208:[function(require,module,exports){"use strict";var inherits=require("inherits"),HashBase=require("hash-base"),Buffer=require("safe-buffer").Buffer,ARRAY16=new Array(16);function MD5(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(x,n){return x<<n|x>>>32-n}function fnF(a,b,c,d,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+b|0}function fnG(a,b,c,d,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+b|0}function fnH(a,b,c,d,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+b|0}function fnI(a,b,c,d,m,k,s){return rotl(a+(c^(b|~d))+m+k|0,s)+b|0}inherits(MD5,HashBase),MD5.prototype._update=function(){for(var M=ARRAY16,i=0;i<16;++i)M[i]=this._block.readInt32LE(4*i);var a=fnF(a=this._a,b=this._b,c=this._c,d=this._d,M[0],3614090360,7),d=fnF(d,a,b,c,M[1],3905402710,12),c=fnF(c,d,a,b,M[2],606105819,17),b=fnF(b,c,d,a,M[3],3250441966,22);a=fnF(a,b,c,d,M[4],4118548399,7),d=fnF(d,a,b,c,M[5],1200080426,12),c=fnF(c,d,a,b,M[6],2821735955,17),b=fnF(b,c,d,a,M[7],4249261313,22),a=fnF(a,b,c,d,M[8],1770035416,7),d=fnF(d,a,b,c,M[9],2336552879,12),c=fnF(c,d,a,b,M[10],4294925233,17),b=fnF(b,c,d,a,M[11],2304563134,22),a=fnF(a,b,c,d,M[12],1804603682,7),d=fnF(d,a,b,c,M[13],4254626195,12),c=fnF(c,d,a,b,M[14],2792965006,17),a=fnG(a,b=fnF(b,c,d,a,M[15],1236535329,22),c,d,M[1],4129170786,5),d=fnG(d,a,b,c,M[6],3225465664,9),c=fnG(c,d,a,b,M[11],643717713,14),b=fnG(b,c,d,a,M[0],3921069994,20),a=fnG(a,b,c,d,M[5],3593408605,5),d=fnG(d,a,b,c,M[10],38016083,9),c=fnG(c,d,a,b,M[15],3634488961,14),b=fnG(b,c,d,a,M[4],3889429448,20),a=fnG(a,b,c,d,M[9],568446438,5),d=fnG(d,a,b,c,M[14],3275163606,9),c=fnG(c,d,a,b,M[3],4107603335,14),b=fnG(b,c,d,a,M[8],1163531501,20),a=fnG(a,b,c,d,M[13],2850285829,5),d=fnG(d,a,b,c,M[2],4243563512,9),c=fnG(c,d,a,b,M[7],1735328473,14),a=fnH(a,b=fnG(b,c,d,a,M[12],2368359562,20),c,d,M[5],4294588738,4),d=fnH(d,a,b,c,M[8],2272392833,11),c=fnH(c,d,a,b,M[11],1839030562,16),b=fnH(b,c,d,a,M[14],4259657740,23),a=fnH(a,b,c,d,M[1],2763975236,4),d=fnH(d,a,b,c,M[4],1272893353,11),c=fnH(c,d,a,b,M[7],4139469664,16),b=fnH(b,c,d,a,M[10],3200236656,23),a=fnH(a,b,c,d,M[13],681279174,4),d=fnH(d,a,b,c,M[0],3936430074,11),c=fnH(c,d,a,b,M[3],3572445317,16),b=fnH(b,c,d,a,M[6],76029189,23),a=fnH(a,b,c,d,M[9],3654602809,4),d=fnH(d,a,b,c,M[12],3873151461,11),c=fnH(c,d,a,b,M[15],530742520,16),a=fnI(a,b=fnH(b,c,d,a,M[2],3299628645,23),c,d,M[0],4096336452,6),d=fnI(d,a,b,c,M[7],1126891415,10),c=fnI(c,d,a,b,M[14],2878612391,15),b=fnI(b,c,d,a,M[5],4237533241,21),a=fnI(a,b,c,d,M[12],1700485571,6),d=fnI(d,a,b,c,M[3],2399980690,10),c=fnI(c,d,a,b,M[10],4293915773,15),b=fnI(b,c,d,a,M[1],2240044497,21),a=fnI(a,b,c,d,M[8],1873313359,6),d=fnI(d,a,b,c,M[15],4264355552,10),c=fnI(c,d,a,b,M[6],2734768916,15),b=fnI(b,c,d,a,M[13],1309151649,21),a=fnI(a,b,c,d,M[4],4149444226,6),d=fnI(d,a,b,c,M[11],3174756917,10),c=fnI(c,d,a,b,M[2],718787259,15),b=fnI(b,c,d,a,M[9],3951481745,21),this._a=this._a+a|0,this._b=this._b+b|0,this._c=this._c+c|0,this._d=this._d+d|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.allocUnsafe(16);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer},module.exports=MD5},{"hash-base":171,inherits:201,"safe-buffer":288}],209:[function(require,module,exports){var bn=require("bn.js"),brorand=require("brorand");function MillerRabin(rand){this.rand=rand||new brorand.Rand}(module.exports=MillerRabin).create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._randbelow=function(n){var len=n.bitLength(),min_bytes=Math.ceil(len/8);do{var a=new bn(this.rand.generate(min_bytes))}while(0<=a.cmp(n));return a},MillerRabin.prototype._randrange=function(start,size){size=size.sub(start);return start.add(this._randbelow(size))},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k=k||Math.max(1,len/48|0);for(var n1=n.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);0<k;k--){var a=this._randrange(new bn(2),n1);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(0===(x=x.redSqr()).cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return!0},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k=k||Math.max(1,len/48|0);for(var n1=n.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);0<k;k--){var a=this._randrange(new bn(2),n1),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(0===(x=x.redSqr()).cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return(x=x.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":210,brorand:47}],210:[function(require,module,exports){arguments[4][40][0].apply(exports,arguments)},{buffer:48,dup:40}],211:[function(require,module,exports){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}(module.exports=assert).equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],212:[function(require,module,utils){"use strict";function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toArray=function(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if("hex"===enc){(msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg);for(i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else for(i=0;i<msg.length;i++){var lo=msg.charCodeAt(i),hi=lo>>8,lo=255&lo;hi?res.push(hi,lo):res.push(lo)}return res},utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr}},{}],213:[function(require,module,exports){module.exports=require("./lib/hkdf")},{"./lib/hkdf":214}],214:[function(require,module,exports){!function(Buffer){!function(){var crypto=require("crypto");function HKDF(hash,buf,hmac){this.hashAlg=hash;hash=crypto.createHash(this.hashAlg);this.hashLength=hash.digest().length,this.salt=buf||(buf=this.hashLength,(buf=new Buffer(buf)).fill(0),buf.toString()),this.ikm=hmac;hmac=crypto.createHmac(this.hashAlg,this.salt);hmac.update(this.ikm),this.prk=hmac.digest()}HKDF.prototype={derive:function(info,size){var prev=new Buffer(0),buffers=[],num_blocks=Math.ceil(size/this.hashLength);info=new Buffer(info);for(var i=0;i<num_blocks;i++){var hmac=crypto.createHmac(this.hashAlg,this.prk),input=Buffer.concat([prev,info,new Buffer(String.fromCharCode(i+1))]);hmac.update(input),prev=hmac.digest(),buffers.push(prev)}return Buffer.concat(buffers,size)}},module.exports=HKDF}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,crypto:130}],215:[function(require,module,exports){"use strict";var stream=require("stream");const Buffer=require("buffer")["Buffer"],td=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});class NoFilter extends stream.Transform{constructor(input,inputEncoding,options={}){let inp=null,inpE=null;switch(typeof input){case"object":Buffer.isBuffer(input)?inp=input:input&&(options=input);break;case"string":inp=input;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof inputEncoding){case"object":inputEncoding&&(options=inputEncoding);break;case"string":inpE=inputEncoding;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!options||"object"!=typeof options)throw new TypeError("Invalid options");null==inp&&(inp=options.input),null==inpE&&(inpE=options.inputEncoding),delete options.input,delete options.inputEncoding;var watchPipe=null==options.watchPipe||options.watchPipe;delete options.watchPipe;var readError=Boolean(options.readError);delete options.readError,super(options),this.readError=readError,watchPipe&&this.on("pipe",om=>{om=om._readableState.objectMode;if(0<this.length&&om!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=om,this._writableState.objectMode=om}),null!=inp&&this.end(inp,inpE)}static isNoFilter(obj){return obj instanceof this}static compare(nf1,nf2){if(!(nf1 instanceof this))throw new TypeError("Arguments must be NoFilters");return nf1===nf2?0:nf1.compare(nf2)}static concat(bufs,length){if(!Array.isArray(bufs))throw new TypeError("list argument must be an Array of NoFilters");if(0===bufs.length||0===length)return Buffer.alloc(0);null==length&&(length=bufs.reduce((tot,nf)=>{if(!(nf instanceof NoFilter))throw new TypeError("list argument must be an Array of NoFilters");return tot+nf.length},0));let allBufs=!0,allObjs=!0;bufs=bufs.map(buf=>{if(!(buf instanceof NoFilter))throw new TypeError("list argument must be an Array of NoFilters");buf=buf.slice();return Buffer.isBuffer(buf)?allObjs=!1:allBufs=!1,buf});if(allBufs)return Buffer.concat(bufs,length);if(allObjs)return[].concat(...bufs).slice(0,length);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(chunk,encoding,callback){this._readableState.objectMode||Buffer.isBuffer(chunk)||(chunk=Buffer.from(chunk,encoding)),this.push(chunk),callback()}_bufArray(){let bufs=this._readableState.buffer;if(!Array.isArray(bufs)){let b=bufs.head;for(bufs=[];null!=b;)bufs.push(b.data),b=b.next}return bufs}read(size){var buf=super.read(size);if(null!=buf){if(this.emit("read",buf),this.readError&&buf.length<size)throw new Error(`Read ${buf.length}, wanted `+size)}else if(this.readError)throw new Error("No data available, wanted "+size);return buf}readFull(size){let onReadable=null,onFinish=null,onError=null;return new Promise((resolve,reject)=>{this.length>=size?resolve(this.read(size)):this.writableFinished?reject(new Error(`Stream finished before ${size} bytes were available`)):(onReadable=chunk=>{this.length>=size&&resolve(this.read(size))},onFinish=()=>{reject(new Error(`Stream finished before ${size} bytes were available`))},onError=reject,this.on("readable",onReadable),this.on("error",onError),this.on("finish",onFinish))}).finally(()=>{onReadable&&(this.removeListener("readable",onReadable),this.removeListener("error",onError),this.removeListener("finish",onFinish))})}promise(cb){let done=!1;return new Promise((resolve,reject)=>{this.on("finish",()=>{var data=this.read();null==cb||done||(done=!0,cb(null,data)),resolve(data)}),this.on("error",er=>{null==cb||done||(done=!0,cb(er)),reject(er)})})}compare(buf2){if(!(buf2 instanceof NoFilter))throw new TypeError("Arguments must be NoFilters");if(this===buf2)return 0;const buf1=this.slice();buf2=buf2.slice();if(Buffer.isBuffer(buf1)&&Buffer.isBuffer(buf2))return buf1.compare(buf2);throw new Error("Cannot compare streams in object mode")}equals(other){return 0===this.compare(other)}slice(start,end){if(this._readableState.objectMode)return this._bufArray().slice(start,end);const bufs=this._bufArray();switch(bufs.length){case 0:return Buffer.alloc(0);case 1:return bufs[0].slice(start,end);default:{const b=Buffer.concat(bufs);return b.slice(start,end)}}}get(index){return this.slice()[index]}toJSON(){const b=this.slice();return Buffer.isBuffer(b)?b.toJSON():b}toString(encoding,start,end){const buf=this.slice(start,end);return Buffer.isBuffer(buf)?encoding&&"utf8"!==encoding?buf.toString(encoding):td.decode(buf):JSON.stringify(buf)}[Symbol.for("nodejs.util.inspect.custom")](depth,options){const bufs=this._bufArray();var hex=bufs.map(b=>Buffer.isBuffer(b)?options.stylize(b.toString("hex"),"string"):JSON.stringify(b)).join(", ");return this.constructor.name+` [${hex}]`}get length(){return this._readableState.length}writeBigInt(val){let str=val.toString(16);var sz;return val<0&&(sz=BigInt(Math.floor(str.length/2)),val=(BigInt(1)<<sz*BigInt(8))+val,str=val.toString(16)),str.length%2&&(str="0"+str),this.push(Buffer.from(str,"hex"))}readUBigInt(len){const b=this.read(len);return Buffer.isBuffer(b)?BigInt("0x"+b.toString("hex")):null}readBigInt(mask){const b=this.read(mask);if(!Buffer.isBuffer(b))return null;let ret=BigInt("0x"+b.toString("hex"));return 128&b[0]&&(mask=BigInt(1)<<BigInt(b.length)*BigInt(8),ret-=mask),ret}writeUInt8(b){b=Buffer.from([b]);return this.push(b)}writeUInt16LE(value){const b=Buffer.alloc(2);return b.writeUInt16LE(value),this.push(b)}writeUInt16BE(value){const b=Buffer.alloc(2);return b.writeUInt16BE(value),this.push(b)}writeUInt32LE(value){const b=Buffer.alloc(4);return b.writeUInt32LE(value),this.push(b)}writeUInt32BE(value){const b=Buffer.alloc(4);return b.writeUInt32BE(value),this.push(b)}writeInt8(b){b=Buffer.from([b]);return this.push(b)}writeInt16LE(value){const b=Buffer.alloc(2);return b.writeUInt16LE(value),this.push(b)}writeInt16BE(value){const b=Buffer.alloc(2);return b.writeUInt16BE(value),this.push(b)}writeInt32LE(value){const b=Buffer.alloc(4);return b.writeUInt32LE(value),this.push(b)}writeInt32BE(value){const b=Buffer.alloc(4);return b.writeUInt32BE(value),this.push(b)}writeFloatLE(value){const b=Buffer.alloc(4);return b.writeFloatLE(value),this.push(b)}writeFloatBE(value){const b=Buffer.alloc(4);return b.writeFloatBE(value),this.push(b)}writeDoubleLE(value){const b=Buffer.alloc(8);return b.writeDoubleLE(value),this.push(b)}writeDoubleBE(value){const b=Buffer.alloc(8);return b.writeDoubleBE(value),this.push(b)}writeBigInt64LE(value){const b=Buffer.alloc(8);return b.writeBigInt64LE(value),this.push(b)}writeBigInt64BE(value){const b=Buffer.alloc(8);return b.writeBigInt64BE(value),this.push(b)}writeBigUInt64LE(value){const b=Buffer.alloc(8);return b.writeBigUInt64LE(value),this.push(b)}writeBigUInt64BE(value){const b=Buffer.alloc(8);return b.writeBigUInt64BE(value),this.push(b)}readUInt8(){const b=this.read(1);return Buffer.isBuffer(b)?b.readUInt8():null}readUInt16LE(){const b=this.read(2);return Buffer.isBuffer(b)?b.readUInt16LE():null}readUInt16BE(){const b=this.read(2);return Buffer.isBuffer(b)?b.readUInt16BE():null}readUInt32LE(){const b=this.read(4);return Buffer.isBuffer(b)?b.readUInt32LE():null}readUInt32BE(){const b=this.read(4);return Buffer.isBuffer(b)?b.readUInt32BE():null}readInt8(){const b=this.read(1);return Buffer.isBuffer(b)?b.readInt8():null}readInt16LE(){const b=this.read(2);return Buffer.isBuffer(b)?b.readInt16LE():null}readInt16BE(){const b=this.read(2);return Buffer.isBuffer(b)?b.readInt16BE():null}readInt32LE(){const b=this.read(4);return Buffer.isBuffer(b)?b.readInt32LE():null}readInt32BE(){const b=this.read(4);return Buffer.isBuffer(b)?b.readInt32BE():null}readFloatLE(){const b=this.read(4);return Buffer.isBuffer(b)?b.readFloatLE():null}readFloatBE(){const b=this.read(4);return Buffer.isBuffer(b)?b.readFloatBE():null}readDoubleLE(){const b=this.read(8);return Buffer.isBuffer(b)?b.readDoubleLE():null}readDoubleBE(){const b=this.read(8);return Buffer.isBuffer(b)?b.readDoubleBE():null}readBigInt64LE(){const b=this.read(8);return Buffer.isBuffer(b)?b.readBigInt64LE():null}readBigInt64BE(){const b=this.read(8);return Buffer.isBuffer(b)?b.readBigInt64BE():null}readBigUInt64LE(){const b=this.read(8);return Buffer.isBuffer(b)?b.readBigUInt64LE():null}readBigUInt64BE(){const b=this.read(8);return Buffer.isBuffer(b)?b.readBigUInt64BE():null}}module.exports=NoFilter},{buffer:93,stream:298}],216:[function(constants,module,exports){"use strict";var{Deflate,deflate,deflateRaw,gzip}=constants("./lib/deflate"),{Inflate,inflate,inflateRaw,ungzip}=constants("./lib/inflate"),constants=constants("./lib/zlib/constants");module.exports.Deflate=Deflate,module.exports.deflate=deflate,module.exports.deflateRaw=deflateRaw,module.exports.gzip=gzip,module.exports.Inflate=Inflate,module.exports.inflate=inflate,module.exports.inflateRaw=inflateRaw,module.exports.ungzip=ungzip,module.exports.constants=constants},{"./lib/deflate":217,"./lib/inflate":218,"./lib/zlib/constants":222}],217:[function(require,module,exports){"use strict";const zlib_deflate=require("./zlib/deflate"),utils=require("./utils/common"),strings=require("./utils/strings"),msg=require("./zlib/messages"),ZStream=require("./zlib/zstream"),toString=Object.prototype.toString,{Z_NO_FLUSH,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED}=require("./zlib/constants");function Deflate(options){this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},options||{});let opt=this.options;opt.raw&&0<opt.windowBits?opt.windowBits=-opt.windowBits:opt.gzip&&0<opt.windowBits&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;let status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){let dict;if(dict="string"==typeof opt.dictionary?strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,status=zlib_deflate.deflateSetDictionary(this.strm,dict),status!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){const deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,flush_mode){const strm=this.strm;var chunkSize=this.options.chunkSize;let status,_flush_mode;if(this.ended)return!1;for(_flush_mode=flush_mode===~~flush_mode?flush_mode:!0===flush_mode?Z_FINISH:Z_NO_FLUSH,"string"==typeof data?strm.input=strings.string2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;;)if(0===strm.avail_out&&(strm.output=new Uint8Array(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(_flush_mode===Z_SYNC_FLUSH||_flush_mode===Z_FULL_FLUSH)&&strm.avail_out<=6)this.onData(strm.output.subarray(0,strm.next_out)),strm.avail_out=0;else{if(zlib_deflate.deflate(strm,_flush_mode)===Z_STREAM_END)return 0<strm.next_out&&this.onData(strm.output.subarray(0,strm.next_out)),status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK;if(0!==strm.avail_out){if(0<_flush_mode&&0<strm.next_out)this.onData(strm.output.subarray(0,strm.next_out)),strm.avail_out=0;else if(0===strm.avail_in)break}else this.onData(strm.output)}return!0},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&(this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},module.exports.Deflate=Deflate,module.exports.deflate=deflate,module.exports.deflateRaw=function(input,options){return(options=options||{}).raw=!0,deflate(input,options)},module.exports.gzip=function(input,options){return(options=options||{}).gzip=!0,deflate(input,options)},module.exports.constants=require("./zlib/constants")},{"./utils/common":219,"./utils/strings":220,"./zlib/constants":222,"./zlib/deflate":224,"./zlib/messages":229,"./zlib/zstream":231}],218:[function(require,module,exports){"use strict";const zlib_inflate=require("./zlib/inflate"),utils=require("./utils/common"),strings=require("./utils/strings"),msg=require("./zlib/messages"),ZStream=require("./zlib/zstream"),GZheader=require("./zlib/gzheader"),toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=require("./zlib/constants");function Inflate(options){this.options=utils.assign({chunkSize:65536,windowBits:15,to:""},options||{});const opt=this.options;opt.raw&&0<=opt.windowBits&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(0<=opt.windowBits&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),15<opt.windowBits&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;let status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&("string"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary),status!==Z_OK)))throw new Error(msg[status])}function inflate(input,options){const inflator=new Inflate(options);if(inflator.push(input),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,flush_mode){const strm=this.strm;var next_out_utf8,tail,utf8str,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary;let status,_flush_mode,last_avail_out;if(this.ended)return!1;for(_flush_mode=flush_mode===~~flush_mode?flush_mode:!0===flush_mode?Z_FINISH:Z_NO_FLUSH,"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;;){for(0===strm.avail_out&&(strm.output=new Uint8Array(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),status=zlib_inflate.inflate(strm,_flush_mode),status===Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(strm,dictionary),status===Z_OK?status=zlib_inflate.inflate(strm,_flush_mode):status===Z_DATA_ERROR&&(status=Z_NEED_DICT));0<strm.avail_in&&status===Z_STREAM_END&&0<strm.state.wrap&&0!==data[strm.next_in];)zlib_inflate.inflateReset(strm),status=zlib_inflate.inflate(strm,_flush_mode);switch(status){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(status),!(this.ended=!0)}if(last_avail_out=strm.avail_out,strm.next_out&&(0!==strm.avail_out&&status!==Z_STREAM_END||("string"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&strm.output.set(strm.output.subarray(next_out_utf8,next_out_utf8+tail),0),this.onData(utf8str)):this.onData(strm.output.length===strm.next_out?strm.output:strm.output.subarray(0,strm.next_out)))),status!==Z_OK||0!==last_avail_out){if(status===Z_STREAM_END)return status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0;if(0===strm.avail_in)break}}return!0},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},module.exports.Inflate=Inflate,module.exports.inflate=inflate,module.exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},module.exports.ungzip=inflate,module.exports.constants=require("./zlib/constants")},{"./utils/common":219,"./utils/strings":220,"./zlib/constants":222,"./zlib/gzheader":225,"./zlib/inflate":227,"./zlib/messages":229,"./zlib/zstream":231}],219:[function(require,module,exports){"use strict";module.exports.assign=function(obj){const sources=Array.prototype.slice.call(arguments,1);for(;sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(const p in source)((obj,key)=>Object.prototype.hasOwnProperty.call(obj,key))(source,p)&&(obj[p]=source[p])}}return obj},module.exports.flattenChunks=chunks=>{let len=0;for(let i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;const result=new Uint8Array(len);for(let i=0,pos=0,l=chunks.length;i<l;i++){var chunk=chunks[i];result.set(chunk,pos),pos+=chunk.length}return result}},{}],220:[function(require,module,exports){"use strict";let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let q=0;q<256;q++)_utf8len[q]=252<=q?6:248<=q?5:240<=q?4:224<=q?3:192<=q?2:1;_utf8len[254]=_utf8len[254]=1,module.exports.string2buf=str=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(str);let buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)c=str.charCodeAt(m_pos),55296==(64512&c)&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),56320==(64512&c2)&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++)),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new Uint8Array(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)c=str.charCodeAt(m_pos),55296==(64512&c)&&m_pos+1<str_len&&(c2=str.charCodeAt(m_pos+1),56320==(64512&c2)&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++)),c<128?buf[i++]=c:(c<2048?buf[i++]=192|c>>>6:(c<65536?buf[i++]=224|c>>>12:(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63),buf[i++]=128|c>>>6&63),buf[i++]=128|63&c);return buf};module.exports.buf2string=(buf,max)=>{var len=max||buf.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(buf.subarray(0,max));let i,out;const utf16buf=new Array(2*len);for(out=0,i=0;i<len;){let c=buf[i++];if(c<128)utf16buf[out++]=c;else{let c_len=_utf8len[c];if(4<c_len)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;1<c_len&&i<len;)c=c<<6|63&buf[i++],c_len--;1<c_len?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}}}return((buf,len)=>{if(len<65534&&buf.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,buf.length===len?buf:buf.subarray(0,len));let result="";for(let i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result})(utf16buf,out)},module.exports.utf8border=(buf,max)=>{let pos=(max=(max=max||buf.length)>buf.length?buf.length:max)-1;for(;0<=pos&&128==(192&buf[pos]);)pos--;return!(pos<0)&&0!==pos&&pos+_utf8len[buf[pos]]>max?pos:max}},{}],221:[function(require,module,exports){"use strict";module.exports=(adler,buf,len,pos)=>{let s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;for(;0!==len;){for(n=2e3<len?2e3:len,len-=n;s1=s1+buf[pos++]|0,s2=s2+s1|0,--n;);s1%=65521,s2%=65521}return s1|s2<<16|0}},{}],222:[function(require,module,exports){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],223:[function(require,module,exports){"use strict";const crcTable=new Uint32Array((()=>{let c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table})());module.exports=(crc,buf,len,pos)=>{var t=crcTable,end=pos+len;crc^=-1;for(let i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},{}],224:[function(deflate_slow,module,exports){"use strict";const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=deflate_slow("./trees"),adler32=deflate_slow("./adler32"),crc32=deflate_slow("./crc32"),msg=deflate_slow("./messages"),{Z_NO_FLUSH,Z_PARTIAL_FLUSH,Z_FULL_FLUSH,Z_FINISH,Z_BLOCK,Z_OK,Z_STREAM_END,Z_STREAM_ERROR,Z_DATA_ERROR,Z_BUF_ERROR,Z_DEFAULT_COMPRESSION,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY,Z_UNKNOWN,Z_DEFLATED}=deflate_slow("./constants"),MAX_MEM_LEVEL=9;const L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,INIT_STATE=42,BUSY_STATE=113,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,err=(strm,errorCode)=>(strm.msg=msg[errorCode],errorCode),rank=f=>(f<<1)-(4<f?9:0),zero=buf=>{let len=buf.length;for(;0<=--len;)buf[len]=0};let HASH=(s,prev,data)=>(prev<<s.hash_shift^data)&s.hash_mask;const flush_pending=strm=>{const s=strm.state;let len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(strm.output.set(s.pending_buf.subarray(s.pending_out,s.pending_out+len),strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))},flush_block_only=(s,last)=>{_tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)},put_byte=(s,b)=>{s.pending_buf[s.pending++]=b},putShortMSB=(s,b)=>{s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b},read_buf=(strm,buf,start,size)=>{let len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,buf.set(strm.input.subarray(strm.next_in,strm.next_in+len),start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)},longest_match=(s,cur_match)=>{let chain_length=s.max_chain_length,scan=s.strstart,match;var len;let best_len=s.prev_length,nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH;let scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(match=cur_match,_win[match+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){for(scan+=2,match++;_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend;);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,(best_len=len)>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead},fill_window=s=>{var _w_size=s.w_size;let p,n,m,more,str;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){for(s.window.set(s.window.subarray(_w_size,_w_size+_w_size),0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,n=s.hash_size,p=n;m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0,--n;);for(n=_w_size,p=n;m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0,--n;);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=HASH(s,s.ins_h,s.window[str+1]);s.insert&&(s.ins_h=HASH(s,s.ins_h,s.window[str+MIN_MATCH-1]),s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)};var deflate_fast=(s,flush)=>{let hash_head,bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=_tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){for(s.match_length--;s.strstart++,s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart,0!=--s.match_length;);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+1]);else bflush=_tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(s,flush)=>{let hash_head,bflush;for(var max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&4096<s.strstart-s.match_start)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){for(max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=_tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;++s.strstart<=max_insert&&(s.ins_h=HASH(s,s.ins_h,s.window[s.strstart+MIN_MATCH-1]),hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!=--s.prev_length;);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if(bflush=_tr_tally(s,0,s.window[s.strstart-1]),bflush&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=_tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}const configuration_table=[new Config(0,0,0,0,(s,flush)=>{let max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*HEAP_SIZE),this.dyn_dtree=new Uint16Array(2*(2*D_CODES+1)),this.bl_tree=new Uint16Array(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=strm=>{if(!strm||!strm.state)return err(strm,Z_STREAM_ERROR);strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN;const s=strm.state;return s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,_tr_init(s),Z_OK},deflateReset=s=>{var ret=deflateResetKeep(s);return ret===Z_OK&&((s=s.state).window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0),ret};const deflateInit2=(strm,level,method,windowBits,memLevel,strategy)=>{if(!strm)return Z_STREAM_ERROR;let wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):15<windowBits&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||15<windowBits||level<0||9<level||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);const s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)};module.exports.deflateInit=(strm,level)=>deflateInit2(strm,level,Z_DEFLATED,15,8,Z_DEFAULT_STRATEGY),module.exports.deflateInit2=deflateInit2,module.exports.deflateReset=deflateReset,module.exports.deflateResetKeep=deflateResetKeep,module.exports.deflateSetHeader=(strm,head)=>!strm||!strm.state||2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK),module.exports.deflate=(strm,flush)=>{let beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;const s=strm.state;if(!strm.output||!strm.input&&0!==strm.avail_in||666===s.status&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);s.strm=strm;var bstate=s.last_flush;if(s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,3),s.status=BUSY_STATE);else{let header=Z_DEFLATED+(s.w_bits-8<<4)<<8,level_flags=-1;level_flags=s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3,header|=level_flags<<6,0!==s.strstart&&(header|=32),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(69===s.status)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}}while(val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val),0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}}while(val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val),0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(bstate)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(666===s.status&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&666!==s.status){bstate=s.strategy===Z_HUFFMAN_ONLY?((s,flush)=>{for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=_tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE})(s,flush):s.strategy===Z_RLE?((s,flush)=>{let bflush;var prev;let scan,strend;for(var _win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&0<s.strstart&&(scan=s.strstart-1,(prev=_win[scan])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){for(strend=s.strstart+MAX_MATCH;prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend;);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=_tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=_tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE})(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=666),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?_tr_align(s):flush!==Z_BLOCK&&(_tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),0<s.wrap&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)},module.exports.deflateEnd=strm=>{if(!strm||!strm.state)return Z_STREAM_ERROR;var status=strm.state.status;return status!==INIT_STATE&&69!==status&&73!==status&&91!==status&&103!==status&&status!==BUSY_STATE&&666!==status?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK)},module.exports.deflateSetDictionary=(strm,dictionary)=>{let dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;const s=strm.state;var wrap=s.wrap;if(2===wrap||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;if(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size){0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0);let tmpDict=new Uint8Array(s.w_size);tmpDict.set(dictionary.subarray(dictLength-s.w_size,dictLength),0),dictionary=tmpDict,dictLength=s.w_size}var avail=strm.avail_in,next=strm.next_in,input=strm.input;for(strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){let str=s.strstart,n=s.lookahead-(MIN_MATCH-1);for(;s.ins_h=HASH(s,s.ins_h,s.window[str+MIN_MATCH-1]),s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,--n;);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},module.exports.deflateInfo="pako deflate (from Nodeca project)"},{"./adler32":221,"./constants":222,"./crc32":223,"./messages":229,"./trees":230}],225:[function(require,module,exports){"use strict";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],226:[function(require,module,exports){"use strict";module.exports=function(strm,start){let _in;var last,beg,end,dmax,wsize,whave,wnext,s_window,lcode,dcode,lmask,dmask,dist;let _out,hold,bits,here,op,len,from,from_source,input,output;const state=strm.state;_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{for(bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,0===op)output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}for(len=65535&here,op&=15,op&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,!(16&op)){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,op&=15,bits<op&&(hold+=input[_in++]<<bits,bits+=8,bits<op&&(hold+=input[_in++]<<bits,bits+=8)),dmax<(dist+=hold&(1<<op)-1)){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if(op=dist-op,op>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){for(len-=op;output[_out++]=s_window[from++],--op;);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,op-=wnext,op<len){for(len-=op;output[_out++]=s_window[from++],--op;);if(from=0,wnext<len){for(op=wnext,len-=op;output[_out++]=s_window[from++],--op;);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){for(len-=op;output[_out++]=s_window[from++],--op;);from=_out-dist,from_source=output}for(;2<len;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],1<len&&(output[_out++]=from_source[from++]))}else{for(from=_out-dist;output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3,2<len;);len&&(output[_out++]=output[from++],1<len&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);len=bits>>3,_in-=len,bits-=len<<3,hold&=(1<<bits)-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},{}],227:[function(require,module,exports){"use strict";const adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),LENS=1,DISTS=2,{Z_FINISH,Z_BLOCK,Z_TREES,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR,Z_BUF_ERROR,Z_DEFLATED}=require("./constants"),HEAD=1,ENOUGH_LENS=852,ENOUGH_DISTS=592;const zswap32=q=>(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=strm=>{if(!strm||!strm.state)return Z_STREAM_ERROR;const state=strm.state;return strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new Int32Array(ENOUGH_LENS),state.distcode=state.distdyn=new Int32Array(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK},inflateReset=strm=>{if(!strm||!strm.state)return Z_STREAM_ERROR;const state=strm.state;return state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)},inflateReset2=(strm,windowBits)=>{let wrap;if(!strm||!strm.state)return Z_STREAM_ERROR;const state=strm.state;return windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||15<windowBits)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))},inflateInit2=(strm,ret)=>{if(!strm)return Z_STREAM_ERROR;const state=new InflateState;strm.state=state,state.window=null;ret=inflateReset2(strm,ret);return ret!==Z_OK&&(strm.state=null),ret};let virgin=!0,lenfix,distfix;const updatewindow=(strm,src,end,copy)=>{let dist;const state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new Uint8Array(state.wsize)),copy>=state.wsize?(state.window.set(src.subarray(end-state.wsize,end),0),state.wnext=0,state.whave=state.wsize):(dist=state.wsize-state.wnext,dist>copy&&(dist=copy),state.window.set(src.subarray(end-copy,end-copy+dist),state.wnext),(copy-=dist)?(state.window.set(src.subarray(end-copy,end),0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0};module.exports.inflateReset=inflateReset,module.exports.inflateReset2=inflateReset2,module.exports.inflateResetKeep=inflateResetKeep,module.exports.inflateInit=strm=>inflateInit2(strm,15),module.exports.inflateInit2=inflateInit2,module.exports.inflate=(strm,flush)=>{let state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here=0,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret;const hbuf=new Uint8Array(4);let opts,n;var order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;state=strm.state,12===state.mode&&(state.mode=13),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=13;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=2;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=30;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=30;break}if(hold>>>=4,bits-=4,len=8+(15&hold),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=30;break}state.dmax=1<<state.wbits,strm.adler=state.check=1,state.mode=512&hold?10:12,hold=0,bits=0;break;case 2:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=30;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=30;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=3;case 3:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=4;case 4:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=5;case 5:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=6;case 6:if(1024&state.flags&&(copy=state.length,copy>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Uint8Array(state.head.extra_len)),state.head.extra.set(input.subarray(next,next+copy),len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=7;case 7:if(2048&state.flags){if(0===have)break inf_leave;for(copy=0;len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len)),len&&copy<have;);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=8;case 8:if(4096&state.flags){if(0===have)break inf_leave;for(copy=0;len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len)),len&&copy<have;);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=9;case 9:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=30;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=12;break;case 10:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=11;case 11:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=12;case 12:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case 13:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=27;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,hold>>>=1,--bits,3&hold){case 0:state.mode=14;break;case 1:if((state=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let sym=0;for(;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5})(state),state.mode=20,flush!==Z_TREES)break;hold>>>=2,bits-=2;break inf_leave;case 2:state.mode=17;break;case 3:strm.msg="invalid block type",state.mode=30}hold>>>=2,bits-=2;break;case 14:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=30;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=15,flush===Z_TREES)break inf_leave;case 15:state.mode=16;case 16:if(copy=state.length,copy){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;output.set(input.subarray(next,next+copy),put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=12;break;case 17:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,286<state.nlen||30<state.ndist){strm.msg="too many length or distance symbols",state.mode=30;break}state.have=0,state.mode=18;case 18:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(0,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=30;break}state.have=0,state.mode=19;case 19:for(;state.have<state.nlen+state.ndist;){for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=30;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=3+(7&hold),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=11+(127&hold),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=30;break}for(;copy--;)state.lens[state.have++]=len}}if(30===state.mode)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=30;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=30;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=30;break}if(state.mode=20,flush===Z_TREES)break inf_leave;case 20:state.mode=21;case 21:if(6<=have&&258<=left){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,12===state.mode&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=26;break}if(32&here_op){state.back=-1,state.mode=12;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=30;break}state.extra=15&here_op,state.mode=22;case 22:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=23;case 23:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(last_bits+here_bits<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=30;break}state.offset=here_val,state.extra=15&here_op,state.mode=24;case 24:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=30;break}state.mode=25;case 25:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if(copy=state.offset-copy,copy>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break}from=copy>state.wnext?(copy-=state.wnext,state.wsize-copy):state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;for(copy>left&&(copy=left),left-=copy,state.length-=copy;output[put++]=from_source[from++],--copy;);0===state.length&&(state.mode=21);break;case 26:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=21;break;case 27:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=(state.flags?crc32:adler32)(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=30;break}hold=0,bits=0}state.mode=28;case 28:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=30;break}hold=0,bits=0}state.mode=29;case 29:ret=Z_STREAM_END;break inf_leave;case 30:ret=Z_DATA_ERROR;break inf_leave;case 31:return Z_MEM_ERROR;default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<30&&(state.mode<27||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=31,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=(state.flags?crc32:adler32)(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(12===state.mode?128:0)+(20===state.mode||15===state.mode?256:0),(0==_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)},module.exports.inflateEnd=strm=>{if(!strm||!strm.state)return Z_STREAM_ERROR;let state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},module.exports.inflateGetHeader=(strm,head)=>{if(!strm||!strm.state)return Z_STREAM_ERROR;const state=strm.state;return 0==(2&state.wrap)?Z_STREAM_ERROR:((state.head=head).done=!1,Z_OK)},module.exports.inflateSetDictionary=(strm,dictionary)=>{var dictLength=dictionary.length;let state;return strm&&strm.state?(state=strm.state,0!==state.wrap&&11!==state.mode?Z_STREAM_ERROR:11===state.mode&&adler32(1,dictionary,dictLength,0)!==state.check?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=31,Z_MEM_ERROR):(state.havedict=1,Z_OK)):Z_STREAM_ERROR},module.exports.inflateInfo="pako inflate (from Nodeca project)"},{"./adler32":221,"./constants":222,"./crc32":223,"./inffast":226,"./inftrees":228}],228:[function(require,module,exports){"use strict";const lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);module.exports=(type,lens,lens_index,codes,table,table_index,work,opts)=>{var mask,bits=opts.bits;let len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,incr,fill,low,next,base=null,base_index=0,end;const count=new Uint16Array(16),offs=new Uint16Array(16);let extra=null,extra_index=0,here_bits,here_op,here_val;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;1<=max&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,left-=count[len],left<0)return-1;if(0<left&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(end=0===type?(base=extra=work,19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,256):(base=dbase,extra=dext,-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,used=1<<root,mask=used-1,1===type&&852<used||2===type&&592<used)return 1;for(;;){for(here_bits=len-drop,here_val=work[sym]<end?(here_op=0,work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],base[base_index+work[sym]]):(here_op=96,0),incr=1<<len-drop,fill=1<<curr,min=fill;fill-=incr,table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0,0!==fill;);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,curr=len-drop,left=1<<curr;curr+drop<max&&(left-=count[curr+drop],!(left<=0));)curr++,left<<=1;if(used+=1<<curr,1===type&&852<used||2===type&&592<used)return 1;low=huff&mask,table[low]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},{}],229:[function(require,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],230:[function(require,module,exports){"use strict";const Z_BINARY=0,Z_TEXT=1;function zero(buf){let len=buf.length;for(;0<=--len;)buf[len]=0}const LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);const static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);const static_dtree=new Array(2*D_CODES);zero(static_dtree);const _dist_code=new Array(512);zero(_dist_code);const _length_code=new Array(256);zero(_length_code);const base_length=new Array(LENGTH_CODES);zero(base_length);const base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}zero(base_dist);let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}const d_code=dist=>dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)],put_short=(s,w)=>{s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255},send_bits=(s,value,length)=>{s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)},send_code=(s,c,tree)=>{send_bits(s,tree[2*c],tree[2*c+1])},bi_reverse=(code,len)=>{let res=0;for(;res|=1&code,code>>>=1,res<<=1,0<--len;);return res>>>1},gen_bitlen=(s,desc)=>{const tree=desc.dyn_tree;var f,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length;let h,n,m,bits,xbits,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)n=s.heap[h],bits=tree[2*tree[2*n+1]+1]+1,bits>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--}while(s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2,0<overflow);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)max_code<(m=s.heap[--h])||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}},gen_codes=(tree,max_code,bl_count)=>{const next_code=new Array(MAX_BITS+1);let code=0,bits,n;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}},init_block=s=>{let n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0},bi_windup=s=>{8<s.bi_valid?put_short(s,s.bi_buf):0<s.bi_valid&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0},smaller=(tree,n,m,depth)=>{var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]},pqdownheap=(s,tree,k)=>{var v=s.heap[k];let j=k<<1;for(;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v},compress_block=(s,ltree,dtree)=>{var dist;let lc,lx=0,code,extra;if(0!==s.last_lit)for(;dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0==dist?send_code(s,lc,ltree):(code=_length_code[lc],send_code(s,code+LITERALS+1,ltree),extra=extra_lbits[code],0!==extra&&(lc-=base_length[code],send_bits(s,lc,extra)),dist--,code=d_code(dist),send_code(s,code,dtree),extra=extra_dbits[code],0!==extra&&(dist-=base_dist[code],send_bits(s,dist,extra))),lx<s.last_lit;);send_code(s,END_BLOCK,ltree)},build_tree=(s,desc)=>{const tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems;let n,m,max_code=-1,node;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)node=s.heap[++s.heap_len]=max_code<2?++max_code:0,tree[2*node]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;1<=n;n--)pqdownheap(s,tree,n);for(node=elems;n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1),2<=s.heap_len;);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,desc),gen_codes(tree,max_code,s.bl_count)},scan_tree=(s,tree,max_code)=>{let n,prevlen=-1;var curlen;let nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[32]++):count<=10?s.bl_tree[34]++:s.bl_tree[36]++,count=0,prevlen=curlen,min_count=0===nextlen?(max_count=138,3):curlen===nextlen?(max_count=6,3):(max_count=7,4))},send_tree=(s,tree,max_code)=>{let n,prevlen=-1;var curlen;let nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)for(;send_code(s,curlen,s.bl_tree),0!=--count;);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,16,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,17,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,18,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,min_count=0===nextlen?(max_count=138,3):curlen===nextlen?(max_count=6,3):(max_count=7,4)}};let static_init_done=!1;const _tr_stored_block=(s,buf,stored_len,last)=>{send_bits(s,0+(last?1:0),3),((s,buf,len,header)=>{bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),s.pending_buf.set(s.window.subarray(buf,buf+len),s.pending),s.pending+=len})(s,buf,stored_len,!0)};module.exports._tr_init=s=>{static_init_done||((()=>{let n,bits,length,code,dist;const bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)})(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},module.exports._tr_stored_block=_tr_stored_block,module.exports._tr_flush_block=(s,buf,stored_len,last)=>{let opt_lenb,static_lenb,max_blindex=0;0<s.level?(2===s.strm.data_type&&(s.strm.data_type=(s=>{let black_mask=4093624447,n;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY})(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=(s=>{let max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;3<=max_blindex&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex})(s),opt_lenb=s.opt_len+3+7>>>3,static_lenb=s.static_len+3+7>>>3,static_lenb<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):4===s.strategy||static_lenb===opt_lenb?(send_bits(s,2+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,4+(last?1:0),3),((s,lcodes,dcodes,blcodes)=>{let rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)})(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},module.exports._tr_tally=(s,dist,lc)=>(s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1),module.exports._tr_align=s=>{send_bits(s,2,3),send_code(s,END_BLOCK,static_ltree),(s=>{16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):8<=s.bi_valid&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)})(s)}},{}],231:[function(require,module,exports){"use strict";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],232:[function(require,module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],233:[function(ECPrivateKey,module,exports){"use strict";var asn1=ECPrivateKey("asn1.js");exports.certificate=ECPrivateKey("./certificate");ECPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=ECPrivateKey;ECPrivateKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=ECPrivateKey;ECPrivateKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=ECPrivateKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ECPrivateKey=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=ECPrivateKey;ECPrivateKey=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=ECPrivateKey;ECPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=ECPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":234,"asn1.js":26}],234:[function(X509Certificate,module,exports){"use strict";var X509Certificate=X509Certificate("asn1.js"),Time=X509Certificate.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=X509Certificate.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier=X509Certificate.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=X509Certificate.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=X509Certificate.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=X509Certificate.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=X509Certificate.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=X509Certificate.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=X509Certificate.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=X509Certificate.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=X509Certificate.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier),this.key("signatureValue").bitstr())});module.exports=X509Certificate},{"asn1.js":26}],235:[function(require,module,exports){var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,evp=require("evp_bytestokey"),ciphers=require("browserify-aes"),Buffer=require("safe-buffer").Buffer;module.exports=function(cipherText,cipherKey){var suite,cipher,decrypted,key=cipherText.toString(),out=key.match(findProc);return decrypted=out?(suite="aes"+out[1],cipher=Buffer.from(out[2],"hex"),cipherText=Buffer.from(out[3].replace(/[\r\n]/g,""),"base64"),cipherKey=evp(cipherKey,cipher.slice(0,8),parseInt(out[1],10)).key,out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,cipher),out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)):(decrypted=key.match(fullRegex),Buffer.from(decrypted[2].replace(/[\r\n]/g,""),"base64")),{tag:key.match(startRegex)[1],data:decrypted}}},{"browserify-aes":51,evp_bytestokey:162,"safe-buffer":288}],236:[function(require,module,exports){var asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2"),Buffer=require("safe-buffer").Buffer;function parseKeys(stripped){var password;"object"!=typeof stripped||Buffer.isBuffer(stripped)||(password=stripped.passphrase,stripped=stripped.key),"string"==typeof stripped&&(stripped=Buffer.from(stripped));var subtype,ndata,stripped=fixProc(stripped,password),type=stripped.tag,data=stripped.data;switch(type){case"CERTIFICATE":ndata=asn1.certificate.decode(data,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(subtype=(ndata=ndata||asn1.PublicKey.decode(data,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}case"ENCRYPTED PRIVATE KEY":data=function(cipher,password){var salt=cipher.algorithm.decrypt.kde.kdeparams.salt,iters=parseInt(cipher.algorithm.decrypt.kde.kdeparams.iters.toString(),10),algo=aesid[cipher.algorithm.decrypt.cipher.algo.join(".")],out=cipher.algorithm.decrypt.cipher.iv,cipherText=cipher.subjectPrivateKey,cipher=parseInt(algo.split("-")[1],10)/8,cipher=compat.pbkdf2Sync(password,salt,iters,cipher,"sha1"),cipher=ciphers.createDecipheriv(algo,cipher,out),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}(data=asn1.EncryptedPrivateKey.decode(data,"der"),password);case"PRIVATE KEY":switch(subtype=(ndata=asn1.PrivateKey.decode(data,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return{curve:(data=asn1.ECPrivateKey.decode(data,"der")).parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}(module.exports=parseKeys).signature=asn1.signature},{"./aesid.json":232,"./asn1":233,"./fixProc":235,"browserify-aes":51,pbkdf2:237,"safe-buffer":288}],237:[function(require,module,exports){exports.pbkdf2=require("./lib/async"),exports.pbkdf2Sync=require("./lib/sync")},{"./lib/async":238,"./lib/sync":241}],238:[function(require,module,exports){!function(global){!function(){var ZERO_BUF,nextTick,Buffer=require("safe-buffer").Buffer,checkParameters=require("./precondition"),defaultEncoding=require("./default-encoding"),sync=require("./sync"),toBuffer=require("./to-buffer"),subtle=global.crypto&&global.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function getNextTick(){return nextTick=nextTick||(global.process&&global.process.nextTick?global.process.nextTick:global.queueMicrotask||global.setImmediate||global.setTimeout)}function browserPbkdf2(password,salt,iterations,length,algo){return subtle.importKey("raw",password,{name:"PBKDF2"},!1,["deriveBits"]).then(function(key){return subtle.deriveBits({name:"PBKDF2",salt:salt,iterations:iterations,hash:{name:algo}},key,length<<3)}).then(function(res){return Buffer.from(res)})}module.exports=function(password,salt,iterations,keylen,digest,callback){"function"==typeof digest&&(callback=digest,digest=void 0);var algo=toBrowser[(digest=digest||"sha1").toLowerCase()];if(algo&&"function"==typeof global.Promise){if(checkParameters(iterations,keylen),password=toBuffer(password,defaultEncoding,"Password"),salt=toBuffer(salt,defaultEncoding,"Salt"),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");!function(promise,callback){promise.then(function(out){getNextTick()(function(){callback(null,out)})},function(e){getNextTick()(function(){callback(e)})})}(function(algo){if(global.process&&!global.process.browser)return Promise.resolve(!1);if(!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(void 0!==checks[algo])return checks[algo];var prom=browserPbkdf2(ZERO_BUF=ZERO_BUF||Buffer.alloc(8),ZERO_BUF,10,128,algo).then(function(){return!0}).catch(function(){return!1});return checks[algo]=prom}(algo).then(function(resp){return resp?browserPbkdf2(password,salt,iterations,keylen,algo):sync(password,salt,iterations,keylen,digest)}),callback)}else getNextTick()(function(){var out;try{out=sync(password,salt,iterations,keylen,digest)}catch(e){return callback(e)}callback(null,out)})}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":239,"./precondition":240,"./sync":241,"./to-buffer":242,"safe-buffer":288}],239:[function(require,module,exports){!function(process,global){!function(){var defaultEncoding;defaultEncoding=global.process&&global.process.browser||!global.process||!global.process.version||6<=parseInt(process.version.split(".")[0].slice(1),10)?"utf-8":"binary",module.exports=defaultEncoding}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:243}],240:[function(require,module,exports){var MAX_ALLOC=Math.pow(2,30)-1;module.exports=function(iterations,keylen){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(keylen<0||MAX_ALLOC<keylen||keylen!=keylen)throw new TypeError("Bad key length")}},{}],241:[function(require,module,exports){var md5=require("create-hash/md5"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),Buffer=require("safe-buffer").Buffer,checkParameters=require("./precondition"),defaultEncoding=require("./default-encoding"),toBuffer=require("./to-buffer"),ZEROS=Buffer.alloc(128),sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac(alg,key,ipad1){var hash=function(alg){return"rmd160"===alg||"ripemd160"===alg?function(data){return(new RIPEMD160).update(data).digest()}:"md5"===alg?md5:function(data){return sha(alg).update(data).digest()}}(alg),blocksize="sha512"===alg||"sha384"===alg?128:64;key.length>blocksize?key=hash(key):key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=Buffer.allocUnsafe(blocksize+sizes[alg]),opad=Buffer.allocUnsafe(blocksize+sizes[alg]),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];ipad1=Buffer.allocUnsafe(blocksize+ipad1+4);ipad.copy(ipad1,0,0,blocksize),this.ipad1=ipad1,this.ipad2=ipad,this.opad=opad,this.alg=alg,this.blocksize=blocksize,this.hash=hash,this.size=sizes[alg]}Hmac.prototype.run=function(data,ipad){return data.copy(ipad,this.blocksize),this.hash(ipad).copy(this.opad,this.blocksize),this.hash(this.opad)},module.exports=function(password,salt,iterations,keylen,digest){checkParameters(iterations,keylen);var hmac=new Hmac(digest=digest||"sha1",password=toBuffer(password,defaultEncoding,"Password"),(salt=toBuffer(salt,defaultEncoding,"Salt")).length),DK=Buffer.allocUnsafe(keylen),block1=Buffer.allocUnsafe(salt.length+4);salt.copy(block1,0,0,salt.length);for(var destPos=0,hLen=sizes[digest],l=Math.ceil(keylen/hLen),i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);for(var T=hmac.run(block1,hmac.ipad1),U=T,j=1;j<iterations;j++)for(var U=hmac.run(U,hmac.ipad2),k=0;k<hLen;k++)T[k]^=U[k];T.copy(DK,destPos),destPos+=hLen}return DK}},{"./default-encoding":239,"./precondition":240,"./to-buffer":242,"create-hash/md5":127,ripemd160:287,"safe-buffer":288,"sha.js":291}],242:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;module.exports=function(thing,encoding,name){if(Buffer.isBuffer(thing))return thing;if("string"==typeof thing)return Buffer.from(thing,encoding);if(ArrayBuffer.isView(thing))return Buffer.from(thing.buffer);throw new TypeError(name+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":288}],243:[function(require,process,exports){var cachedSetTimeout,cachedClearTimeout,process=process.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],244:[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},{"./privateDecrypt":247,"./publicEncrypt":248}],245:[function(require,module,exports){var createHash=require("create-hash"),Buffer=require("safe-buffer").Buffer;module.exports=function(seed,len){for(var c,t=Buffer.alloc(0),i=0;t.length<len;)c=function(c){var out=Buffer.allocUnsafe(4);return out.writeUInt32BE(c,0),out}(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}},{"create-hash":126,"safe-buffer":288}],246:[function(require,module,exports){arguments[4][40][0].apply(exports,arguments)},{buffer:48,dup:40}],247:[function(require,module,exports){var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),BN=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic"),Buffer=require("safe-buffer").Buffer;module.exports=function(msg,zBuffer,reverse){var padding=msg.padding||(reverse?1:4),key=parseKeys(msg),k=key.modulus.byteLength();if(zBuffer.length>k||0<=new BN(zBuffer).cmp(key.modulus))throw new Error("decryption error");msg=reverse?withPublic(new BN(zBuffer),key):crt(zBuffer,key),zBuffer=Buffer.alloc(k-msg.length);if(msg=Buffer.concat([zBuffer,msg],k),4===padding)return function(seed,maskedDb){var k=seed.modulus.byteLength(),iHash=createHash("sha1").update(Buffer.alloc(0)).digest(),hLen=iHash.length;if(0!==maskedDb[0])throw new Error("decryption error");var seed=maskedDb.slice(1,hLen+1),maskedDb=maskedDb.slice(hLen+1),seed=xor(seed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(function(a,b){a=Buffer.from(a),b=Buffer.from(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));var i=-1;for(;++i<len;)dif+=a[i]^b[i];return dif}(iHash,db.slice(0,hLen)))throw new Error("decryption error");var i=hLen;for(;0===db[i];)i++;if(1===db[i++])return db.slice(i);throw new Error("decryption error")}(key,msg);if(1===padding)return function(msg,reverse){var p1=msg.slice(0,2),i=2,status=0;for(;0!==msg[i++];)if(i>=msg.length){status++;break}var ps=msg.slice(2,i-1);("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++;ps.length<8&&status++;if(status)throw new Error("decryption error");return msg.slice(i)}(msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}},{"./mgf":245,"./withPublic":249,"./xor":250,"bn.js":246,"browserify-rsa":69,"create-hash":126,"parse-asn1":236,"safe-buffer":288}],248:[function(require,module,exports){var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),BN=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa"),Buffer=require("safe-buffer").Buffer;module.exports=function(key,msg,reverse){var paddedMsg,padding=key.padding||(reverse?1:4),key=parseKeys(key);if(4===padding)paddedMsg=function(ps,msg){var k=ps.modulus.byteLength(),maskedDb=msg.length,iHash=createHash("sha1").update(Buffer.alloc(0)).digest(),maskedSeed=iHash.length,seed=2*maskedSeed;if(k-seed-2<maskedDb)throw new Error("message too long");ps=Buffer.alloc(k-maskedDb-seed-2),maskedDb=k-maskedSeed-1,seed=randomBytes(maskedSeed),maskedDb=xor(Buffer.concat([iHash,ps,Buffer.alloc(1,1),msg],maskedDb),mgf(seed,maskedDb)),maskedSeed=xor(seed,mgf(maskedDb,maskedSeed));return new BN(Buffer.concat([Buffer.alloc(1),maskedSeed,maskedDb],k))}(key,msg);else if(1===padding)paddedMsg=function(k,msg,reverse){var ps=msg.length,k=k.modulus.byteLength();if(k-11<ps)throw new Error("message too long");ps=reverse?Buffer.alloc(k-ps-3,255):function(len){var num,out=Buffer.allocUnsafe(len),i=0,cache=randomBytes(2*len),cur=0;for(;i<len;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),(num=cache[cur++])&&(out[i++]=num);return out}(k-ps-3);return new BN(Buffer.concat([Buffer.from([0,reverse?1:2]),ps,Buffer.alloc(1),msg],k))}(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if(0<=(paddedMsg=new BN(msg)).cmp(key.modulus))throw new Error("data too long for modulus")}return(reverse?crt:withPublic)(paddedMsg,key)}},{"./mgf":245,"./withPublic":249,"./xor":250,"bn.js":246,"browserify-rsa":69,"create-hash":126,"parse-asn1":236,randombytes:284,"safe-buffer":288}],249:[function(require,module,exports){var BN=require("bn.js"),Buffer=require("safe-buffer").Buffer;module.exports=function(paddedMsg,key){return Buffer.from(paddedMsg.toRed(BN.mont(key.modulus)).redPow(new BN(key.publicExponent)).fromRed().toArray())}},{"bn.js":246,"safe-buffer":288}],250:[function(require,module,exports){module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},{}],251:[function(require,module,exports){!function(global){!function(){!function(root){var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMax=26,skew=38,damp=700,regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-1,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return 1<parts.length&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)55296<=(value=string.charCodeAt(counter++))&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return 65535<value&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);baseMinusTMin*tMax>>1<delta;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,j,index,oldi,w,k,baseMinusT,output=[],inputLength=input.length,i=0,n=128,bias=72,basic=input.lastIndexOf("-");for(basic<0&&(basic=0),j=0;j<basic;++j)128<=input.charCodeAt(j)&&error("not-basic"),output.push(input.charCodeAt(j));for(index=0<basic?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;inputLength<=index&&error("invalid-input"),baseMinusT=input.charCodeAt(index++),(base<=(baseMinusT=baseMinusT-48<10?baseMinusT-22:baseMinusT-65<26?baseMinusT-65:baseMinusT-97<26?baseMinusT-97:base)||baseMinusT>floor((maxInt-i)/w))&&error("overflow"),i+=baseMinusT*w,!(baseMinusT<(baseMinusT=k<=bias?1:bias+tMax<=k?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-baseMinusT))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){for(var delta,handledCPCount,basicLength,m,q,k,currentValue,handledCPCountPlusOne,baseMinusT,qMinusT,output=[],inputLength=(input=ucs2decode(input)).length,n=128,bias=72,j=delta=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push("-");handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)n<=(currentValue=input[j])&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(baseMinusT=k<=bias?1:bias+tMax<=k?tMax:k-bias));k+=base)output.push(stringFromCharCode(digitToBasic(baseMinusT+(qMinusT=q-baseMinusT)%(baseMinusT=base-baseMinusT),0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],252:[function(require,module,exports){"use strict";var d,a;d=this,a=function(){class d{static hasCamera(){return d.listCameras(!1).then(a=>!!a.length).catch(()=>!1)}static listCameras(a=!1){if(!navigator.mediaDevices)return Promise.resolve([]);let b=null;return(a?navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(a=>b=a).catch(()=>{}):Promise.resolve()).then(()=>navigator.mediaDevices.enumerateDevices()).then(a=>a.filter(a=>"videoinput"===a.kind).map((a,b)=>({id:a.deviceId,label:a.label||(0===b?"Default Camera":"Camera "+(b+1))}))).finally(()=>{if(b)for(var a of b.getTracks())a.stop(),b.removeTrack(a)})}constructor(a,b,c=this._onDecodeError,f=this._calculateScanRegion,k="environment"){this.$video=a,this.$canvas=document.createElement("canvas"),this._onDecode=b,this._legacyCanvasSize=d.DEFAULT_CANVAS_SIZE,this._preferredCamera=k,this._flashOn=this._paused=this._active=!1,"number"==typeof c?(this._legacyCanvasSize=c,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._onDecodeError=c,"number"==typeof f?(this._legacyCanvasSize=f,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._calculateScanRegion=f,this._scanRegion=this._calculateScanRegion(a),this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),a.disablePictureInPicture=!0,a.playsInline=!0;let g=!(a.muted=!0);a.hidden&&(a.hidden=!1,g=!0),document.body.contains(a)||(document.body.appendChild(a),g=!0),requestAnimationFrame(()=>{var b=window.getComputedStyle(a);"none"===b.display&&(a.style.setProperty("display","block","important"),g=!0),"visible"!==b.visibility&&(a.style.setProperty("visibility","visible","important"),g=!0),g&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),a.style.opacity=0,a.style.width=0,a.style.height=0)}),a.addEventListener("play",this._onPlay),a.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),this._qrEnginePromise=d.createQrEngine()}hasFlash(){let a=null;return(this.$video.srcObject?Promise.resolve(this.$video.srcObject.getVideoTracks()[0]):this._getCameraStream().then(({stream:b})=>(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),(a=b).getVideoTracks()[0]))).then(a=>"torch"in a.getSettings()).catch(()=>!1).finally(()=>{if(a)for(var b of a.getTracks())b.stop(),a.removeTrack(b)})}isFlashOn(){return this._flashOn}toggleFlash(){return this._flashOn?this.turnFlashOff():this.turnFlashOn()}turnFlashOn(){return this._flashOn?Promise.resolve():(this._flashOn=!0,!this._active||this._paused?Promise.resolve():this.hasFlash().then(a=>a?this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]}):Promise.reject("No flash available")).catch(()=>{throw this._flashOn=!1,e}))}turnFlashOff(){if(this._flashOn)return this._flashOn=!1,this._restartVideoStream()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.stop(),d._postWorkerMessage(this._qrEnginePromise,"close")}start(){return this._active&&!this._paused?Promise.resolve():("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,document.hidden?Promise.resolve():(this._paused=!1,this.$video.srcObject?(this.$video.play(),Promise.resolve()):this._getCameraStream().then(({stream:a,facingMode:b})=>{this.$video.srcObject=a,this.$video.play(),this._setVideoMirror(b),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{}))}).catch(a=>{throw this._active=!1,a})))}stop(){this.pause(),this._active=!1}pause(a=!1){if(this._paused=!0,!this._active)return Promise.resolve(!0);this.$video.pause();let b=()=>{for(const b of this.$video.srcObject?this.$video.srcObject.getTracks():[])b.stop(),this.$video.srcObject.removeTrack(b);this.$video.srcObject=null};return a?(b(),Promise.resolve(!0)):new Promise(a=>setTimeout(a,300)).then(()=>!!this._paused&&(b(),!0))}setCamera(a){return a===this._preferredCamera?Promise.resolve():(this._preferredCamera=a,this._restartVideoStream())}static scanImage(a,b=null,c=null,f=null,k=!1,g=!1){let h=c instanceof Worker,l=Promise.all([c||d.createQrEngine(),d._loadImage(a)]).then(([a,g])=>{c=a;let l;return[f,l]=this._drawToCanvas(g,b,f,k),c instanceof Worker?(h||c.postMessage({type:"inversionMode",data:"both"}),new Promise((a,b)=>{let k,g,h;g=f=>{"qrResult"===f.data.type&&(c.removeEventListener("message",g),c.removeEventListener("error",h),clearTimeout(k),null!==f.data.data?a(f.data.data):b(d.NO_QR_CODE_FOUND))},h=a=>{c.removeEventListener("message",g),c.removeEventListener("error",h),clearTimeout(k),b("Scanner error: "+(a?a.message||a:"Unknown Error"))},c.addEventListener("message",g),c.addEventListener("error",h),k=setTimeout(()=>h("timeout"),1e4);var m=l.getImageData(0,0,f.width,f.height);c.postMessage({type:"decode",data:m},[m.data.buffer])})):new Promise((a,b)=>{let k=setTimeout(()=>b("Scanner error: timeout"),1e4);c.detect(f).then(c=>{c.length?a(c[0].rawValue):b(d.NO_QR_CODE_FOUND)}).catch(a=>b("Scanner error: "+(a.message||a))).finally(()=>clearTimeout(k))})});return b&&g&&(l=l.catch(()=>d.scanImage(a,null,c,f,k))),l=l.finally(()=>{h||d._postWorkerMessage(c,"close")})}setGrayscaleWeights(a,b,c,f=!0){d._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:a,green:b,blue:c,useIntegerApproximation:f})}setInversionMode(a){d._postWorkerMessage(this._qrEnginePromise,"inversionMode",a)}static createQrEngine(a=d.WORKER_PATH){return("BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats?BarcodeDetector.getSupportedFormats():Promise.resolve([])).then(b=>-1!==b.indexOf("qr_code")?new BarcodeDetector({formats:["qr_code"]}):new Worker(a))}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video)}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){var b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_scanFrame(){if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame(()=>{this.$video.readyState<=1?this._scanFrame():this._qrEnginePromise.then(a=>d.scanImage(this.$video,this._scanRegion,a,this.$canvas)).then(this._onDecode,a=>{this._active&&(-1!==(a.message||a).indexOf("service unavailable")&&(this._qrEnginePromise=d.createQrEngine()),this._onDecodeError(a))}).then(()=>this._scanFrame())})}_onDecodeError(a){a!==d.NO_QR_CODE_FOUND&&console.log(a)}_getCameraStream(){if(!navigator.mediaDevices)return Promise.reject("Camera not found.");let a="environment"===this._preferredCamera||"user"===this._preferredCamera?"facingMode":"deviceId",b=[{width:{min:1024}},{width:{min:768}},{}];return[...b.map(b=>Object.assign({},b,{[a]:{exact:this._preferredCamera}})),...b].reduceRight((a,b)=>()=>navigator.mediaDevices.getUserMedia({video:b,audio:!1}).then(a=>({stream:a,facingMode:this._getFacingMode(a)||(b.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment")})).catch(a),()=>Promise.reject("Camera not found."))()}_restartVideoStream(){let a=this._paused;return this.pause(!0).then(b=>{if(b&&!a&&this._active)return this.start()})}_setVideoMirror(a){this.$video.style.transform="scaleX("+("user"===a?-1:1)+")"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?"environment":/front|user|face/i.test(a.label)?"user":null:null}static _drawToCanvas(a,b=null,c=null,f=!1){c=c||document.createElement("canvas");var d=b&&b.x?b.x:0,g=b&&b.y?b.y:0,h=b&&b.width?b.width:a.width||a.videoWidth,l=b&&b.height?b.height:a.height||a.videoHeight;return f||(f=b&&b.downScaledWidth?b.downScaledWidth:h,b=b&&b.downScaledHeight?b.downScaledHeight:l,c.width!==f&&(c.width=f),c.height!==b&&(c.height=b)),(b=c.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,b.drawImage(a,d,g,h,l,0,0,c.width,c.height),[c,b]}static _loadImage(a){if(a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||window.ImageBitmap&&a instanceof window.ImageBitmap||window.OffscreenCanvas&&a instanceof window.OffscreenCanvas)return Promise.resolve(a);if(a instanceof Image)return d._awaitImageLoad(a).then(()=>a);if(a instanceof File||a instanceof Blob||a instanceof URL||"string"==typeof a){let b=new Image;return b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a,d._awaitImageLoad(b).then(()=>((a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src),b))}return Promise.reject("Unsupported image type.")}static _awaitImageLoad(a){return new Promise((b,c)=>{if(a.complete&&0!==a.naturalWidth)b();else{let f,d;f=()=>{a.removeEventListener("load",f),a.removeEventListener("error",d),b()},d=()=>{a.removeEventListener("load",f),a.removeEventListener("error",d),c("Image load error")},a.addEventListener("load",f),a.addEventListener("error",d)}})}static _postWorkerMessage(a,b,c){return Promise.resolve(a).then(a=>{a instanceof Worker&&a.postMessage({type:b,data:c})})}}return d.DEFAULT_CANVAS_SIZE=400,d.NO_QR_CODE_FOUND="No QR code found",d.WORKER_PATH="qr-scanner-worker.min.js",d},"object"==typeof exports&&void 0!==module?module.exports=a():"function"==typeof define&&define.amd?define(a):(d=d||self).QrScanner=a()},{}],253:[function(require,module,exports){var canPromise=require("./can-promise"),QRCode=require("./core/qrcode"),CanvasRenderer=require("./renderer/canvas"),SvgRenderer=require("./renderer/svg-tag.js");function renderCanvas(renderFunc,canvas,text,opts,cb){var isLastArgCb=[].slice.call(arguments,1),argsNum=isLastArgCb.length,isLastArgCb="function"==typeof isLastArgCb[argsNum-1];if(!isLastArgCb&&!canPromise())throw new Error("Callback required as last argument");if(!isLastArgCb){if(argsNum<1)throw new Error("Too few arguments provided");return 1===argsNum?(text=canvas,canvas=opts=void 0):2!==argsNum||canvas.getContext||(opts=text,text=canvas,canvas=void 0),new Promise(function(resolve,reject){try{var data=QRCode.create(text,opts);resolve(renderFunc(data,canvas,opts))}catch(e){reject(e)}})}if(argsNum<2)throw new Error("Too few arguments provided");2===argsNum?(cb=text,text=canvas,canvas=opts=void 0):3===argsNum&&(canvas.getContext&&void 0===cb?(cb=opts,opts=void 0):(cb=opts,opts=text,text=canvas,canvas=void 0));try{var data=QRCode.create(text,opts);cb(null,renderFunc(data,canvas,opts))}catch(e){cb(e)}}exports.create=QRCode.create,exports.toCanvas=renderCanvas.bind(null,CanvasRenderer.render),exports.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL),exports.toString=renderCanvas.bind(null,function(data,_,opts){return SvgRenderer.render(data,opts)})},{"./can-promise":254,"./core/qrcode":270,"./renderer/canvas":277,"./renderer/svg-tag.js":278}],254:[function(require,module,exports){module.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},{}],255:[function(require,module,exports){var getSymbolSize=require("./utils").getSymbolSize;exports.getRowColCoords=function(size){if(1===size)return[];for(var posCount=Math.floor(size/7)+2,size=getSymbolSize(size),intervals=145===size?26:2*Math.ceil((size-13)/(2*posCount-2)),positions=[size-7],i=1;i<posCount-1;i++)positions[i]=positions[i-1]-intervals;return positions.push(6),positions.reverse()},exports.getPositions=function(version){for(var coords=[],pos=exports.getRowColCoords(version),posLength=pos.length,i=0;i<posLength;i++)for(var j=0;j<posLength;j++)0===i&&0===j||0===i&&j===posLength-1||i===posLength-1&&0===j||coords.push([pos[i],pos[j]]);return coords}},{"./utils":274}],256:[function(require,module,exports){var Mode=require("./mode"),ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(data){this.mode=Mode.ALPHANUMERIC,this.data=data}AlphanumericData.getBitsLength=function(length){return 11*Math.floor(length/2)+length%2*6},AlphanumericData.prototype.getLength=function(){return this.data.length},AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)},AlphanumericData.prototype.write=function(bitBuffer){for(var i=0;i+2<=this.data.length;i+=2){var value=45*ALPHA_NUM_CHARS.indexOf(this.data[i]);value+=ALPHA_NUM_CHARS.indexOf(this.data[i+1]),bitBuffer.put(value,11)}this.data.length%2&&bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]),6)},module.exports=AlphanumericData},{"./mode":267}],257:[function(require,module,exports){function BitBuffer(){this.buffer=[],this.length=0}BitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return 1==(this.buffer[bufIndex]>>>7-index%8&1)},put:function(num,length){for(var i=0;i<length;i++)this.putBit(1==(num>>>length-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);this.buffer.length<=bufIndex&&this.buffer.push(0),bit&&(this.buffer[bufIndex]|=128>>>this.length%8),this.length++}},module.exports=BitBuffer},{}],258:[function(require,module,exports){var BufferUtil=require("../utils/buffer");function BitMatrix(size){if(!size||size<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=size,this.data=BufferUtil.alloc(size*size),this.reservedBit=BufferUtil.alloc(size*size)}BitMatrix.prototype.set=function(row,index,value,reserved){index=row*this.size+index;this.data[index]=value,reserved&&(this.reservedBit[index]=!0)},BitMatrix.prototype.get=function(row,col){return this.data[row*this.size+col]},BitMatrix.prototype.xor=function(row,col,value){this.data[row*this.size+col]^=value},BitMatrix.prototype.isReserved=function(row,col){return this.reservedBit[row*this.size+col]},module.exports=BitMatrix},{"../utils/buffer":280}],259:[function(require,module,exports){var BufferUtil=require("../utils/buffer"),Mode=require("./mode");function ByteData(data){this.mode=Mode.BYTE,this.data=BufferUtil.from(data)}ByteData.getBitsLength=function(length){return 8*length},ByteData.prototype.getLength=function(){return this.data.length},ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)},ByteData.prototype.write=function(bitBuffer){for(var i=0,l=this.data.length;i<l;i++)bitBuffer.put(this.data[i],8)},module.exports=ByteData},{"../utils/buffer":280,"./mode":267}],260:[function(require,module,exports){var ECLevel=require("./error-correction-level"),EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];exports.getBlocksCount=function(version,errorCorrectionLevel){switch(errorCorrectionLevel){case ECLevel.L:return EC_BLOCKS_TABLE[4*(version-1)+0];case ECLevel.M:return EC_BLOCKS_TABLE[4*(version-1)+1];case ECLevel.Q:return EC_BLOCKS_TABLE[4*(version-1)+2];case ECLevel.H:return EC_BLOCKS_TABLE[4*(version-1)+3];default:return}},exports.getTotalCodewordsCount=function(version,errorCorrectionLevel){switch(errorCorrectionLevel){case ECLevel.L:return EC_CODEWORDS_TABLE[4*(version-1)+0];case ECLevel.M:return EC_CODEWORDS_TABLE[4*(version-1)+1];case ECLevel.Q:return EC_CODEWORDS_TABLE[4*(version-1)+2];case ECLevel.H:return EC_CODEWORDS_TABLE[4*(version-1)+3];default:return}}},{"./error-correction-level":261}],261:[function(require,module,exports){exports.L={bit:1},exports.M={bit:0},exports.Q={bit:3},exports.H={bit:2},exports.isValid=function(level){return level&&void 0!==level.bit&&0<=level.bit&&level.bit<4},exports.from=function(value,defaultValue){if(exports.isValid(value))return value;try{return function(string){if("string"!=typeof string)throw new Error("Param is not a string");switch(string.toLowerCase()){case"l":case"low":return exports.L;case"m":case"medium":return exports.M;case"q":case"quartile":return exports.Q;case"h":case"high":return exports.H;default:throw new Error("Unknown EC Level: "+string)}}(value)}catch(e){return defaultValue}}},{}],262:[function(require,module,exports){var getSymbolSize=require("./utils").getSymbolSize;exports.getPositions=function(size){size=getSymbolSize(size);return[[0,0],[size-7,0],[0,size-7]]}},{"./utils":274}],263:[function(require,module,exports){var Utils=require("./utils"),G15_BCH=Utils.getBCHDigit(1335);exports.getEncodedBits=function(errorCorrectionLevel,data){for(var data=errorCorrectionLevel.bit<<3|data,d=data<<10;0<=Utils.getBCHDigit(d)-G15_BCH;)d^=1335<<Utils.getBCHDigit(d)-G15_BCH;return 21522^(data<<10|d)}},{"./utils":274}],264:[function(BufferUtil,module,exports){var BufferUtil=BufferUtil("../utils/buffer"),EXP_TABLE=BufferUtil.alloc(512),LOG_TABLE=BufferUtil.alloc(256);!function(){for(var x=1,i=0;i<255;i++)EXP_TABLE[i]=x,LOG_TABLE[x]=i,256&(x<<=1)&&(x^=285);for(i=255;i<512;i++)EXP_TABLE[i]=EXP_TABLE[i-255]}(),exports.log=function(n){if(n<1)throw new Error("log("+n+")");return LOG_TABLE[n]},exports.exp=function(n){return EXP_TABLE[n]},exports.mul=function(x,y){return 0===x||0===y?0:EXP_TABLE[LOG_TABLE[x]+LOG_TABLE[y]]}},{"../utils/buffer":280}],265:[function(require,module,exports){var Mode=require("./mode"),Utils=require("./utils");function KanjiData(data){this.mode=Mode.KANJI,this.data=data}KanjiData.getBitsLength=function(length){return 13*length},KanjiData.prototype.getLength=function(){return this.data.length},KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)},KanjiData.prototype.write=function(bitBuffer){for(var i=0;i<this.data.length;i++){var value=Utils.toSJIS(this.data[i]);if(33088<=value&&value<=40956)value-=33088;else{if(!(57408<=value&&value<=60351))throw new Error("Invalid SJIS character: "+this.data[i]+"\nMake sure your charset is UTF-8");value-=49472}bitBuffer.put(value=192*(value>>>8&255)+(255&value),13)}},module.exports=KanjiData},{"./mode":267,"./utils":274}],266:[function(require,module,exports){exports.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var PenaltyScores_N1=3,PenaltyScores_N2=3,PenaltyScores_N3=40,PenaltyScores_N4=10;exports.isValid=function(mask){return null!=mask&&""!==mask&&!isNaN(mask)&&0<=mask&&mask<=7},exports.from=function(value){return exports.isValid(value)?parseInt(value,10):void 0},exports.getPenaltyN1=function(data){for(var size=data.size,points=0,sameCountCol=0,sameCountRow=0,lastCol=null,lastRow=null,row=0;row<size;row++){for(var sameCountCol=sameCountRow=0,lastCol=lastRow=null,col=0;col<size;col++){var module=data.get(row,col);module===lastCol?sameCountCol++:(5<=sameCountCol&&(points+=PenaltyScores_N1+(sameCountCol-5)),lastCol=module,sameCountCol=1),(module=data.get(col,row))===lastRow?sameCountRow++:(5<=sameCountRow&&(points+=PenaltyScores_N1+(sameCountRow-5)),lastRow=module,sameCountRow=1)}5<=sameCountCol&&(points+=PenaltyScores_N1+(sameCountCol-5)),5<=sameCountRow&&(points+=PenaltyScores_N1+(sameCountRow-5))}return points},exports.getPenaltyN2=function(data){for(var size=data.size,points=0,row=0;row<size-1;row++)for(var col=0;col<size-1;col++){var last=data.get(row,col)+data.get(row,col+1)+data.get(row+1,col)+data.get(row+1,col+1);4!==last&&0!==last||points++}return points*PenaltyScores_N2},exports.getPenaltyN3=function(data){for(var size=data.size,points=0,bitsCol=0,bitsRow=0,row=0;row<size;row++)for(var bitsCol=bitsRow=0,col=0;col<size;col++)bitsCol=bitsCol<<1&2047|data.get(row,col),10<=col&&(1488===bitsCol||93===bitsCol)&&points++,bitsRow=bitsRow<<1&2047|data.get(col,row),10<=col&&(1488===bitsRow||93===bitsRow)&&points++;return points*PenaltyScores_N3},exports.getPenaltyN4=function(data){for(var darkCount=0,modulesCount=data.data.length,i=0;i<modulesCount;i++)darkCount+=data.data[i];return Math.abs(Math.ceil(100*darkCount/modulesCount/5)-10)*PenaltyScores_N4},exports.applyMask=function(pattern,data){for(var size=data.size,col=0;col<size;col++)for(var row=0;row<size;row++)data.isReserved(row,col)||data.xor(row,col,function(maskPattern,i,j){switch(maskPattern){case exports.Patterns.PATTERN000:return(i+j)%2==0;case exports.Patterns.PATTERN001:return i%2==0;case exports.Patterns.PATTERN010:return j%3==0;case exports.Patterns.PATTERN011:return(i+j)%3==0;case exports.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case exports.Patterns.PATTERN101:return i*j%2+i*j%3==0;case exports.Patterns.PATTERN110:return(i*j%2+i*j%3)%2==0;case exports.Patterns.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}}(pattern,row,col))},exports.getBestMask=function(data,setupFormatFunc){for(var numPatterns=Object.keys(exports.Patterns).length,bestPattern=0,lowerPenalty=1/0,p=0;p<numPatterns;p++){setupFormatFunc(p),exports.applyMask(p,data);var penalty=exports.getPenaltyN1(data)+exports.getPenaltyN2(data)+exports.getPenaltyN3(data)+exports.getPenaltyN4(data);exports.applyMask(p,data),penalty<lowerPenalty&&(lowerPenalty=penalty,bestPattern=p)}return bestPattern}},{}],267:[function(require,module,exports){var VersionCheck=require("./version-check"),Regex=require("./regex");exports.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},exports.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},exports.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},exports.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},exports.MIXED={bit:-1},exports.getCharCountIndicator=function(mode,version){if(!mode.ccBits)throw new Error("Invalid mode: "+mode);if(!VersionCheck.isValid(version))throw new Error("Invalid version: "+version);return 1<=version&&version<10?mode.ccBits[0]:version<27?mode.ccBits[1]:mode.ccBits[2]},exports.getBestModeForData=function(dataStr){return Regex.testNumeric(dataStr)?exports.NUMERIC:Regex.testAlphanumeric(dataStr)?exports.ALPHANUMERIC:Regex.testKanji(dataStr)?exports.KANJI:exports.BYTE},exports.toString=function(mode){if(mode&&mode.id)return mode.id;throw new Error("Invalid mode")},exports.isValid=function(mode){return mode&&mode.bit&&mode.ccBits},exports.from=function(value,defaultValue){if(exports.isValid(value))return value;try{return function(string){if("string"!=typeof string)throw new Error("Param is not a string");switch(string.toLowerCase()){case"numeric":return exports.NUMERIC;case"alphanumeric":return exports.ALPHANUMERIC;case"kanji":return exports.KANJI;case"byte":return exports.BYTE;default:throw new Error("Unknown mode: "+string)}}(value)}catch(e){return defaultValue}}},{"./regex":272,"./version-check":275}],268:[function(require,module,exports){var Mode=require("./mode");function NumericData(data){this.mode=Mode.NUMERIC,this.data=data.toString()}NumericData.getBitsLength=function(length){return 10*Math.floor(length/3)+(length%3?length%3*3+1:0)},NumericData.prototype.getLength=function(){return this.data.length},NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)},NumericData.prototype.write=function(bitBuffer){for(var group,value,i=0;i+3<=this.data.length;i+=3)group=this.data.substr(i,3),value=parseInt(group,10),bitBuffer.put(value,10);var remainingNum=this.data.length-i;0<remainingNum&&(group=this.data.substr(i),value=parseInt(group,10),bitBuffer.put(value,3*remainingNum+1))},module.exports=NumericData},{"./mode":267}],269:[function(require,module,exports){var BufferUtil=require("../utils/buffer"),GF=require("./galois-field");exports.mul=function(p1,p2){for(var coeff=BufferUtil.alloc(p1.length+p2.length-1),i=0;i<p1.length;i++)for(var j=0;j<p2.length;j++)coeff[i+j]^=GF.mul(p1[i],p2[j]);return coeff},exports.mod=function(divident,divisor){for(var result=BufferUtil.from(divident);0<=result.length-divisor.length;){for(var coeff=result[0],i=0;i<divisor.length;i++)result[i]^=GF.mul(divisor[i],coeff);for(var offset=0;offset<result.length&&0===result[offset];)offset++;result=result.slice(offset)}return result},exports.generateECPolynomial=function(degree){for(var poly=BufferUtil.from([1]),i=0;i<degree;i++)poly=exports.mul(poly,[1,GF.exp(i)]);return poly}},{"../utils/buffer":280,"./galois-field":264}],270:[function(require,module,exports){var BufferUtil=require("../utils/buffer"),Utils=require("./utils"),ECLevel=require("./error-correction-level"),BitBuffer=require("./bit-buffer"),BitMatrix=require("./bit-matrix"),AlignmentPattern=require("./alignment-pattern"),FinderPattern=require("./finder-pattern"),MaskPattern=require("./mask-pattern"),ECCode=require("./error-correction-code"),ReedSolomonEncoder=require("./reed-solomon-encoder"),Version=require("./version"),FormatInfo=require("./format-info"),Mode=require("./mode"),Segments=require("./segments"),isArray=require("isarray");function setupFormatInfo(matrix,errorCorrectionLevel,maskPattern){for(var mod,size=matrix.size,bits=FormatInfo.getEncodedBits(errorCorrectionLevel,maskPattern),i=0;i<15;i++)mod=1==(bits>>i&1),i<6?matrix.set(i,8,mod,!0):i<8?matrix.set(i+1,8,mod,!0):matrix.set(size-15+i,8,mod,!0),i<8?matrix.set(8,size-i-1,mod,!0):i<9?matrix.set(8,15-i-1+1,mod,!0):matrix.set(8,15-i-1,mod,!0);matrix.set(size-8,8,1,!0)}function createData(version,errorCorrectionLevel,dataTotalCodewordsBits){var buffer=new BitBuffer;dataTotalCodewordsBits.forEach(function(data){buffer.put(data.mode.bit,4),buffer.put(data.getLength(),Mode.getCharCountIndicator(data.mode,version)),data.write(buffer)});dataTotalCodewordsBits=8*(Utils.getSymbolTotalCodewords(version)-ECCode.getTotalCodewordsCount(version,errorCorrectionLevel));for(buffer.getLengthInBits()+4<=dataTotalCodewordsBits&&buffer.put(0,4);buffer.getLengthInBits()%8!=0;)buffer.putBit(0);for(var remainingByte=(dataTotalCodewordsBits-buffer.getLengthInBits())/8,i=0;i<remainingByte;i++)buffer.put(i%2?17:236,8);return function(bitBuffer,version,totalCodewordsInGroup1){for(var totalCodewords=Utils.getSymbolTotalCodewords(version),dataTotalCodewords=ECCode.getTotalCodewordsCount(version,totalCodewordsInGroup1),dataTotalCodewords=totalCodewords-dataTotalCodewords,ecTotalBlocks=ECCode.getBlocksCount(version,totalCodewordsInGroup1),blocksInGroup1=ecTotalBlocks-totalCodewords%ecTotalBlocks,totalCodewordsInGroup1=Math.floor(totalCodewords/ecTotalBlocks),dataCodewordsInGroup1=Math.floor(dataTotalCodewords/ecTotalBlocks),dataCodewordsInGroup2=dataCodewordsInGroup1+1,ecCount=totalCodewordsInGroup1-dataCodewordsInGroup1,rs=new ReedSolomonEncoder(ecCount),offset=0,dcData=new Array(ecTotalBlocks),ecData=new Array(ecTotalBlocks),maxDataSize=0,buffer=BufferUtil.from(bitBuffer.buffer),b=0;b<ecTotalBlocks;b++){var dataSize=b<blocksInGroup1?dataCodewordsInGroup1:dataCodewordsInGroup2;dcData[b]=buffer.slice(offset,offset+dataSize),ecData[b]=rs.encode(dcData[b]),offset+=dataSize,maxDataSize=Math.max(maxDataSize,dataSize)}var i,r,data=BufferUtil.alloc(totalCodewords),index=0;for(i=0;i<maxDataSize;i++)for(r=0;r<ecTotalBlocks;r++)i<dcData[r].length&&(data[index++]=dcData[r][i]);for(i=0;i<ecCount;i++)for(r=0;r<ecTotalBlocks;r++)data[index++]=ecData[r][i];return data}(buffer,version,errorCorrectionLevel)}function createSymbol(modules,version,errorCorrectionLevel,maskPattern){var segments;if(isArray(modules))segments=Segments.fromArray(modules);else{if("string"!=typeof modules)throw new Error("Invalid data");var rawSegments,dataBits=version;dataBits||(rawSegments=Segments.rawSplit(modules),dataBits=Version.getBestVersionForData(rawSegments,errorCorrectionLevel)),segments=Segments.fromString(modules,dataBits||40)}modules=Version.getBestVersionForData(segments,errorCorrectionLevel);if(!modules)throw new Error("The amount of data is too big to be stored in a QR Code");if(version){if(version<modules)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+modules+".\n")}else version=modules;dataBits=createData(version,errorCorrectionLevel,segments),modules=Utils.getSymbolSize(version),modules=new BitMatrix(modules);return function(matrix,version){for(var size=matrix.size,pos=FinderPattern.getPositions(version),i=0;i<pos.length;i++)for(var row=pos[i][0],col=pos[i][1],r=-1;r<=7;r++)if(!(row+r<=-1||size<=row+r))for(var c=-1;c<=7;c++)col+c<=-1||size<=col+c||(0<=r&&r<=6&&(0===c||6===c)||0<=c&&c<=6&&(0===r||6===r)||2<=r&&r<=4&&2<=c&&c<=4?matrix.set(row+r,col+c,!0,!0):matrix.set(row+r,col+c,!1,!0))}(modules,version),function(matrix){for(var size=matrix.size,r=8;r<size-8;r++){var value=r%2==0;matrix.set(r,6,value,!0),matrix.set(6,r,value,!0)}}(modules),function(matrix,version){for(var pos=AlignmentPattern.getPositions(version),i=0;i<pos.length;i++)for(var row=pos[i][0],col=pos[i][1],r=-2;r<=2;r++)for(var c=-2;c<=2;c++)-2===r||2===r||-2===c||2===c||0===r&&0===c?matrix.set(row+r,col+c,!0,!0):matrix.set(row+r,col+c,!1,!0)}(modules,version),setupFormatInfo(modules,errorCorrectionLevel,0),7<=version&&function(matrix,version){for(var row,col,mod,size=matrix.size,bits=Version.getEncodedBits(version),i=0;i<18;i++)row=Math.floor(i/3),matrix.set(row,col=i%3+size-8-3,mod=1==(bits>>i&1),!0),matrix.set(col,row,mod,!0)}(modules,version),function(matrix,data){for(var size=matrix.size,inc=-1,row=size-1,bitIndex=7,byteIndex=0,col=size-1;0<col;col-=2)for(6===col&&col--;;){for(var dark,c=0;c<2;c++)matrix.isReserved(row,col-c)||(dark=!1,byteIndex<data.length&&(dark=1==(data[byteIndex]>>>bitIndex&1)),matrix.set(row,col-c,dark),-1===--bitIndex&&(byteIndex++,bitIndex=7));if((row+=inc)<0||size<=row){row-=inc,inc=-inc;break}}}(modules,dataBits),isNaN(maskPattern)&&(maskPattern=MaskPattern.getBestMask(modules,setupFormatInfo.bind(null,modules,errorCorrectionLevel))),MaskPattern.applyMask(maskPattern,modules),setupFormatInfo(modules,errorCorrectionLevel,maskPattern),{modules:modules,version:version,errorCorrectionLevel:errorCorrectionLevel,maskPattern:maskPattern,segments:segments}}exports.create=function(data,options){if(void 0===data||""===data)throw new Error("No input text");var version,mask,errorCorrectionLevel=ECLevel.M;return void 0!==options&&(errorCorrectionLevel=ECLevel.from(options.errorCorrectionLevel,ECLevel.M),version=Version.from(options.version),mask=MaskPattern.from(options.maskPattern),options.toSJISFunc&&Utils.setToSJISFunction(options.toSJISFunc)),createSymbol(data,version,errorCorrectionLevel,mask)}},{"../utils/buffer":280,"./alignment-pattern":255,"./bit-buffer":257,"./bit-matrix":258,"./error-correction-code":260,"./error-correction-level":261,"./finder-pattern":262,"./format-info":263,"./mask-pattern":266,"./mode":267,"./reed-solomon-encoder":271,"./segments":273,"./utils":274,"./version":276,isarray:206}],271:[function(require,module,exports){var BufferUtil=require("../utils/buffer"),Polynomial=require("./polynomial"),Buffer=require("buffer").Buffer;function ReedSolomonEncoder(degree){this.genPoly=void 0,this.degree=degree,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder.prototype.initialize=function(degree){this.degree=degree,this.genPoly=Polynomial.generateECPolynomial(this.degree)},ReedSolomonEncoder.prototype.encode=function(start){if(!this.genPoly)throw new Error("Encoder not initialized");var remainder=BufferUtil.alloc(this.degree),buff=Buffer.concat([start,remainder],start.length+this.degree),remainder=Polynomial.mod(buff,this.genPoly),start=this.degree-remainder.length;if(0<start){buff=BufferUtil.alloc(this.degree);return remainder.copy(buff,start),buff}return remainder},module.exports=ReedSolomonEncoder},{"../utils/buffer":280,"./polynomial":269,buffer:93}],272:[function(require,module,exports){var kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+(kanji=kanji.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";exports.KANJI=new RegExp(kanji,"g"),exports.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),exports.BYTE=new RegExp(byte,"g"),exports.NUMERIC=new RegExp("[0-9]+","g"),exports.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^[0-9]+$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");exports.testKanji=function(str){return TEST_KANJI.test(str)},exports.testNumeric=function(str){return TEST_NUMERIC.test(str)},exports.testAlphanumeric=function(str){return TEST_ALPHANUMERIC.test(str)}},{}],273:[function(require,module,exports){var Mode=require("./mode"),NumericData=require("./numeric-data"),AlphanumericData=require("./alphanumeric-data"),ByteData=require("./byte-data"),KanjiData=require("./kanji-data"),Regex=require("./regex"),Utils=require("./utils"),dijkstra=require("dijkstrajs");function getStringByteLength(str){return unescape(encodeURIComponent(str)).length}function getSegments(regex,mode,str){for(var result,segments=[];null!==(result=regex.exec(str));)segments.push({data:result[0],index:result.index,mode:mode,length:result[0].length});return segments}function getSegmentsFromString(kanjiSegs){var byteSegs,numSegs=getSegments(Regex.NUMERIC,Mode.NUMERIC,kanjiSegs),alphaNumSegs=getSegments(Regex.ALPHANUMERIC,Mode.ALPHANUMERIC,kanjiSegs),kanjiSegs=Utils.isKanjiModeEnabled()?(byteSegs=getSegments(Regex.BYTE,Mode.BYTE,kanjiSegs),getSegments(Regex.KANJI,Mode.KANJI,kanjiSegs)):(byteSegs=getSegments(Regex.BYTE_KANJI,Mode.BYTE,kanjiSegs),[]);return numSegs.concat(alphaNumSegs,byteSegs,kanjiSegs).sort(function(s1,s2){return s1.index-s2.index}).map(function(obj){return{data:obj.data,mode:obj.mode,length:obj.length}})}function getSegmentBitsLength(length,mode){switch(mode){case Mode.NUMERIC:return NumericData.getBitsLength(length);case Mode.ALPHANUMERIC:return AlphanumericData.getBitsLength(length);case Mode.KANJI:return KanjiData.getBitsLength(length);case Mode.BYTE:return ByteData.getBitsLength(length)}}function buildSingleSegment(data,mode){var bestMode=Mode.getBestModeForData(data),mode=Mode.from(mode,bestMode);if(mode!==Mode.BYTE&&mode.bit<bestMode.bit)throw new Error('"'+data+'" cannot be encoded with mode '+Mode.toString(mode)+".\n Suggested mode is: "+Mode.toString(bestMode));switch(mode=mode===Mode.KANJI&&!Utils.isKanjiModeEnabled()?Mode.BYTE:mode){case Mode.NUMERIC:return new NumericData(data);case Mode.ALPHANUMERIC:return new AlphanumericData(data);case Mode.KANJI:return new KanjiData(data);case Mode.BYTE:return new ByteData(data)}}exports.fromArray=function(array){return array.reduce(function(acc,seg){return"string"==typeof seg?acc.push(buildSingleSegment(seg,null)):seg.data&&acc.push(buildSingleSegment(seg.data,seg.mode)),acc},[])},exports.fromString=function(data,version){for(var graph=function(nodes,version){for(var table={},graph={start:{}},prevNodeIds=["start"],i=0;i<nodes.length;i++){for(var nodeGroup=nodes[i],currentNodeIds=[],j=0;j<nodeGroup.length;j++){var node=nodeGroup[j],key=""+i+j;currentNodeIds.push(key),table[key]={node:node,lastCount:0},graph[key]={};for(var n=0;n<prevNodeIds.length;n++){var prevNodeId=prevNodeIds[n];table[prevNodeId]&&table[prevNodeId].node.mode===node.mode?(graph[prevNodeId][key]=getSegmentBitsLength(table[prevNodeId].lastCount+node.length,node.mode)-getSegmentBitsLength(table[prevNodeId].lastCount,node.mode),table[prevNodeId].lastCount+=node.length):(table[prevNodeId]&&(table[prevNodeId].lastCount=node.length),graph[prevNodeId][key]=getSegmentBitsLength(node.length,node.mode)+4+Mode.getCharCountIndicator(node.mode,version))}}prevNodeIds=currentNodeIds}for(n=0;n<prevNodeIds.length;n++)graph[prevNodeIds[n]].end=0;return{map:graph,table:table}}(function(segs){for(var nodes=[],i=0;i<segs.length;i++){var seg=segs[i];switch(seg.mode){case Mode.NUMERIC:nodes.push([seg,{data:seg.data,mode:Mode.ALPHANUMERIC,length:seg.length},{data:seg.data,mode:Mode.BYTE,length:seg.length}]);break;case Mode.ALPHANUMERIC:nodes.push([seg,{data:seg.data,mode:Mode.BYTE,length:seg.length}]);break;case Mode.KANJI:nodes.push([seg,{data:seg.data,mode:Mode.BYTE,length:getStringByteLength(seg.data)}]);break;case Mode.BYTE:nodes.push([{data:seg.data,mode:Mode.BYTE,length:getStringByteLength(seg.data)}])}}return nodes}(getSegmentsFromString(data,Utils.isKanjiModeEnabled())),version),path=dijkstra.find_path(graph.map,"start","end"),optimizedSegs=[],i=1;i<path.length-1;i++)optimizedSegs.push(graph.table[path[i]].node);return exports.fromArray(function(segs){return segs.reduce(function(acc,curr){var prevSeg=0<=acc.length-1?acc[acc.length-1]:null;return prevSeg&&prevSeg.mode===curr.mode?acc[acc.length-1].data+=curr.data:acc.push(curr),acc},[])}(optimizedSegs))},exports.rawSplit=function(data){return exports.fromArray(getSegmentsFromString(data,Utils.isKanjiModeEnabled()))}},{"./alphanumeric-data":256,"./byte-data":259,"./kanji-data":265,"./mode":267,"./numeric-data":268,"./regex":272,"./utils":274,dijkstrajs:142}],274:[function(require,module,exports){var toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];exports.getSymbolSize=function(version){if(!version)throw new Error('"version" cannot be null or undefined');if(version<1||40<version)throw new Error('"version" should be in range from 1 to 40');return 4*version+17},exports.getSymbolTotalCodewords=function(version){return CODEWORDS_COUNT[version]},exports.getBCHDigit=function(data){for(var digit=0;0!==data;)digit++,data>>>=1;return digit},exports.setToSJISFunction=function(f){if("function"!=typeof f)throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=f},exports.isKanjiModeEnabled=function(){return void 0!==toSJISFunction},exports.toSJIS=function(kanji){return toSJISFunction(kanji)}},{}],275:[function(require,module,exports){exports.isValid=function(version){return!isNaN(version)&&1<=version&&version<=40}},{}],276:[function(require,module,exports){var Utils=require("./utils"),ECCode=require("./error-correction-code"),ECLevel=require("./error-correction-level"),Mode=require("./mode"),VersionCheck=require("./version-check"),isArray=require("isarray"),G18_BCH=Utils.getBCHDigit(7973);function getReservedBitsCount(mode,version){return Mode.getCharCountIndicator(mode,version)+4}function getBestVersionForMixedData(segments,errorCorrectionLevel){for(var currentVersion=1;currentVersion<=40;currentVersion++)if(function(segments,version){var totalBits=0;return segments.forEach(function(data){var reservedBits=getReservedBitsCount(data.mode,version);totalBits+=reservedBits+data.getBitsLength()}),totalBits}(segments,currentVersion)<=exports.getCapacity(currentVersion,errorCorrectionLevel,Mode.MIXED))return currentVersion}exports.from=function(value,defaultValue){return VersionCheck.isValid(value)?parseInt(value,10):defaultValue},exports.getCapacity=function(version,dataTotalCodewordsBits,mode){if(!VersionCheck.isValid(version))throw new Error("Invalid QR Code version");void 0===mode&&(mode=Mode.BYTE);dataTotalCodewordsBits=8*(Utils.getSymbolTotalCodewords(version)-ECCode.getTotalCodewordsCount(version,dataTotalCodewordsBits));if(mode===Mode.MIXED)return dataTotalCodewordsBits;var usableBits=dataTotalCodewordsBits-getReservedBitsCount(mode,version);switch(mode){case Mode.NUMERIC:return Math.floor(usableBits/10*3);case Mode.ALPHANUMERIC:return Math.floor(usableBits/11*2);case Mode.KANJI:return Math.floor(usableBits/13);default:Mode.BYTE;return Math.floor(usableBits/8)}},exports.getBestVersionForData=function(data,ecl){var seg,ecl=ECLevel.from(ecl,ECLevel.M);if(isArray(data)){if(1<data.length)return getBestVersionForMixedData(data,ecl);if(0===data.length)return 1;seg=data[0]}else seg=data;return function(mode,length,errorCorrectionLevel){for(var currentVersion=1;currentVersion<=40;currentVersion++)if(length<=exports.getCapacity(currentVersion,errorCorrectionLevel,mode))return currentVersion}(seg.mode,seg.getLength(),ecl)},exports.getEncodedBits=function(version){if(!VersionCheck.isValid(version)||version<7)throw new Error("Invalid QR Code version");for(var d=version<<12;0<=Utils.getBCHDigit(d)-G18_BCH;)d^=7973<<Utils.getBCHDigit(d)-G18_BCH;return version<<12|d}},{"./error-correction-code":260,"./error-correction-level":261,"./mode":267,"./utils":274,"./version-check":275,isarray:206}],277:[function(require,module,exports){var Utils=require("./utils");exports.render=function(qrData,image,ctx){var canvasEl=image;void 0!==(opts=ctx)||image&&image.getContext||(opts=image,image=void 0),image||(canvasEl=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}());var opts=Utils.getOptions(opts),size=Utils.getImageWidth(qrData.modules.size,opts),ctx=canvasEl.getContext("2d"),image=ctx.createImageData(size,size);return Utils.qrToImageData(image.data,qrData,opts),function(ctx,canvas,size){ctx.clearRect(0,0,canvas.width,canvas.height),canvas.style||(canvas.style={}),canvas.height=size,canvas.width=size,canvas.style.height=size+"px",canvas.style.width=size+"px"}(ctx,canvasEl,size),ctx.putImageData(image,0,0),canvasEl},exports.renderToDataURL=function(canvasEl,type,rendererOpts){void 0!==(rendererOpts=rendererOpts)||type&&type.getContext||(rendererOpts=type,type=void 0);rendererOpts=rendererOpts||{},canvasEl=exports.render(canvasEl,type,rendererOpts),type=rendererOpts.type||"image/png",rendererOpts=rendererOpts.rendererOpts||{};return canvasEl.toDataURL(type,rendererOpts.quality)}},{"./utils":279}],278:[function(require,module,exports){var Utils=require("./utils");function getColorAttrib(str,attrib){var alpha=str.a/255,str=attrib+'="'+str.hex+'"';return alpha<1?str+" "+attrib+'-opacity="'+alpha.toFixed(2).slice(1)+'"':str}function svgCmd(cmd,str,y){str=cmd+str;return void 0!==y&&(str+=" "+y),str}exports.render=function(bg,qrcodesize,cb){var opts=Utils.getOptions(qrcodesize),svgTag=bg.modules.size,data=bg.modules.data,qrcodesize=svgTag+2*opts.margin,bg=opts.color.light.a?"<path "+getColorAttrib(opts.color.light,"fill")+' d="M0 0h'+qrcodesize+"v"+qrcodesize+'H0z"/>':"",svgTag="<path "+getColorAttrib(opts.color.dark,"stroke")+' d="'+function(data,size,margin){for(var path="",moveBy=0,newRow=!1,lineLength=0,i=0;i<data.length;i++){var col=Math.floor(i%size),row=Math.floor(i/size);col||newRow||(newRow=!0),data[i]?(lineLength++,0<i&&0<col&&data[i-1]||(path+=newRow?svgCmd("M",col+margin,.5+row+margin):svgCmd("m",moveBy,0),moveBy=0,newRow=!1),col+1<size&&data[i+1]||(path+=svgCmd("h",lineLength),lineLength=0)):moveBy++}return path}(data,svgTag,opts.margin)+'"/>',svgTag='<svg xmlns="http://www.w3.org/2000/svg" '+(opts.width?'width="'+opts.width+'" height="'+opts.width+'" ':"")+('viewBox="0 0 '+qrcodesize+" "+qrcodesize+'"')+' shape-rendering="crispEdges">'+bg+svgTag+"</svg>\n";return"function"==typeof cb&&cb(null,svgTag),svgTag}},{"./utils":279}],279:[function(require,module,exports){function hex2rgba(hexValue){if("string"!=typeof(hexValue="number"==typeof hexValue?hexValue.toString():hexValue))throw new Error("Color should be defined as hex string");var hexCode=hexValue.slice().replace("#","").split("");if(hexCode.length<3||5===hexCode.length||8<hexCode.length)throw new Error("Invalid hex color: "+hexValue);6===(hexCode=3===hexCode.length||4===hexCode.length?Array.prototype.concat.apply([],hexCode.map(function(c){return[c,c]})):hexCode).length&&hexCode.push("F","F");hexValue=parseInt(hexCode.join(""),16);return{r:hexValue>>24&255,g:hexValue>>16&255,b:hexValue>>8&255,a:255&hexValue,hex:"#"+hexCode.slice(0,6).join("")}}exports.getOptions=function(options){(options=options||{}).color||(options.color={});var margin=void 0===options.margin||null===options.margin||options.margin<0?4:options.margin,width=options.width&&21<=options.width?options.width:void 0,scale=options.scale||4;return{width:width,scale:width?4:scale,margin:margin,color:{dark:hex2rgba(options.color.dark||"#000000ff"),light:hex2rgba(options.color.light||"#ffffffff")},type:options.type,rendererOpts:options.rendererOpts||{}}},exports.getScale=function(qrSize,opts){return opts.width&&opts.width>=qrSize+2*opts.margin?opts.width/(qrSize+2*opts.margin):opts.scale},exports.getImageWidth=function(qrSize,opts){var scale=exports.getScale(qrSize,opts);return Math.floor((qrSize+2*opts.margin)*scale)},exports.qrToImageData=function(imgData,qr,opts){for(var size=qr.modules.size,data=qr.modules.data,scale=exports.getScale(size,opts),symbolSize=Math.floor((size+2*opts.margin)*scale),scaledMargin=opts.margin*scale,palette=[opts.color.light,opts.color.dark],i=0;i<symbolSize;i++)for(var j=0;j<symbolSize;j++){var posDst=4*(i*symbolSize+j),pxColor=opts.color.light;scaledMargin<=i&&scaledMargin<=j&&i<symbolSize-scaledMargin&&j<symbolSize-scaledMargin&&(pxColor=palette[data[Math.floor((i-scaledMargin)/scale)*size+Math.floor((j-scaledMargin)/scale)]?1:0]),imgData[posDst++]=pxColor.r,imgData[posDst++]=pxColor.g,imgData[posDst++]=pxColor.b,imgData[posDst]=pxColor.a}}},{}],280:[function(require,module,exports){!function(Buffer){!function(){"use strict";var isArray=require("isarray");var K_MAX_LENGTH=(Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}())?2147483647:1073741823;function Buffer(arg,offset,length){return Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer?"number"==typeof arg?allocUnsafe(this,arg):function(that,value,offset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer)return function(that,array,byteOffset,buf){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(buf||0))throw new RangeError("'length' is out of bounds");buf=void 0===byteOffset&&void 0===buf?new Uint8Array(array):void 0===buf?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,buf);Buffer.TYPED_ARRAY_SUPPORT?buf.__proto__=Buffer.prototype:buf=fromArrayLike(that,buf);return buf}(that,value,offset,length);return("string"!=typeof value?function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(that,len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||function(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}:function(buf,actual){var length=0|byteLength(actual),buf=createBuffer(buf,length),actual=buf.write(actual);actual!==length&&(buf=buf.slice(0,actual));return buf})(that,value)}(this,arg,offset,length):new Buffer(arg,offset,length)}function checked(length){if(K_MAX_LENGTH<=length)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function createBuffer(that,length){var buf;return Buffer.TYPED_ARRAY_SUPPORT?(buf=new Uint8Array(length)).__proto__=Buffer.prototype:(buf=null===(buf=that)?new Buffer(length):buf).length=length,buf}function allocUnsafe(that,size){var buf=createBuffer(that,size<0?0:0|checked(size));if(!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)buf[i]=0;return buf}function fromArrayLike(that,array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(that,length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(55295<(codePoint=string.charCodeAt(i))&&codePoint<57344){if(!leadSurrogate){if(56319<codePoint){-1<(units-=3)&&bytes.push(239,191,189);continue}if(i+1===length){-1<(units-=3)&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){-1<(units-=3)&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&-1<(units-=3)&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if(--units<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function byteLength(string){return Buffer.isBuffer(string)?string.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer)?string.byteLength:0===(string="string"!=typeof string?""+string:string).length?0:utf8ToBytes(string).length}function utf8Write(buf,string,offset,length){return function(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}(utf8ToBytes(string,buf.length-offset),buf,offset,length)}Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),Buffer.prototype.write=function(string,offset,length){void 0===offset||void 0===length&&"string"==typeof offset?(length=this.length,offset=0):isFinite(offset)&&(offset|=0,isFinite(length)?length|=0:length=void 0);var remaining=this.length-offset;if((void 0===length||remaining<length)&&(length=remaining),0<string.length&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,string,offset,length)},Buffer.prototype.slice=function(start,end){var len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):len<start&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):len<end&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else for(var sliceLen=end-start,newBuf=new Buffer(sliceLen,void 0),i=0;i<sliceLen;++i)newBuf[i]=this[i+start];return newBuf},Buffer.prototype.copy=function(target,targetStart,start,end){if(start=start||0,end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),(end=0<end&&end<start?start:end)===start)return 0;if(0===target.length||0===this.length)return 0;if((targetStart=targetStart||0)<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length);var i,len=(end=target.length-targetStart<end-start?target.length-targetStart+start:end)-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;0<=i;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end){var code;if("string"==typeof val?("string"==typeof start?(start=0,end=this.length):"string"==typeof end&&(end=this.length),1!==val.length||(code=val.charCodeAt(0))<256&&(val=code)):"number"==typeof val&&(val&=255),start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;if(start>>>=0,end=void 0===end?this.length:end>>>0,"number"==typeof(val=val||0))for(i=start;i<end;++i)this[i]=val;else for(var bytes=Buffer.isBuffer(val)?val:new Buffer(val),len=bytes.length,i=0;i<end-start;++i)this[i+start]=bytes[i%len];return this},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return createBuffer(null,0);if(void 0===length)for(i=length=0;i<list.length;++i)length+=list[i].length;for(var buffer=allocUnsafe(null,length),pos=0,i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},module.exports.alloc=function(buffer){buffer=new Buffer(buffer);return buffer.fill(0),buffer},module.exports.from=function(data){return new Buffer(data)}}.call(this)}.call(this,require("buffer").Buffer)},{buffer:93,isarray:206}],281:[function(require,module,exports){"use strict";module.exports=function(qs,maxKeys,eq,options){eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(maxKeys=maxKeys||"&");maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;0<maxKeys&&maxKeys<len&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,k=qs[i].replace(regexp,"%20"),v=k.indexOf(eq),v=0<=v?(kstr=k.substr(0,v),k.substr(v+1)):(kstr=k,""),k=decodeURIComponent(kstr),v=decodeURIComponent(v);!function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}(obj,k)?obj[k]=v:isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],282:[function(require,module,exports){"use strict";function stringifyPrimitive(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}}module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=","object"==typeof(obj=null===obj?void 0:obj)?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var key,res=[];for(key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],283:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":281,"./encode":282}],284:[function(require,module,exports){!function(process,global){!function(){"use strict";var Buffer=require("safe-buffer").Buffer,crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=function(size,cb){if(4294967295<size)throw new RangeError("requested too many random bytes");var bytes=Buffer.allocUnsafe(size);if(0<size)if(65536<size)for(var generated=0;generated<size;generated+=65536)crypto.getRandomValues(bytes.slice(generated,generated+65536));else crypto.getRandomValues(bytes);return"function"!=typeof cb?bytes:process.nextTick(function(){cb(null,bytes)})}:module.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:243,"safe-buffer":288}],285:[function(require,module,exports){!function(process,global){!function(){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var safeBuffer=require("safe-buffer"),randombytes=require("randombytes"),Buffer=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto=global.crypto||global.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(offset,length){if("number"!=typeof offset||offset!=offset)throw new TypeError("offset must be a number");if(kMaxUint32<offset||offset<0)throw new TypeError("offset must be a uint32");if(kBufferMaxLength<offset||length<offset)throw new RangeError("offset out of range")}function assertSize(size,offset,length){if("number"!=typeof size||size!=size)throw new TypeError("size must be a number");if(kMaxUint32<size||size<0)throw new TypeError("size must be a uint32");if(length<size+offset||kBufferMaxLength<size)throw new RangeError("buffer too small")}function actualFill(buf,offset,size,cb){if(process.browser){var uint=buf.buffer,uint=new Uint8Array(uint,offset,size);return crypto.getRandomValues(uint),cb?void process.nextTick(function(){cb(null,buf)}):buf}if(!cb)return randombytes(size).copy(buf,offset),buf;randombytes(size,function(err,bytes){return err?cb(err):(bytes.copy(buf,offset),void cb(null,buf))})}crypto&&crypto.getRandomValues||!process.browser?(exports.randomFill=function(buf,offset,size,cb){if(!(Buffer.isBuffer(buf)||buf instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof offset)cb=offset,offset=0,size=buf.length;else if("function"==typeof size)cb=size,size=buf.length-offset;else if("function"!=typeof cb)throw new TypeError('"cb" argument must be a function');return assertOffset(offset,buf.length),assertSize(size,offset,buf.length),actualFill(buf,offset,size,cb)},exports.randomFillSync=function(buf,offset,size){void 0===offset&&(offset=0);if(!(Buffer.isBuffer(buf)||buf instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');assertOffset(offset,buf.length),void 0===size&&(size=buf.length-offset);return assertSize(size,offset,buf.length),actualFill(buf,offset,size)}):(exports.randomFill=oldBrowser,exports.randomFillSync=oldBrowser)}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:243,randombytes:284,"safe-buffer":288}],286:[function(require,runtime,exports){runtime=function(exports){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,NativeIteratorPrototype="function"==typeof Symbol?Symbol:{},iteratorSymbol=NativeIteratorPrototype.iterator||"@@iterator",asyncIteratorSymbol=NativeIteratorPrototype.asyncIterator||"@@asyncIterator",toStringTagSymbol=NativeIteratorPrototype.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,generator,self,context){generator=generator&&generator.prototype instanceof Generator?generator:Generator,generator=Object.create(generator.prototype),context=new Context(context||[]);return generator._invoke=function(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var record=function maybeInvokeDelegate(delegate,context){var info=delegate.iterator[context.method];if(info===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var info=tryCatch(info,delegate.iterator,context.arg);if("throw"===info.type)return context.method="throw",context.arg=info.arg,context.delegate=null,ContinueSentinel;info=info.arg;if(!info)return context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel;{if(!info.done)return info;context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined)}context.delegate=null;return ContinueSentinel}(delegate,context);if(record){if(record===ContinueSentinel)continue;return record}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg!==ContinueSentinel)return{value:record.arg,done:context.done}}else"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this});NativeIteratorPrototype=Object.getPrototypeOf,NativeIteratorPrototype=NativeIteratorPrototype&&NativeIteratorPrototype(NativeIteratorPrototype(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){!function invoke(record,value,resolve,reject){record=tryCatch(generator[record],generator,value);if("throw"!==record.type){var result=record.arg;return(value=result.value)&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var next=iterable[iteratorSymbol];if(next)return next.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}return define(Gp,"constructor",GeneratorFunction.prototype=GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(ctor){ctor="function"==typeof ctor&&ctor.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this}),define(Gp,"toString",function(){return"[object Generator]"}),exports.keys=function(object){var key,keys=[];for(key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}var record=(finallyEntry=finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc?null:finallyEntry)?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var thrown,record=entry.completion;return"throw"===record.type&&(thrown=record.arg,resetTryEntry(entry)),thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}},exports}("object"==typeof runtime?runtime.exports:{});try{regeneratorRuntime=runtime}catch(accidentalStrictMode){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}},{}],287:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer,inherits=require("inherits"),HashBase=require("hash-base"),ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(x,n){return x<<n|x>>>32-n}function fn1(a,b,c,d,e,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+e|0}function fn2(a,b,c,d,e,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+e|0}function fn3(a,b,c,d,e,m,k,s){return rotl(a+((b|~c)^d)+m+k|0,s)+e|0}function fn4(a,b,c,d,e,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+e|0}function fn5(a,b,c,d,e,m,k,s){return rotl(a+(b^(c|~d))+m+k|0,s)+e|0}inherits(RIPEMD160,HashBase),RIPEMD160.prototype._update=function(){for(var words=ARRAY16,j=0;j<16;++j)words[j]=this._block.readInt32LE(4*j);for(var al=0|this._a,bl=0|this._b,cl=0|this._c,dl=0|this._d,el=0|this._e,ar=0|this._a,br=0|this._b,cr=0|this._c,dr=0|this._d,er=0|this._e,i=0;i<80;i+=1)var tl,tr=i<16?(tl=fn1(al,bl,cl,dl,el,words[zl[i]],hl[0],sl[i]),fn5(ar,br,cr,dr,er,words[zr[i]],hr[0],sr[i])):i<32?(tl=fn2(al,bl,cl,dl,el,words[zl[i]],hl[1],sl[i]),fn4(ar,br,cr,dr,er,words[zr[i]],hr[1],sr[i])):i<48?(tl=fn3(al,bl,cl,dl,el,words[zl[i]],hl[2],sl[i]),fn3(ar,br,cr,dr,er,words[zr[i]],hr[2],sr[i])):i<64?(tl=fn4(al,bl,cl,dl,el,words[zl[i]],hl[3],sl[i]),fn2(ar,br,cr,dr,er,words[zr[i]],hr[3],sr[i])):(tl=fn5(al,bl,cl,dl,el,words[zl[i]],hl[4],sl[i]),fn1(ar,br,cr,dr,er,words[zr[i]],hr[4],sr[i])),al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=tl,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=tr;var t=this._b+cl+dr|0;this._b=this._c+dl+er|0,this._c=this._d+el+ar|0,this._d=this._e+al+br|0,this._e=this._a+bl+cr|0,this._a=t},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.alloc?Buffer.alloc(20):new Buffer(20);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer.writeInt32LE(this._e,16),buffer},module.exports=RIPEMD160},{buffer:93,"hash-base":171,inherits:201}],288:[function(require,module,exports){var buffer=require("buffer"),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(buf,fill,encoding){if("number"!=typeof buf)throw new TypeError("Argument must be a number");buf=Buffer(buf);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:93}],289:[function(require,module,exports){!function(process){!function(){"use strict";var key,buffer=require("buffer"),Buffer=buffer.Buffer,safer={};for(key in buffer)buffer.hasOwnProperty(key)&&"SlowBuffer"!==key&&"Buffer"!==key&&(safer[key]=buffer[key]);var Safer=safer.Buffer={};for(key in Buffer)Buffer.hasOwnProperty(key)&&"allocUnsafe"!==key&&"allocUnsafeSlow"!==key&&(Safer[key]=Buffer[key]);if(safer.Buffer.prototype=Buffer.prototype,Safer.from&&Safer.from!==Uint8Array.from||(Safer.from=function(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof value);if(value&&void 0===value.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);return Buffer(value,encodingOrOffset,length)}),Safer.alloc||(Safer.alloc=function(buf,fill,encoding){if("number"!=typeof buf)throw new TypeError('The "size" argument must be of type number. Received type '+typeof buf);if(buf<0||2*(1<<30)<=buf)throw new RangeError('The value "'+buf+'" is invalid for option "size"');buf=Buffer(buf);return fill&&0!==fill.length?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf}),!safer.kStringMaxLength)try{safer.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength)),module.exports=safer}.call(this)}.call(this,require("_process"))},{_process:243,buffer:93}],290:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function Hash(blockSize,finalSize){this._block=Buffer.alloc(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(data=Buffer.from(data,enc=enc||"utf8"));for(var block=this._block,blockSize=this._blockSize,length=data.length,accum=this._len,offset=0;offset<length;){for(var assigned=accum%blockSize,remainder=Math.min(length-offset,blockSize-assigned),i=0;i<remainder;i++)block[assigned+i]=data[offset+i];offset+=remainder,(accum+=remainder)%blockSize==0&&this._update(block)}return this._len+=length,this},Hash.prototype.digest=function(enc){var bits=this._len%this._blockSize;this._block[bits]=128,this._block.fill(0,1+bits),bits>=this._finalSize&&(this._update(this._block),this._block.fill(0));bits=8*this._len;bits<=4294967295?this._block.writeUInt32BE(bits,this._blockSize-4):(this._block.writeUInt32BE((bits-(hash=(4294967295&bits)>>>0))/4294967296,this._blockSize-8),this._block.writeUInt32BE(hash,this._blockSize-4)),this._update(this._block);var hash=this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash},{"safe-buffer":288}],291:[function(require,module,exports){(exports=module.exports=function(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm}).sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512")},{"./sha":292,"./sha1":293,"./sha224":294,"./sha256":295,"./sha384":296,"./sha512":297}],292:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j)var t=~~(j/20),t=0|(a<<5|a>>>27)+function(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}(t,b,c,d)+e+W[j]+K[t],e=d,d=c,c=function(num){return num<<30|num>>>2}(b),b=a,a=t;this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=Buffer.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha},{"./hash":290,inherits:201,"safe-buffer":288}],293:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var num,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=(num=W[i-3]^W[i-8]^W[i-14]^W[i-16])<<1|num>>>31;for(var j=0;j<80;++j)var t=~~(j/20),t=function(num){return num<<5|num>>>27}(a)+function(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}(t,b,c,d)+e+W[j]+K[t]|0,e=d,d=c,c=function(num){return num<<30|num>>>2}(b),b=a,a=t;this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=Buffer.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1},{"./hash":290,inherits:201,"safe-buffer":288}],294:[function(require,module,exports){var inherits=require("inherits"),Sha256=require("./sha256"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,W=new Array(64);function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=Buffer.allocUnsafe(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224},{"./hash":290,"./sha256":295,inherits:201,"safe-buffer":288}],295:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var x,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=0|(((x=W[i-2])>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+W[i-7]+function(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}(W[i-15])+W[i-16];for(var j=0;j<64;++j)var T1=h+function(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}(e)+function(x,y,z){return z^x&(y^z)}(e,f,g)+K[j]+W[j]|0,T2=function(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}(a)+function(x,y,z){return x&y|z&(x|y)}(a,b,c)|0,h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0;this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=Buffer.allocUnsafe(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256},{"./hash":290,inherits:201,"safe-buffer":288}],296:[function(require,module,exports){var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var H=Buffer.allocUnsafe(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384},{"./hash":290,"./sha512":297,inherits:201,"safe-buffer":288}],297:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function getCarry(a,b){return a>>>0<b>>>0?1:0}inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;i<32;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;i<160;i+=2){var Wi16l=W[i-30],Wi16h=W[i-30+1],gamma0=function(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}(Wi16l,Wi16h),gamma0l=function(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}(Wi16h,Wi16l),gamma1=function(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}(Wi16l=W[i-4],Wi16h=W[i-4+1]),gamma1l=function(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}(Wi16h,Wi16l),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wih=(Wih=Wih+gamma1+getCarry(Wil=Wil+gamma1l|0,gamma1l)|0)+Wi16h+getCarry(Wil=Wil+Wi16l|0,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),t2l=maj(al,bl,cl),sigma0h=sigma0(ah,al),t2h=sigma0(al,ah),t1h=sigma1(eh,el),t1l=sigma1(el,eh),Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+t1l|0;t1h=(t1h=(t1h=(t1h=hh+t1h+getCarry(t1l,hl)|0)+chh+getCarry(t1l=t1l+chl|0,chl)|0)+K[j]+getCarry(t1l=t1l+Kil|0,Kil)|0)+Wih+getCarry(t1l=t1l+Wil|0,Wil)|0;t2l=t2h+t2l|0,t2h=sigma0h+majh+getCarry(t2l,t2h)|0,hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=dh+t1h+getCarry(el=dl+t1l|0,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=t1h+t2h+getCarry(al=t1l+t2l|0,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){var H=Buffer.allocUnsafe(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512},{"./hash":290,inherits:201,"safe-buffer":288}],298:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;function Stream(){EE.call(this)}require("inherits")(Stream,EE),Stream.Readable=require("readable-stream/lib/_stream_readable.js"),Stream.Writable=require("readable-stream/lib/_stream_writable.js"),Stream.Duplex=require("readable-stream/lib/_stream_duplex.js"),Stream.Transform=require("readable-stream/lib/_stream_transform.js"),Stream.PassThrough=require("readable-stream/lib/_stream_passthrough.js"),Stream.finished=require("readable-stream/lib/internal/streams/end-of-stream.js"),Stream.pipeline=require("readable-stream/lib/internal/streams/pipeline.js"),(Stream.Stream=Stream).prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:161,inherits:201,"readable-stream/lib/_stream_duplex.js":300,"readable-stream/lib/_stream_passthrough.js":301,"readable-stream/lib/_stream_readable.js":302,"readable-stream/lib/_stream_transform.js":303,"readable-stream/lib/_stream_writable.js":304,"readable-stream/lib/internal/streams/end-of-stream.js":308,"readable-stream/lib/internal/streams/pipeline.js":310}],299:[function(require,module,exports){arguments[4][76][0].apply(exports,arguments)},{dup:76}],300:[function(require,module,exports){arguments[4][77][0].apply(exports,arguments)},{"./_stream_readable":302,"./_stream_writable":304,_process:243,dup:77,inherits:201}],301:[function(require,module,exports){arguments[4][78][0].apply(exports,arguments)},{"./_stream_transform":303,dup:78,inherits:201}],302:[function(require,module,exports){arguments[4][79][0].apply(exports,arguments)},{"../errors":299,"./_stream_duplex":300,"./internal/streams/async_iterator":305,"./internal/streams/buffer_list":306,"./internal/streams/destroy":307,"./internal/streams/from":309,"./internal/streams/state":311,"./internal/streams/stream":312,_process:243,buffer:93,dup:79,events:161,inherits:201,"string_decoder/":313,util:48}],303:[function(require,module,exports){arguments[4][80][0].apply(exports,arguments)},{"../errors":299,"./_stream_duplex":300,dup:80,inherits:201}],304:[function(require,module,exports){arguments[4][81][0].apply(exports,arguments)},{"../errors":299,"./_stream_duplex":300,"./internal/streams/destroy":307,"./internal/streams/state":311,"./internal/streams/stream":312,_process:243,buffer:93,dup:81,inherits:201,"util-deprecate":317}],305:[function(require,module,exports){arguments[4][82][0].apply(exports,arguments)},{"./end-of-stream":308,_process:243,dup:82}],306:[function(require,module,exports){arguments[4][83][0].apply(exports,arguments)},{buffer:93,dup:83,util:48}],307:[function(require,module,exports){arguments[4][84][0].apply(exports,arguments)},{_process:243,dup:84}],308:[function(require,module,exports){arguments[4][85][0].apply(exports,arguments)},{"../../../errors":299,dup:85}],309:[function(require,module,exports){arguments[4][86][0].apply(exports,arguments)},{dup:86}],310:[function(require,module,exports){arguments[4][87][0].apply(exports,arguments)},{"../../../errors":299,"./end-of-stream":308,dup:87}],311:[function(require,module,exports){arguments[4][88][0].apply(exports,arguments)},{"../../../errors":299,dup:88}],312:[function(require,module,exports){arguments[4][89][0].apply(exports,arguments)},{dup:89,events:161}],313:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function normalizeEncoding(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){var nb;switch(this.encoding=normalizeEncoding(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf){return 128!=(192&buf[0])?(self.lastNeed=0,""):1<self.lastNeed&&1<buf.length?128!=(192&buf[1])?(self.lastNeed=1,""):2<self.lastNeed&&2<buf.length&&128!=(192&buf[2])?(self.lastNeed=2,""):void 0:void 0}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,c){if((buf.length-c)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",c,buf.length-1);var r=buf.toString("utf16le",c);if(r){c=r.charCodeAt(r.length-1);if(55296<=c&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}function utf16End(end){var r=end&&end.length?this.write(end):"";if(this.lastNeed){end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0==n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(r){r=r&&r.length?this.write(r):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}(exports.StringDecoder=StringDecoder).prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(r){r=r&&r.length?this.write(r):"";return this.lastNeed?r+"":r},StringDecoder.prototype.text=function(buf,i){var end=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(0<=nb)return 0<nb&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if(0<=(nb=utf8CheckByte(buf[j])))return 0<nb&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if(0<=(nb=utf8CheckByte(buf[j])))return 0<nb&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=end;end=buf.length-(end-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{"safe-buffer":288}],314:[function(require,module,exports){!function(nacl){"use strict";var gf=function(init){var i,r=new Float64Array(16);if(init)for(i=0;i<init.length;i++)r[i]=init[i];return r},randombytes=function(){throw new Error("no PRNG")},_0=new Uint8Array(16),_9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(x,i,h,l){x[i]=h>>24&255,x[i+1]=h>>16&255,x[i+2]=h>>8&255,x[i+3]=255&h,x[i+4]=l>>24&255,x[i+5]=l>>16&255,x[i+6]=l>>8&255,x[i+7]=255&l}function vn(x,xi,y,yi,n){for(var d=0,i=0;i<n;i++)d|=x[xi+i]^y[yi+i];return(1&d-1>>>8)-1}function crypto_verify_16(x,xi,y,yi){return vn(x,xi,y,yi,16)}function crypto_verify_32(x,xi,y,yi){return vn(x,xi,y,yi,32)}function crypto_core_salsa20(out,inp,k,c){!function(o,j13,j14,j15){for(var u,j0=255&j15[0]|(255&j15[1])<<8|(255&j15[2])<<16|(255&j15[3])<<24,j1=255&j14[0]|(255&j14[1])<<8|(255&j14[2])<<16|(255&j14[3])<<24,j2=255&j14[4]|(255&j14[5])<<8|(255&j14[6])<<16|(255&j14[7])<<24,j3=255&j14[8]|(255&j14[9])<<8|(255&j14[10])<<16|(255&j14[11])<<24,j4=255&j14[12]|(255&j14[13])<<8|(255&j14[14])<<16|(255&j14[15])<<24,j5=255&j15[4]|(255&j15[5])<<8|(255&j15[6])<<16|(255&j15[7])<<24,j6=255&j13[0]|(255&j13[1])<<8|(255&j13[2])<<16|(255&j13[3])<<24,j7=255&j13[4]|(255&j13[5])<<8|(255&j13[6])<<16|(255&j13[7])<<24,j8=255&j13[8]|(255&j13[9])<<8|(255&j13[10])<<16|(255&j13[11])<<24,j9=255&j13[12]|(255&j13[13])<<8|(255&j13[14])<<16|(255&j13[15])<<24,j10=255&j15[8]|(255&j15[9])<<8|(255&j15[10])<<16|(255&j15[11])<<24,j11=255&j14[16]|(255&j14[17])<<8|(255&j14[18])<<16|(255&j14[19])<<24,j12=255&j14[20]|(255&j14[21])<<8|(255&j14[22])<<16|(255&j14[23])<<24,j13=255&j14[24]|(255&j14[25])<<8|(255&j14[26])<<16|(255&j14[27])<<24,j14=255&j14[28]|(255&j14[29])<<8|(255&j14[30])<<16|(255&j14[31])<<24,j15=255&j15[12]|(255&j15[13])<<8|(255&j15[14])<<16|(255&j15[15])<<24,x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,i=0;i<20;i+=2)x0^=(u=(x12^=(u=(x8^=(u=(x4^=(u=x0+x12|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x4|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x5^=(u=(x1^=(u=(x13^=(u=(x9^=(u=x5+x1|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x9|0)<<13|u>>>19)+x13|0)<<18|u>>>14,x10^=(u=(x6^=(u=(x2^=(u=(x14^=(u=x10+x6|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x14|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x15^=(u=(x11^=(u=(x7^=(u=(x3^=(u=x15+x11|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x3|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x0^=(u=(x3^=(u=(x2^=(u=(x1^=(u=x0+x3|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x1|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x5^=(u=(x4^=(u=(x7^=(u=(x6^=(u=x5+x4|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x6|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x10^=(u=(x9^=(u=(x8^=(u=(x11^=(u=x10+x9|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x11|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x15^=(u=(x14^=(u=(x13^=(u=(x12^=(u=x15+x14|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x12|0)<<13|u>>>19)+x13|0)<<18|u>>>14;x1=x1+j1|0,x2=x2+j2|0,x3=x3+j3|0,x4=x4+j4|0,x5=x5+j5|0,x6=x6+j6|0,x7=x7+j7|0,x8=x8+j8|0,x9=x9+j9|0,x10=x10+j10|0,x11=x11+j11|0,x12=x12+j12|0,x13=x13+j13|0,x14=x14+j14|0,x15=x15+j15|0,o[0]=(x0=x0+j0|0)>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x1>>>0&255,o[5]=x1>>>8&255,o[6]=x1>>>16&255,o[7]=x1>>>24&255,o[8]=x2>>>0&255,o[9]=x2>>>8&255,o[10]=x2>>>16&255,o[11]=x2>>>24&255,o[12]=x3>>>0&255,o[13]=x3>>>8&255,o[14]=x3>>>16&255,o[15]=x3>>>24&255,o[16]=x4>>>0&255,o[17]=x4>>>8&255,o[18]=x4>>>16&255,o[19]=x4>>>24&255,o[20]=x5>>>0&255,o[21]=x5>>>8&255,o[22]=x5>>>16&255,o[23]=x5>>>24&255,o[24]=x6>>>0&255,o[25]=x6>>>8&255,o[26]=x6>>>16&255,o[27]=x6>>>24&255,o[28]=x7>>>0&255,o[29]=x7>>>8&255,o[30]=x7>>>16&255,o[31]=x7>>>24&255,o[32]=x8>>>0&255,o[33]=x8>>>8&255,o[34]=x8>>>16&255,o[35]=x8>>>24&255,o[36]=x9>>>0&255,o[37]=x9>>>8&255,o[38]=x9>>>16&255,o[39]=x9>>>24&255,o[40]=x10>>>0&255,o[41]=x10>>>8&255,o[42]=x10>>>16&255,o[43]=x10>>>24&255,o[44]=x11>>>0&255,o[45]=x11>>>8&255,o[46]=x11>>>16&255,o[47]=x11>>>24&255,o[48]=x12>>>0&255,o[49]=x12>>>8&255,o[50]=x12>>>16&255,o[51]=x12>>>24&255,o[52]=x13>>>0&255,o[53]=x13>>>8&255,o[54]=x13>>>16&255,o[55]=x13>>>24&255,o[56]=x14>>>0&255,o[57]=x14>>>8&255,o[58]=x14>>>16&255,o[59]=x14>>>24&255,o[60]=x15>>>0&255,o[61]=x15>>>8&255,o[62]=x15>>>16&255,o[63]=x15>>>24&255}(out,inp,k,c)}function crypto_core_hsalsa20(out,inp,k,c){!function(o,p,k,c){for(var u,x0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,x1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,x2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,x3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,x4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,x5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,x6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,x7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,x8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,x9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,x10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,x11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,x12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,x13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,x14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,x15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,i=0;i<20;i+=2)x0^=(u=(x12^=(u=(x8^=(u=(x4^=(u=x0+x12|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x4|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x5^=(u=(x1^=(u=(x13^=(u=(x9^=(u=x5+x1|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x9|0)<<13|u>>>19)+x13|0)<<18|u>>>14,x10^=(u=(x6^=(u=(x2^=(u=(x14^=(u=x10+x6|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x14|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x15^=(u=(x11^=(u=(x7^=(u=(x3^=(u=x15+x11|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x3|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x0^=(u=(x3^=(u=(x2^=(u=(x1^=(u=x0+x3|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x1|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x5^=(u=(x4^=(u=(x7^=(u=(x6^=(u=x5+x4|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x6|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x10^=(u=(x9^=(u=(x8^=(u=(x11^=(u=x10+x9|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x11|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x15^=(u=(x14^=(u=(x13^=(u=(x12^=(u=x15+x14|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x12|0)<<13|u>>>19)+x13|0)<<18|u>>>14;o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x5>>>0&255,o[5]=x5>>>8&255,o[6]=x5>>>16&255,o[7]=x5>>>24&255,o[8]=x10>>>0&255,o[9]=x10>>>8&255,o[10]=x10>>>16&255,o[11]=x10>>>24&255,o[12]=x15>>>0&255,o[13]=x15>>>8&255,o[14]=x15>>>16&255,o[15]=x15>>>24&255,o[16]=x6>>>0&255,o[17]=x6>>>8&255,o[18]=x6>>>16&255,o[19]=x6>>>24&255,o[20]=x7>>>0&255,o[21]=x7>>>8&255,o[22]=x7>>>16&255,o[23]=x7>>>24&255,o[24]=x8>>>0&255,o[25]=x8>>>8&255,o[26]=x8>>>16&255,o[27]=x8>>>24&255,o[28]=x9>>>0&255,o[29]=x9>>>8&255,o[30]=x9>>>16&255,o[31]=x9>>>24&255}(out,inp,k,c)}var sigma=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k){for(var u,z=new Uint8Array(16),x=new Uint8Array(64),i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;64<=b;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=m[mpos+i]^x[i];for(u=1,i=8;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64,mpos+=64}if(0<b)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=m[mpos+i]^x[i];return 0}function crypto_stream_salsa20(c,cpos,b,n,k){for(var u,z=new Uint8Array(16),x=new Uint8Array(64),i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;64<=b;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=x[i];for(u=1,i=8;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64}if(0<b)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=x[i];return 0}function crypto_stream(c,cpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20(c,cpos,d,sn,s)}function crypto_stream_xor(c,cpos,m,mpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s)}var poly1305=function(key){var t6,t7;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,t6=255&key[this.fin=0]|(255&key[1])<<8,this.r[0]=8191&t6,t7=255&key[2]|(255&key[3])<<8,this.r[1]=8191&(t6>>>13|t7<<3),t6=255&key[4]|(255&key[5])<<8,this.r[2]=7939&(t7>>>10|t6<<6),t7=255&key[6]|(255&key[7])<<8,this.r[3]=8191&(t6>>>7|t7<<9),t6=255&key[8]|(255&key[9])<<8,this.r[4]=255&(t7>>>4|t6<<12),this.r[5]=t6>>>1&8190,t7=255&key[10]|(255&key[11])<<8,this.r[6]=8191&(t6>>>14|t7<<2),t6=255&key[12]|(255&key[13])<<8,this.r[7]=8065&(t7>>>11|t6<<5),t7=255&key[14]|(255&key[15])<<8,this.r[8]=8191&(t6>>>8|t7<<8),this.r[9]=t7>>>5&127,this.pad[0]=255&key[16]|(255&key[17])<<8,this.pad[1]=255&key[18]|(255&key[19])<<8,this.pad[2]=255&key[20]|(255&key[21])<<8,this.pad[3]=255&key[22]|(255&key[23])<<8,this.pad[4]=255&key[24]|(255&key[25])<<8,this.pad[5]=255&key[26]|(255&key[27])<<8,this.pad[6]=255&key[28]|(255&key[29])<<8,this.pad[7]=255&key[30]|(255&key[31])<<8};function crypto_onetimeauth(out,outpos,m,mpos,n,s){s=new poly1305(s);return s.update(m,mpos,n),s.finish(out,outpos),0}function crypto_onetimeauth_verify(h,hpos,m,mpos,n,k){var x=new Uint8Array(16);return crypto_onetimeauth(x,0,m,mpos,n,k),crypto_verify_16(h,hpos,x,0)}function crypto_secretbox(c,m,d,n,k){var i;if(d<32)return-1;for(crypto_stream_xor(c,0,m,0,d,n,k),crypto_onetimeauth(c,16,c,32,d-32,c),i=0;i<16;i++)c[i]=0;return 0}function crypto_secretbox_open(m,c,d,n,k){var i,x=new Uint8Array(32);if(d<32)return-1;if(crypto_stream(x,0,32,n,k),0!==crypto_onetimeauth_verify(c,16,c,32,d-32,x))return-1;for(crypto_stream_xor(m,0,c,0,d,n,k),i=0;i<32;i++)m[i]=0;return 0}function set25519(r,a){for(var i=0;i<16;i++)r[i]=0|a[i]}function car25519(o){for(var v,c=1,i=0;i<16;i++)v=o[i]+c+65535,c=Math.floor(v/65536),o[i]=v-65536*c;o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){for(var t,c=~(b-1),i=0;i<16;i++)t=c&(p[i]^q[i]),p[i]^=t,q[i]^=t}function pack25519(o,n){for(var j,b,m=gf(),t=gf(),i=0;i<16;i++)t[i]=n[i];for(car25519(t),car25519(t),car25519(t),j=0;j<2;j++){for(m[0]=t[0]-65517,i=1;i<15;i++)m[i]=t[i]-65535-(m[i-1]>>16&1),m[i-1]&=65535;m[15]=t[15]-32767-(m[14]>>16&1),b=m[15]>>16&1,m[14]&=65535,sel25519(t,m,1-b)}for(i=0;i<16;i++)o[2*i]=255&t[i],o[2*i+1]=t[i]>>8}function neq25519(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return pack25519(c,a),pack25519(d,b),crypto_verify_32(c,0,d,0)}function par25519(a){var d=new Uint8Array(32);return pack25519(d,a),1&d[0]}function unpack25519(o,n){for(var i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}function A(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]+b[i]}function Z(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]-b[i]}function M(o,a,v){var t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,c=0,b0=v[0],b1=v[1],b2=v[2],b3=v[3],b4=v[4],b5=v[5],b6=v[6],b7=v[7],b8=v[8],b9=v[9],b10=v[10],b11=v[11],b12=v[12],b13=v[13],b14=v[14],b15=v[15],v=a[0];t0+=v*b0,t1+=v*b1,t2+=v*b2,t3+=v*b3,t4+=v*b4,t5+=v*b5,t6+=v*b6,t7+=v*b7,t8+=v*b8,t9+=v*b9,t10+=v*b10,t11+=v*b11,t12+=v*b12,t13+=v*b13,t14+=v*b14,t15+=v*b15,t1+=(v=a[1])*b0,t2+=v*b1,t3+=v*b2,t4+=v*b3,t5+=v*b4,t6+=v*b5,t7+=v*b6,t8+=v*b7,t9+=v*b8,t10+=v*b9,t11+=v*b10,t12+=v*b11,t13+=v*b12,t14+=v*b13,t15+=v*b14,t16+=v*b15,t2+=(v=a[2])*b0,t3+=v*b1,t4+=v*b2,t5+=v*b3,t6+=v*b4,t7+=v*b5,t8+=v*b6,t9+=v*b7,t10+=v*b8,t11+=v*b9,t12+=v*b10,t13+=v*b11,t14+=v*b12,t15+=v*b13,t16+=v*b14,t17+=v*b15,t3+=(v=a[3])*b0,t4+=v*b1,t5+=v*b2,t6+=v*b3,t7+=v*b4,t8+=v*b5,t9+=v*b6,t10+=v*b7,t11+=v*b8,t12+=v*b9,t13+=v*b10,t14+=v*b11,t15+=v*b12,t16+=v*b13,t17+=v*b14,t18+=v*b15,t4+=(v=a[4])*b0,t5+=v*b1,t6+=v*b2,t7+=v*b3,t8+=v*b4,t9+=v*b5,t10+=v*b6,t11+=v*b7,t12+=v*b8,t13+=v*b9,t14+=v*b10,t15+=v*b11,t16+=v*b12,t17+=v*b13,t18+=v*b14,t19+=v*b15,t5+=(v=a[5])*b0,t6+=v*b1,t7+=v*b2,t8+=v*b3,t9+=v*b4,t10+=v*b5,t11+=v*b6,t12+=v*b7,t13+=v*b8,t14+=v*b9,t15+=v*b10,t16+=v*b11,t17+=v*b12,t18+=v*b13,t19+=v*b14,t20+=v*b15,t6+=(v=a[6])*b0,t7+=v*b1,t8+=v*b2,t9+=v*b3,t10+=v*b4,t11+=v*b5,t12+=v*b6,t13+=v*b7,t14+=v*b8,t15+=v*b9,t16+=v*b10,t17+=v*b11,t18+=v*b12,t19+=v*b13,t20+=v*b14,t21+=v*b15,t7+=(v=a[7])*b0,t8+=v*b1,t9+=v*b2,t10+=v*b3,t11+=v*b4,t12+=v*b5,t13+=v*b6,t14+=v*b7,t15+=v*b8,t16+=v*b9,t17+=v*b10,t18+=v*b11,t19+=v*b12,t20+=v*b13,t21+=v*b14,t22+=v*b15,t8+=(v=a[8])*b0,t9+=v*b1,t10+=v*b2,t11+=v*b3,t12+=v*b4,t13+=v*b5,t14+=v*b6,t15+=v*b7,t16+=v*b8,t17+=v*b9,t18+=v*b10,t19+=v*b11,t20+=v*b12,t21+=v*b13,t22+=v*b14,t23+=v*b15,t9+=(v=a[9])*b0,t10+=v*b1,t11+=v*b2,t12+=v*b3,t13+=v*b4,t14+=v*b5,t15+=v*b6,t16+=v*b7,t17+=v*b8,t18+=v*b9,t19+=v*b10,t20+=v*b11,t21+=v*b12,t22+=v*b13,t23+=v*b14,t24+=v*b15,t10+=(v=a[10])*b0,t11+=v*b1,t12+=v*b2,t13+=v*b3,t14+=v*b4,t15+=v*b5,t16+=v*b6,t17+=v*b7,t18+=v*b8,t19+=v*b9,t20+=v*b10,t21+=v*b11,t22+=v*b12,t23+=v*b13,t24+=v*b14,t25+=v*b15,t11+=(v=a[11])*b0,t12+=v*b1,t13+=v*b2,t14+=v*b3,t15+=v*b4,t16+=v*b5,t17+=v*b6,t18+=v*b7,t19+=v*b8,t20+=v*b9,t21+=v*b10,t22+=v*b11,t23+=v*b12,t24+=v*b13,t25+=v*b14,t26+=v*b15,t12+=(v=a[12])*b0,t13+=v*b1,t14+=v*b2,t15+=v*b3,t16+=v*b4,t17+=v*b5,t18+=v*b6,t19+=v*b7,t20+=v*b8,t21+=v*b9,t22+=v*b10,t23+=v*b11,t24+=v*b12,t25+=v*b13,t26+=v*b14,t27+=v*b15,t13+=(v=a[13])*b0,t14+=v*b1,t15+=v*b2,t16+=v*b3,t17+=v*b4,t18+=v*b5,t19+=v*b6,t20+=v*b7,t21+=v*b8,t22+=v*b9,t23+=v*b10,t24+=v*b11,t25+=v*b12,t26+=v*b13,t27+=v*b14,t28+=v*b15,t14+=(v=a[14])*b0,t15+=v*b1,t16+=v*b2,t17+=v*b3,t18+=v*b4,t19+=v*b5,t20+=v*b6,t21+=v*b7,t22+=v*b8,t23+=v*b9,t24+=v*b10,t25+=v*b11,t26+=v*b12,t27+=v*b13,t28+=v*b14,t29+=v*b15,t15+=(v=a[15])*b0,t1+=38*(t17+=v*b2),t2+=38*(t18+=v*b3),t3+=38*(t19+=v*b4),t4+=38*(t20+=v*b5),t5+=38*(t21+=v*b6),t6+=38*(t22+=v*b7),t7+=38*(t23+=v*b8),t8+=38*(t24+=v*b9),t9+=38*(t25+=v*b10),t10+=38*(t26+=v*b11),t11+=38*(t27+=v*b12),t12+=38*(t28+=v*b13),t13+=38*(t29+=v*b14),t14+=38*(c+=v*b15),t0=(v=1+(t0+=38*(t16+=v*b1))+65535)-65536*(c=Math.floor(v/65536)),t1=(v=t1+c+65535)-65536*(c=Math.floor(v/65536)),t2=(v=t2+c+65535)-65536*(c=Math.floor(v/65536)),t3=(v=t3+c+65535)-65536*(c=Math.floor(v/65536)),t4=(v=t4+c+65535)-65536*(c=Math.floor(v/65536)),t5=(v=t5+c+65535)-65536*(c=Math.floor(v/65536)),t6=(v=t6+c+65535)-65536*(c=Math.floor(v/65536)),t7=(v=t7+c+65535)-65536*(c=Math.floor(v/65536)),t8=(v=t8+c+65535)-65536*(c=Math.floor(v/65536)),t9=(v=t9+c+65535)-65536*(c=Math.floor(v/65536)),t10=(v=t10+c+65535)-65536*(c=Math.floor(v/65536)),t11=(v=t11+c+65535)-65536*(c=Math.floor(v/65536)),t12=(v=t12+c+65535)-65536*(c=Math.floor(v/65536)),t13=(v=t13+c+65535)-65536*(c=Math.floor(v/65536)),t14=(v=t14+c+65535)-65536*(c=Math.floor(v/65536)),t15=(v=t15+c+65535)-65536*(c=Math.floor(v/65536)),t0+=c-1+37*(c-1),t0=(v=1+t0+65535)-65536*(c=Math.floor(v/65536)),t1=(v=t1+c+65535)-65536*(c=Math.floor(v/65536)),t2=(v=t2+c+65535)-65536*(c=Math.floor(v/65536)),t3=(v=t3+c+65535)-65536*(c=Math.floor(v/65536)),t4=(v=t4+c+65535)-65536*(c=Math.floor(v/65536)),t5=(v=t5+c+65535)-65536*(c=Math.floor(v/65536)),t6=(v=t6+c+65535)-65536*(c=Math.floor(v/65536)),t7=(v=t7+c+65535)-65536*(c=Math.floor(v/65536)),t8=(v=t8+c+65535)-65536*(c=Math.floor(v/65536)),t9=(v=t9+c+65535)-65536*(c=Math.floor(v/65536)),t10=(v=t10+c+65535)-65536*(c=Math.floor(v/65536)),t11=(v=t11+c+65535)-65536*(c=Math.floor(v/65536)),t12=(v=t12+c+65535)-65536*(c=Math.floor(v/65536)),t13=(v=t13+c+65535)-65536*(c=Math.floor(v/65536)),t14=(v=t14+c+65535)-65536*(c=Math.floor(v/65536)),t15=(v=t15+c+65535)-65536*(c=Math.floor(v/65536)),o[0]=t0+=c-1+37*(c-1),o[1]=t1,o[2]=t2,o[3]=t3,o[4]=t4,o[5]=t5,o[6]=t6,o[7]=t7,o[8]=t8,o[9]=t9,o[10]=t10,o[11]=t11,o[12]=t12,o[13]=t13,o[14]=t14,o[15]=t15}function S(o,a){M(o,a,a)}function inv25519(o,i){for(var c=gf(),a=0;a<16;a++)c[a]=i[a];for(a=253;0<=a;a--)S(c,c),2!==a&&4!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function pow2523(o,i){for(var c=gf(),a=0;a<16;a++)c[a]=i[a];for(a=250;0<=a;a--)S(c,c),1!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function crypto_scalarmult(q,n,x16){for(var r,z=new Uint8Array(32),x=new Float64Array(80),a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),i=0;i<31;i++)z[i]=n[i];for(z[31]=127&n[31]|64,z[0]&=248,unpack25519(x,x16),i=0;i<16;i++)b[i]=x[i],d[i]=a[i]=c[i]=0;for(a[0]=d[0]=1,i=254;0<=i;--i)sel25519(a,b,r=z[i>>>3]>>>(7&i)&1),sel25519(c,d,r),A(e,a,c),Z(a,a,c),A(c,b,d),Z(b,b,d),S(d,e),S(f,a),M(a,c,a),M(c,b,e),A(e,a,c),Z(a,a,c),S(b,a),Z(c,d,f),M(a,c,_121665),A(a,a,d),M(c,c,a),M(a,d,f),M(d,b,x),S(b,e),sel25519(a,b,r),sel25519(c,d,r);for(i=0;i<16;i++)x[i+16]=a[i],x[i+32]=c[i],x[i+48]=b[i],x[i+64]=d[i];var x32=x.subarray(32),x16=x.subarray(16);return inv25519(x32,x32),M(x16,x16,x32),pack25519(q,x16),0}function crypto_scalarmult_base(q,n){return crypto_scalarmult(q,n,_9)}function crypto_box_keypair(y,x){return randombytes(x,32),crypto_scalarmult_base(y,x)}function crypto_box_beforenm(k,y,x){var s=new Uint8Array(32);return crypto_scalarmult(s,x,y),crypto_core_hsalsa20(k,_0,s,sigma)}poly1305.prototype.blocks=function(m,mpos,bytes){for(var c,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,hibit=this.fin?0:2048,h0=this.h[0],h1=this.h[1],h2=this.h[2],h3=this.h[3],h4=this.h[4],h5=this.h[5],h6=this.h[6],h7=this.h[7],h8=this.h[8],h9=this.h[9],r0=this.r[0],r1=this.r[1],r2=this.r[2],r3=this.r[3],r4=this.r[4],r5=this.r[5],r6=this.r[6],r7=this.r[7],r8=this.r[8],r9=this.r[9];16<=bytes;)d0=c=0,d0+=(h0+=8191&(d2=255&m[mpos+0]|(255&m[mpos+1])<<8))*r0,d0+=(h1+=8191&(d2>>>13|(d3=255&m[mpos+2]|(255&m[mpos+3])<<8)<<3))*(5*r9),d0+=(h2+=8191&(d3>>>10|(d4=255&m[mpos+4]|(255&m[mpos+5])<<8)<<6))*(5*r8),d0+=(h3+=8191&(d4>>>7|(d5=255&m[mpos+6]|(255&m[mpos+7])<<8)<<9))*(5*r7),c=(d0+=(h4+=8191&(d5>>>4|(d6=255&m[mpos+8]|(255&m[mpos+9])<<8)<<12))*(5*r6))>>>13,d0&=8191,d0+=(h5+=d6>>>1&8191)*(5*r5),d0+=(h6+=8191&(d6>>>14|(d7=255&m[mpos+10]|(255&m[mpos+11])<<8)<<2))*(5*r4),d0+=(h7+=8191&(d7>>>11|(d8=255&m[mpos+12]|(255&m[mpos+13])<<8)<<5))*(5*r3),d0+=(h8+=8191&(d8>>>8|(d9=255&m[mpos+14]|(255&m[mpos+15])<<8)<<8))*(5*r2),d1=c+=(d0+=(h9+=d9>>>5|hibit)*(5*r1))>>>13,d1+=h0*r1,d1+=h1*r0,d1+=h2*(5*r9),d1+=h3*(5*r8),c=(d1+=h4*(5*r7))>>>13,d1&=8191,d1+=h5*(5*r6),d1+=h6*(5*r5),d1+=h7*(5*r4),d1+=h8*(5*r3),c+=(d1+=h9*(5*r2))>>>13,d1&=8191,d2=c,d2+=h0*r2,d2+=h1*r1,d2+=h2*r0,d2+=h3*(5*r9),c=(d2+=h4*(5*r8))>>>13,d2&=8191,d2+=h5*(5*r7),d2+=h6*(5*r6),d2+=h7*(5*r5),d2+=h8*(5*r4),d3=c+=(d2+=h9*(5*r3))>>>13,d3+=h0*r3,d3+=h1*r2,d3+=h2*r1,d3+=h3*r0,c=(d3+=h4*(5*r9))>>>13,d3&=8191,d3+=h5*(5*r8),d3+=h6*(5*r7),d3+=h7*(5*r6),d3+=h8*(5*r5),d4=c+=(d3+=h9*(5*r4))>>>13,d4+=h0*r4,d4+=h1*r3,d4+=h2*r2,d4+=h3*r1,c=(d4+=h4*r0)>>>13,d4&=8191,d4+=h5*(5*r9),d4+=h6*(5*r8),d4+=h7*(5*r7),d4+=h8*(5*r6),d5=c+=(d4+=h9*(5*r5))>>>13,d5+=h0*r5,d5+=h1*r4,d5+=h2*r3,d5+=h3*r2,c=(d5+=h4*r1)>>>13,d5&=8191,d5+=h5*r0,d5+=h6*(5*r9),d5+=h7*(5*r8),d5+=h8*(5*r7),d6=c+=(d5+=h9*(5*r6))>>>13,d6+=h0*r6,d6+=h1*r5,d6+=h2*r4,d6+=h3*r3,c=(d6+=h4*r2)>>>13,d6&=8191,d6+=h5*r1,d6+=h6*r0,d6+=h7*(5*r9),d6+=h8*(5*r8),d7=c+=(d6+=h9*(5*r7))>>>13,d7+=h0*r7,d7+=h1*r6,d7+=h2*r5,d7+=h3*r4,c=(d7+=h4*r3)>>>13,d7&=8191,d7+=h5*r2,d7+=h6*r1,d7+=h7*r0,d7+=h8*(5*r9),d8=c+=(d7+=h9*(5*r8))>>>13,d8+=h0*r8,d8+=h1*r7,d8+=h2*r6,d8+=h3*r5,c=(d8+=h4*r4)>>>13,d8&=8191,d8+=h5*r3,d8+=h6*r2,d8+=h7*r1,d8+=h8*r0,d9=c+=(d8+=h9*(5*r9))>>>13,d9+=h0*r9,d9+=h1*r8,d9+=h2*r7,d9+=h3*r6,c=(d9+=h4*r5)>>>13,d9&=8191,d9+=h5*r4,d9+=h6*r3,d9+=h7*r2,d9+=h8*r1,h0=8191&(c=(c=((c+=(d9+=h9*r0)>>>13)<<2)+c|0)+(d0&=8191)|0),h1=d1+=c>>>=13,h2=d2&=8191,h3=d3&=8191,h4=d4&=8191,h5=d5&=8191,h6=d6&=8191,h7=d7&=8191,h8=d8&=8191,h9=d9&=8191,mpos+=16,bytes-=16;this.h[0]=h0,this.h[1]=h1,this.h[2]=h2,this.h[3]=h3,this.h[4]=h4,this.h[5]=h5,this.h[6]=h6,this.h[7]=h7,this.h[8]=h8,this.h[9]=h9},poly1305.prototype.finish=function(mac,macpos){var c,mask,f,i,g=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=c,c=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*c,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,g[0]=this.h[0]+5,c=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this.h[i]+c,c=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^c)-1,i=0;i<10;i++)g[i]&=mask;for(mask=~mask,i=0;i<10;i++)this.h[i]=this.h[i]&mask|g[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),f=this.h[0]+this.pad[0],this.h[0]=65535&f,i=1;i<8;i++)f=(this.h[i]+this.pad[i]|0)+(f>>>16)|0,this.h[i]=65535&f;mac[macpos+0]=this.h[0]>>>0&255,mac[macpos+1]=this.h[0]>>>8&255,mac[macpos+2]=this.h[1]>>>0&255,mac[macpos+3]=this.h[1]>>>8&255,mac[macpos+4]=this.h[2]>>>0&255,mac[macpos+5]=this.h[2]>>>8&255,mac[macpos+6]=this.h[3]>>>0&255,mac[macpos+7]=this.h[3]>>>8&255,mac[macpos+8]=this.h[4]>>>0&255,mac[macpos+9]=this.h[4]>>>8&255,mac[macpos+10]=this.h[5]>>>0&255,mac[macpos+11]=this.h[5]>>>8&255,mac[macpos+12]=this.h[6]>>>0&255,mac[macpos+13]=this.h[6]>>>8&255,mac[macpos+14]=this.h[7]>>>0&255,mac[macpos+15]=this.h[7]>>>8&255},poly1305.prototype.update=function(m,mpos,bytes){var i,want;if(this.leftover){for(bytes<(want=16-this.leftover)&&(want=bytes),i=0;i<want;i++)this.buffer[this.leftover+i]=m[mpos+i];if(bytes-=want,mpos+=want,this.leftover+=want,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(16<=bytes&&(this.blocks(m,mpos,want=bytes-bytes%16),mpos+=want,bytes-=want),bytes){for(i=0;i<bytes;i++)this.buffer[this.leftover+i]=m[mpos+i];this.leftover+=bytes}};var crypto_box_afternm=crypto_secretbox,crypto_box_open_afternm=crypto_secretbox_open;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(hh,hl,m,n){for(var bh0,bh1,bh2,bh3,bh4,bh5,bh6,bh7,bl0,bl1,bl2,bl3,bl4,bl5,bl6,bl7,th,tl,i,j,h,l,a,b,c,d,wh=new Int32Array(16),wl=new Int32Array(16),ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7],pos=0;128<=n;){for(i=0;i<16;i++)wh[i]=m[(j=8*i+pos)+0]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3],wl[i]=m[j+4]<<24|m[j+5]<<16|m[j+6]<<8|m[j+7];for(i=0;i<80;i++)if(bh0=ah0,bh1=ah1,bh2=ah2,bh3=ah3,bl0=al0,bl1=al1,bl2=al2,bl3=al3,a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,a+=65535&(l=((bl4=al4)>>>14|(bh4=ah4)<<18)^(al4>>>18|ah4<<14)^(ah4>>>9|al4<<23)),b+=l>>>16,c+=65535&(h=(ah4>>>14|al4<<18)^(ah4>>>18|al4<<14)^(al4>>>9|ah4<<23)),d+=h>>>16,a+=65535&(l=al4&(bl5=al5)^~al4&(bl6=al6)),b+=l>>>16,c+=65535&(h=ah4&(bh5=ah5)^~ah4&(bh6=ah6)),d+=h>>>16,h=K[2*i],a+=65535&(l=K[2*i+1]),b+=l>>>16,c+=65535&h,d+=h>>>16,h=wh[i%16],b+=(l=wl[i%16])>>>16,c+=65535&h,d+=h>>>16,c+=(b+=(a+=65535&l)>>>16)>>>16,a=65535&(l=tl=65535&a|b<<16),b=l>>>16,c=65535&(h=th=65535&c|(d+=c>>>16)<<16),d=h>>>16,a+=65535&(l=(al0>>>28|ah0<<4)^(ah0>>>2|al0<<30)^(ah0>>>7|al0<<25)),b+=l>>>16,c+=65535&(h=(ah0>>>28|al0<<4)^(al0>>>2|ah0<<30)^(al0>>>7|ah0<<25)),d+=h>>>16,b+=(l=al0&al1^al0&al2^al1&al2)>>>16,c+=65535&(h=ah0&ah1^ah0&ah2^ah1&ah2),d+=h>>>16,bh7=65535&(c+=(b+=(a+=65535&l)>>>16)>>>16)|(d+=c>>>16)<<16,bl7=65535&a|b<<16,a=65535&(l=bl3),b=l>>>16,c=65535&(h=bh3),d=h>>>16,b+=(l=tl)>>>16,c+=65535&(h=th),d+=h>>>16,ah1=bh0,ah2=bh1,ah3=bh2,ah4=65535&(c+=(b+=(a+=65535&l)>>>16)>>>16)|(d+=c>>>16)<<16,ah5=bh4,ah6=bh5,ah7=bh6,ah0=bh7,al1=bl0,al2=bl1,al3=bl2,al4=65535&a|b<<16,al5=bl4,al6=bl5,al7=bl6,al0=bl7,i%16==15)for(j=0;j<16;j++)h=wh[j],a=65535&(l=wl[j]),b=l>>>16,c=65535&h,d=h>>>16,h=wh[(j+9)%16],a+=65535&(l=wl[(j+9)%16]),b+=l>>>16,c+=65535&h,d+=h>>>16,th=wh[(j+1)%16],a+=65535&(l=((tl=wl[(j+1)%16])>>>1|th<<31)^(tl>>>8|th<<24)^(tl>>>7|th<<25)),b+=l>>>16,c+=65535&(h=(th>>>1|tl<<31)^(th>>>8|tl<<24)^th>>>7),d+=h>>>16,th=wh[(j+14)%16],b+=(l=((tl=wl[(j+14)%16])>>>19|th<<13)^(th>>>29|tl<<3)^(tl>>>6|th<<26))>>>16,c+=65535&(h=(th>>>19|tl<<13)^(tl>>>29|th<<3)^th>>>6),d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,wh[j]=65535&c|d<<16,wl[j]=65535&a|b<<16;a=65535&(l=al0),b=l>>>16,c=65535&(h=ah0),d=h>>>16,h=hh[0],b+=(l=hl[0])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[0]=ah0=65535&c|d<<16,hl[0]=al0=65535&a|b<<16,a=65535&(l=al1),b=l>>>16,c=65535&(h=ah1),d=h>>>16,h=hh[1],b+=(l=hl[1])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[1]=ah1=65535&c|d<<16,hl[1]=al1=65535&a|b<<16,a=65535&(l=al2),b=l>>>16,c=65535&(h=ah2),d=h>>>16,h=hh[2],b+=(l=hl[2])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[2]=ah2=65535&c|d<<16,hl[2]=al2=65535&a|b<<16,a=65535&(l=al3),b=l>>>16,c=65535&(h=ah3),d=h>>>16,h=hh[3],b+=(l=hl[3])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[3]=ah3=65535&c|d<<16,hl[3]=al3=65535&a|b<<16,a=65535&(l=al4),b=l>>>16,c=65535&(h=ah4),d=h>>>16,h=hh[4],b+=(l=hl[4])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[4]=ah4=65535&c|d<<16,hl[4]=al4=65535&a|b<<16,a=65535&(l=al5),b=l>>>16,c=65535&(h=ah5),d=h>>>16,h=hh[5],b+=(l=hl[5])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[5]=ah5=65535&c|d<<16,hl[5]=al5=65535&a|b<<16,a=65535&(l=al6),b=l>>>16,c=65535&(h=ah6),d=h>>>16,h=hh[6],b+=(l=hl[6])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[6]=ah6=65535&c|d<<16,hl[6]=al6=65535&a|b<<16,a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,h=hh[7],b+=(l=hl[7])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[7]=ah7=65535&c|d<<16,hl[7]=al7=65535&a|b<<16,pos+=128,n-=128}return n}function crypto_hash(out,m,n){var i,hh=new Int32Array(8),hl=new Int32Array(8),x=new Uint8Array(256),b=n;for(hh[0]=1779033703,hh[1]=3144134277,hh[2]=1013904242,hh[3]=2773480762,hh[4]=1359893119,hh[5]=2600822924,hh[6]=528734635,hh[7]=1541459225,hl[0]=4089235720,hl[1]=2227873595,hl[2]=4271175723,hl[3]=1595750129,hl[4]=2917565137,hl[5]=725511199,hl[6]=4215389547,hl[7]=327033209,crypto_hashblocks_hl(hh,hl,m,n),n%=128,i=0;i<n;i++)x[i]=m[b-n+i];for(x[n]=128,x[(n=256-128*(n<112?1:0))-9]=0,ts64(x,n-8,b/536870912|0,b<<3),crypto_hashblocks_hl(hh,hl,x,n),i=0;i<8;i++)ts64(out,8*i,hh[i],hl[i]);return 0}function add(p,q){var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();Z(a,p[1],p[0]),Z(t,q[1],q[0]),M(a,a,t),A(b,p[0],p[1]),A(t,q[0],q[1]),M(b,b,t),M(c,p[3],q[3]),M(c,c,D2),M(d,p[2],q[2]),A(d,d,d),Z(e,b,a),Z(f,d,c),A(g,d,c),A(h,b,a),M(p[0],e,f),M(p[1],h,g),M(p[2],g,f),M(p[3],e,h)}function cswap(p,q,b){for(var i=0;i<4;i++)sel25519(p[i],q[i],b)}function pack(r,p){var tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]),M(tx,p[0],zi),M(ty,p[1],zi),pack25519(r,ty),r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){var b,i;for(set25519(p[0],gf0),set25519(p[1],gf1),set25519(p[2],gf1),set25519(p[3],gf0),i=255;0<=i;--i)cswap(p,q,b=s[i/8|0]>>(7&i)&1),add(q,p),add(p,p),cswap(p,q,b)}function scalarbase(p,s){var q=[gf(),gf(),gf(),gf()];set25519(q[0],X),set25519(q[1],Y),set25519(q[2],gf1),M(q[3],X,Y),scalarmult(p,q,s)}function crypto_sign_keypair(pk,sk,seeded){var i,d=new Uint8Array(64),p=[gf(),gf(),gf(),gf()];for(seeded||randombytes(sk,32),crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64,scalarbase(p,d),pack(pk,p),i=0;i<32;i++)sk[i+32]=pk[i];return 0}var L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(r,x){for(var carry,j,k,i=63;32<=i;--i){for(carry=0,j=i-32,k=i-12;j<k;++j)x[j]+=carry-16*x[i]*L[j-(i-32)],carry=Math.floor((x[j]+128)/256),x[j]-=256*carry;x[j]+=carry,x[i]=0}for(j=carry=0;j<32;j++)x[j]+=carry-(x[31]>>4)*L[j],carry=x[j]>>8,x[j]&=255;for(j=0;j<32;j++)x[j]-=carry*L[j];for(i=0;i<32;i++)x[i+1]+=x[i]>>8,r[i]=255&x[i]}function reduce(r){for(var x=new Float64Array(64),i=0;i<64;i++)x[i]=r[i];for(i=0;i<64;i++)r[i]=0;modL(r,x)}function crypto_sign(sm,m,n,sk){var j,d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64),x=new Float64Array(64),p=[gf(),gf(),gf(),gf()];crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64;for(var smlen=n+64,i=0;i<n;i++)sm[64+i]=m[i];for(i=0;i<32;i++)sm[32+i]=d[32+i];for(crypto_hash(r,sm.subarray(32),n+32),reduce(r),scalarbase(p,r),pack(sm,p),i=32;i<64;i++)sm[i]=sk[i];for(crypto_hash(h,sm,n+64),reduce(h),i=0;i<64;i++)x[i]=0;for(i=0;i<32;i++)x[i]=r[i];for(i=0;i<32;i++)for(j=0;j<32;j++)x[i+j]+=h[i]*d[j];return modL(sm.subarray(32),x),smlen}function crypto_sign_open(m,sm,n,pk){var i,t=new Uint8Array(32),h=new Uint8Array(64),p=[gf(),gf(),gf(),gf()],q=[gf(),gf(),gf(),gf()];if(n<64)return-1;if(function(r,p){var t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf();if(set25519(r[2],gf1),unpack25519(r[1],p),S(num,r[1]),M(den,num,D),Z(num,num,r[2]),A(den,r[2],den),S(den2,den),S(den4,den2),M(den6,den4,den2),M(t,den6,num),M(t,t,den),pow2523(t,t),M(t,t,num),M(t,t,den),M(t,t,den),M(r[0],t,den),S(chk,r[0]),M(chk,chk,den),neq25519(chk,num)&&M(r[0],r[0],I),S(chk,r[0]),M(chk,chk,den),neq25519(chk,num))return 1;par25519(r[0])===p[31]>>7&&Z(r[0],gf0,r[0]),M(r[3],r[0],r[1])}(q,pk))return-1;for(i=0;i<n;i++)m[i]=sm[i];for(i=0;i<32;i++)m[i+32]=pk[i];if(crypto_hash(h,m,n),reduce(h),scalarmult(p,q,h),scalarbase(q,sm.subarray(32)),add(p,q),pack(t,p),n-=64,crypto_verify_32(sm,0,t,0)){for(i=0;i<n;i++)m[i]=0;return-1}for(i=0;i<n;i++)m[i]=sm[i+64];return n}var crypto;function checkLengths(k,n){if(32!==k.length)throw new Error("bad key size");if(24!==n.length)throw new Error("bad nonce size")}function checkArrayTypes(){for(var i=0;i<arguments.length;i++)if(!(arguments[i]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function cleanup(arr){for(var i=0;i<arr.length;i++)arr[i]=0}nacl.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:crypto_box_afternm,crypto_box:function(c,m,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_box_afternm(c,m,d,n,k)},crypto_box_open:function(m,c,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_box_open_afternm(m,c,d,n,k)},crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:gf,D:D,L:L,pack25519:pack25519,unpack25519:unpack25519,M:M,A:A,S:S,Z:Z,pow2523:pow2523,add:add,set25519:set25519,modL:modL,scalarmult:scalarmult,scalarbase:scalarbase},nacl.randomBytes=function(n){var b=new Uint8Array(n);return randombytes(b,n),b},nacl.secretbox=function(msg,nonce,key){checkArrayTypes(msg,nonce,key),checkLengths(key,nonce);for(var m=new Uint8Array(32+msg.length),c=new Uint8Array(m.length),i=0;i<msg.length;i++)m[i+32]=msg[i];return crypto_secretbox(c,m,m.length,nonce,key),c.subarray(16)},nacl.secretbox.open=function(box,nonce,key){checkArrayTypes(box,nonce,key),checkLengths(key,nonce);for(var c=new Uint8Array(16+box.length),m=new Uint8Array(c.length),i=0;i<box.length;i++)c[i+16]=box[i];return c.length<32||0!==crypto_secretbox_open(m,c,c.length,nonce,key)?null:m.subarray(32)},nacl.secretbox.keyLength=32,nacl.secretbox.nonceLength=24,nacl.secretbox.overheadLength=16,nacl.scalarMult=function(n,p){if(checkArrayTypes(n,p),32!==n.length)throw new Error("bad n size");if(32!==p.length)throw new Error("bad p size");var q=new Uint8Array(32);return crypto_scalarmult(q,n,p),q},nacl.scalarMult.base=function(n){if(checkArrayTypes(n),32!==n.length)throw new Error("bad n size");var q=new Uint8Array(32);return crypto_scalarmult_base(q,n),q},nacl.scalarMult.scalarLength=32,nacl.scalarMult.groupElementLength=32,nacl.box=function(msg,nonce,publicKey,k){k=nacl.box.before(publicKey,k);return nacl.secretbox(msg,nonce,k)},nacl.box.before=function(publicKey,secretKey){checkArrayTypes(publicKey,secretKey),function(pk,sk){if(32!==pk.length)throw new Error("bad public key size");if(32!==sk.length)throw new Error("bad secret key size")}(publicKey,secretKey);var k=new Uint8Array(32);return crypto_box_beforenm(k,publicKey,secretKey),k},nacl.box.after=nacl.secretbox,nacl.box.open=function(msg,nonce,publicKey,k){k=nacl.box.before(publicKey,k);return nacl.secretbox.open(msg,nonce,k)},nacl.box.open.after=nacl.secretbox.open,nacl.box.keyPair=function(){var pk=new Uint8Array(32),sk=new Uint8Array(32);return crypto_box_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl.box.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(secretKey),32!==secretKey.length)throw new Error("bad secret key size");var pk=new Uint8Array(32);return crypto_scalarmult_base(pk,secretKey),{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl.box.publicKeyLength=32,nacl.box.secretKeyLength=32,nacl.box.sharedKeyLength=32,nacl.box.nonceLength=24,nacl.box.overheadLength=nacl.secretbox.overheadLength,nacl.sign=function(msg,secretKey){if(checkArrayTypes(msg,secretKey),64!==secretKey.length)throw new Error("bad secret key size");var signedMsg=new Uint8Array(64+msg.length);return crypto_sign(signedMsg,msg,msg.length,secretKey),signedMsg},nacl.sign.open=function(signedMsg,mlen){if(checkArrayTypes(signedMsg,mlen),32!==mlen.length)throw new Error("bad public key size");var tmp=new Uint8Array(signedMsg.length),mlen=crypto_sign_open(tmp,signedMsg,signedMsg.length,mlen);if(mlen<0)return null;for(var m=new Uint8Array(mlen),i=0;i<m.length;i++)m[i]=tmp[i];return m},nacl.sign.detached=function(msg,secretKey){for(var signedMsg=nacl.sign(msg,secretKey),sig=new Uint8Array(64),i=0;i<sig.length;i++)sig[i]=signedMsg[i];return sig},nacl.sign.detached.verify=function(msg,sig,publicKey){if(checkArrayTypes(msg,sig,publicKey),64!==sig.length)throw new Error("bad signature size");if(32!==publicKey.length)throw new Error("bad public key size");for(var sm=new Uint8Array(64+msg.length),m=new Uint8Array(64+msg.length),i=0;i<64;i++)sm[i]=sig[i];for(i=0;i<msg.length;i++)sm[i+64]=msg[i];return 0<=crypto_sign_open(m,sm,sm.length,publicKey)},nacl.sign.keyPair=function(){var pk=new Uint8Array(32),sk=new Uint8Array(64);return crypto_sign_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl.sign.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(secretKey),64!==secretKey.length)throw new Error("bad secret key size");for(var pk=new Uint8Array(32),i=0;i<pk.length;i++)pk[i]=secretKey[32+i];return{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl.sign.keyPair.fromSeed=function(seed){if(checkArrayTypes(seed),32!==seed.length)throw new Error("bad seed size");for(var pk=new Uint8Array(32),sk=new Uint8Array(64),i=0;i<32;i++)sk[i]=seed[i];return crypto_sign_keypair(pk,sk,!0),{publicKey:pk,secretKey:sk}},nacl.sign.publicKeyLength=32,nacl.sign.secretKeyLength=64,nacl.sign.seedLength=32,nacl.sign.signatureLength=64,nacl.hash=function(msg){checkArrayTypes(msg);var h=new Uint8Array(64);return crypto_hash(h,msg,msg.length),h},nacl.hash.hashLength=64,nacl.verify=function(x,y){return checkArrayTypes(x,y),0!==x.length&&0!==y.length&&(x.length===y.length&&0===vn(x,0,y,0,x.length))},nacl.setPRNG=function(fn){randombytes=fn},(crypto="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&crypto.getRandomValues?nacl.setPRNG(function(x,n){for(var v=new Uint8Array(n),i=0;i<n;i+=65536)crypto.getRandomValues(v.subarray(i,i+Math.min(n-i,65536)));for(i=0;i<n;i++)x[i]=v[i];cleanup(v)}):void 0!==require&&(crypto=require("crypto"))&&crypto.randomBytes&&nacl.setPRNG(function(x,n){for(var v=crypto.randomBytes(n),i=0;i<n;i++)x[i]=v[i];cleanup(v)})}(void 0!==module&&module.exports?module.exports:self.nacl=self.nacl||{})},{crypto:48}],315:[function(require,module,unwise){"use strict";var punycode=require("punycode"),util=require("./util");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}unwise.parse=urlParse,unwise.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)},unwise.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},unwise.format=function(obj){util.isString(obj)&&(obj=urlParse(obj));return obj instanceof Url?obj.format():Url.prototype.format.call(obj)},unwise.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var uSplit=url.indexOf("?"),splitter=-1!==uSplit&&uSplit<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=(rest=url=uSplit.join(splitter)).trim();if(!slashesDenoteHost&&1===url.split("#").length){var proto=simplePathPattern.exec(rest);if(proto)return this.path=rest,this.href=rest,this.pathname=proto[1],proto[2]?(this.search=proto[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var slashes,proto=protocolPattern.exec(rest);if(proto&&(s=(proto=proto[0]).toLowerCase(),this.protocol=s,rest=rest.substr(proto.length)),(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(slashes="//"===rest.substr(0,2))||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)),!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++)-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);-1!==(p=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(h=rest.slice(0,p),rest=rest.slice(p+1),this.auth=decodeURIComponent(h));for(var hec,hostEnd=-1,i=0;i<nonHostChars.length;i++)-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var qm="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!qm)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)127<part.charCodeAt(j)?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),qm||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,qm&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[s])for(i=0,l=autoEscape.length;i<l;i++){var esc,ae=autoEscape[i];-1!==rest.indexOf(ae)&&((esc=encodeURIComponent(ae))===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc))}qm=rest.indexOf("#");-1!==qm&&(this.hash=rest.substr(qm),rest=rest.slice(0,qm));var s,qm=rest.indexOf("?");return-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(p=this.pathname||"",s=this.search||"",this.path=p+s),this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,search="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(search=querystring.stringify(this.query));search=this.search||search&&"?"+search||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host=host||"",hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}))+(search=search.replace("#","%23"))+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){util.isString(relative)&&((isAbsolute=new Url).parse(relative,!1,!0),relative=isAbsolute);for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}return result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,(result.pathname||result.search)&&(mustEndAbs=result.pathname||"",removeAllDots=result.search||"",result.path=mustEndAbs+removeAllDots),result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var psychotic=result.pathname&&"/"===result.pathname.charAt(0),isAbsolute=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isAbsolute||psychotic||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isAbsolute)result.host=(relative.host||""===relative.host?relative:result).host,result.hostname=(relative.hostname||""===relative.hostname?relative:result).hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)(srcPath=srcPath||[]).pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search))return psychotic&&(result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&0<result.host.indexOf("@"))&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname||"")+(result.search||"")),result.href=result.format(),result;if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],isAbsolute=(result.host||relative.host||1<srcPath.length)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;0<=i;i--)"."===(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),isAbsolute&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);return psychotic&&(result.hostname=result.host=!isAbsolute&&srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&0<result.host.indexOf("@"))&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname||"")+(result.search||"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":316,punycode:251,querystring:283}],316:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],317:[function(require,module,exports){!function(global){!function(){function config(val){try{if(!global.localStorage)return}catch(_){return}val=global.localStorage[val];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],318:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],319:[function(require,module,exports){"use strict";var isArgumentsObject=require("is-arguments"),isGeneratorFunction=require("is-generator-function"),whichTypedArray=require("which-typed-array"),isTypedArray=require("is-typed-array");function uncurryThis(f){return f.call.bind(f)}var bigIntValue,symbolValue,BigIntSupported="undefined"!=typeof BigInt,SymbolSupported="undefined"!=typeof Symbol,ObjectToString=uncurryThis(Object.prototype.toString),numberValue=uncurryThis(Number.prototype.valueOf),stringValue=uncurryThis(String.prototype.valueOf),booleanValue=uncurryThis(Boolean.prototype.valueOf);function checkBoxedPrimitive(value,prototypeValueOf){if("object"!=typeof value)return!1;try{return prototypeValueOf(value),!0}catch(e){return!1}}function isMapToString(value){return"[object Map]"===ObjectToString(value)}function isSetToString(value){return"[object Set]"===ObjectToString(value)}function isWeakMapToString(value){return"[object WeakMap]"===ObjectToString(value)}function isWeakSetToString(value){return"[object WeakSet]"===ObjectToString(value)}function isArrayBufferToString(value){return"[object ArrayBuffer]"===ObjectToString(value)}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer)}function isDataViewToString(value){return"[object DataView]"===ObjectToString(value)}function isDataView(value){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(value):value instanceof DataView)}BigIntSupported&&(bigIntValue=uncurryThis(BigInt.prototype.valueOf)),SymbolSupported&&(symbolValue=uncurryThis(Symbol.prototype.valueOf)),exports.isArgumentsObject=isArgumentsObject,exports.isGeneratorFunction=isGeneratorFunction,exports.isTypedArray=isTypedArray,exports.isPromise=function(input){return"undefined"!=typeof Promise&&input instanceof Promise||null!==input&&"object"==typeof input&&"function"==typeof input.then&&"function"==typeof input.catch},exports.isArrayBufferView=function(value){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(value):isTypedArray(value)||isDataView(value)},exports.isUint8Array=function(value){return"Uint8Array"===whichTypedArray(value)},exports.isUint8ClampedArray=function(value){return"Uint8ClampedArray"===whichTypedArray(value)},exports.isUint16Array=function(value){return"Uint16Array"===whichTypedArray(value)},exports.isUint32Array=function(value){return"Uint32Array"===whichTypedArray(value)},exports.isInt8Array=function(value){return"Int8Array"===whichTypedArray(value)},exports.isInt16Array=function(value){return"Int16Array"===whichTypedArray(value)},exports.isInt32Array=function(value){return"Int32Array"===whichTypedArray(value)},exports.isFloat32Array=function(value){return"Float32Array"===whichTypedArray(value)},exports.isFloat64Array=function(value){return"Float64Array"===whichTypedArray(value)},exports.isBigInt64Array=function(value){return"BigInt64Array"===whichTypedArray(value)},exports.isBigUint64Array=function(value){return"BigUint64Array"===whichTypedArray(value)},isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),exports.isMap=function(value){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(value):value instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),exports.isSet=function(value){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(value):value instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),exports.isWeakMap=function(value){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),exports.isWeakSet=isWeakSetToString,isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),exports.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),exports.isDataView=isDataView;var SharedArrayBufferCopy="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function isSharedArrayBufferToString(value){return"[object SharedArrayBuffer]"===ObjectToString(value)}function isSharedArrayBuffer(value){return void 0!==SharedArrayBufferCopy&&((isSharedArrayBufferToString.working=void 0===isSharedArrayBufferToString.working?isSharedArrayBufferToString(new SharedArrayBufferCopy):isSharedArrayBufferToString.working)?isSharedArrayBufferToString(value):value instanceof SharedArrayBufferCopy)}function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSharedArrayBuffer=isSharedArrayBuffer,exports.isAsyncFunction=function(value){return"[object AsyncFunction]"===ObjectToString(value)},exports.isMapIterator=function(value){return"[object Map Iterator]"===ObjectToString(value)},exports.isSetIterator=function(value){return"[object Set Iterator]"===ObjectToString(value)},exports.isGeneratorObject=function(value){return"[object Generator]"===ObjectToString(value)},exports.isWebAssemblyCompiledModule=function(value){return"[object WebAssembly.Module]"===ObjectToString(value)},exports.isNumberObject=isNumberObject,exports.isStringObject=isStringObject,exports.isBooleanObject=isBooleanObject,exports.isBigIntObject=isBigIntObject,exports.isSymbolObject=isSymbolObject,exports.isBoxedPrimitive=function(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)},exports.isAnyArrayBuffer=function(value){return"undefined"!=typeof Uint8Array&&(isArrayBuffer(value)||isSharedArrayBuffer(value))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:!1,value:function(){throw new Error(method+" is not supported in userland")}})})},{"is-arguments":202,"is-generator-function":204,"is-typed-array":205,"which-typed-array":321}],320:[function(require,module,exports){!function(process){!function(){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(len<=i)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])null!==x&&isObject(x)?str+=" "+inspect(x):str+=" "+x;return str},exports.deprecate=function(fn,msg){if(void 0!==process&&!0===process.noDeprecation)return fn;if(void 0===process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnv,debugs={},debugEnvRegex=/^$/;function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(ctx.depth=arguments[2]),4<=arguments.length&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),void 0===ctx.showHidden&&(ctx.showHidden=!1),void 0===ctx.depth&&(ctx.depth=2),void 0===ctx.colors&&(ctx.colors=!1),void 0===ctx.customInspect&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,style){style=inspect.styles[style];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var output=value.inspect(recurseTimes,ctx);return output=!isString(output)?formatValue(ctx,output,recurseTimes):output}var base=function(ctx,value){if(void 0===value)return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):null===value?ctx.stylize("null","null"):void 0}(ctx,value);if(base)return base;var output=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(output);if(ctx.showHidden&&(output=Object.getOwnPropertyNames(value)),isError(value)&&(0<=output.indexOf("message")||0<=output.indexOf("description")))return formatError(value);if(0===output.length){if(isFunction(value)){var braces=value.name?": "+value.name:"";return ctx.stylize("[Function"+braces+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];return isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)&&(base=" [Function"+(value.name?": "+value.name:"")+"]"),isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==output.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,output):output.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(60<output.reduce(function(prev,cur){return 0<=cur.indexOf("\n")&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0))return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,desc,recurseTimes,visibleKeys,key,array){var name,str,desc=Object.getOwnPropertyDescriptor(desc,key)||{value:desc[key]};if(desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?-1<(str=formatValue(ctx,desc.value,null===recurseTimes?null:recurseTimes-1)).indexOf("\n")&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),void 0===name){if(array&&key.match(/^\d+$/))return str;name=(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}process.env.NODE_DEBUG&&(debugEnv=(debugEnv=process.env.NODE_DEBUG).replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),debugEnvRegex=new RegExp("^"+debugEnv+"$","i")),exports.debuglog=function(set){var pid;return set=set.toUpperCase(),debugs[set]||(debugEnvRegex.test(set)?(pid=process.pid,debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}):debugs[set]=function(){}),debugs[set]},(exports.inspect=inspect).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.types=require("./support/types"),exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.types.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.types.isDate=isDate,exports.isError=isError,exports.types.isNativeError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;exports.promisify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn;if("function"!=typeof(fn=original[kCustomPromisifiedSymbol]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var promiseResolve,promiseReject,promise=new Promise(function(resolve,reject){promiseResolve=resolve,promiseReject=reject}),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push(function(err,value){err?promiseReject(err):promiseResolve(value)});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");function cb(){return maybeCb.apply(self,arguments)}var self=this;original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(function(reason,cb){var newReason;return reason||((newReason=new Error("Promise was rejected with a falsy value")).reason=reason,reason=newReason),cb(reason)}.bind(null,rej,cb))})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified}}.call(this)}.call(this,require("_process"))},{"./support/isBuffer":318,"./support/types":319,_process:243,inherits:201}],321:[function(require,module,exports){!function(global){!function(){"use strict";var forEach=require("foreach"),typedArrays=require("available-typed-arrays"),callBound=require("call-bind/callBound"),$toString=callBound("Object.prototype.toString"),hasToStringTag=require("has-tostringtag/shams")(),g="undefined"==typeof globalThis?global:globalThis,typedArrays=typedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=require("es-abstract/helpers/getOwnPropertyDescriptor"),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(typedArray){var superProto,descriptor;"function"==typeof g[typedArray]&&(descriptor=new g[typedArray],Symbol.toStringTag in descriptor&&(superProto=getPrototypeOf(descriptor),(descriptor=gOPD(superProto,Symbol.toStringTag))||(superProto=getPrototypeOf(superProto),descriptor=gOPD(superProto,Symbol.toStringTag)),toStrTags[typedArray]=descriptor.get))});var isTypedArray=require("is-typed-array");module.exports=function(value){return!!isTypedArray(value)&&(hasToStringTag&&Symbol.toStringTag in value?function(value){var foundName=!1;return forEach(toStrTags,function(getter,typedArray){if(!foundName)try{var name=getter.call(value);name===typedArray&&(foundName=name)}catch(e){}}),foundName}(value):$slice($toString(value),8,-1))}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":41,"call-bind/callBound":94,"es-abstract/helpers/getOwnPropertyDescriptor":160,foreach:163,"has-tostringtag/shams":169,"is-typed-array":205}],322:[function(EUGreenCertificate,module,exports){"use strict";var _interopRequireDefault=EUGreenCertificate("@babel/runtime/helpers/interopRequireDefault"),_typeof=EUGreenCertificate("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports.EUGreenCertificate=void 0;var _slicedToArray2=_interopRequireDefault(EUGreenCertificate("@babel/runtime/helpers/slicedToArray")),_classCallCheck2=_interopRequireDefault(EUGreenCertificate("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(EUGreenCertificate("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(EUGreenCertificate("@babel/runtime/helpers/defineProperty")),base45=_interopRequireWildcard(EUGreenCertificate("base45")),zlib=_interopRequireWildcard(EUGreenCertificate("pako")),cbor=_interopRequireWildcard(EUGreenCertificate("cbor"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,cache){if(!cache&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};cache=_getRequireWildcardCache(cache);if(cache&&cache.has(obj))return cache.get(obj);var key,desc,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj)"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]);return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}EUGreenCertificate=function(){function EUGreenCertificate(greenpassStr){if((0,_classCallCheck2.default)(this,EUGreenCertificate),(0,_defineProperty2.default)(this,"encodedText",""),(0,_defineProperty2.default)(this,"raw",null),(0,_defineProperty2.default)(this,"data",{}),"HC1:"!==greenpassStr.substring(0,4))throw Error("missing HC1 header");var protected_header=greenpassStr.substr(4),unprotected_header=base45.decode(protected_header),cwt=zlib.inflate(unprotected_header),payload=cbor.decodeAllSync(cwt),signature=(0,_slicedToArray2.default)(payload[0].value,4),protected_header=signature[0],unprotected_header=signature[1],payload=signature[2],signature=signature[3];this.data={header1:cbor.decodeAllSync(protected_header),header2:unprotected_header,payload:cbor.decodeAllSync(payload),signature:signature},this.raw=cwt,this.encodedText=greenpassStr}return(0,_createClass2.default)(EUGreenCertificate,[{key:"getRawCwt",value:function(){return this.raw}},{key:"getEncodedString",value:function(){return this.encodedText}},{key:"getKid",value:function(){var kid=null,kid=this.data.header1[0].get(4);if(!kid&&!(kid=this.data.header2.get(4)))throw Error("no kid in headers");return kid=kid.reduce(function(str,v){return str+String.fromCharCode(v)},""),kid=btoa(kid)}},{key:"getSignAlgorithm",value:function(){return this.data.header1[0].get(1)}},{key:"getHCertJson",value:function(){return this.data.payload[0].get(-260).get(1)}},{key:"toRawString",value:function(){function map2json(map){return Array.from(map).reduce(function(acc,key){var value=(0,_slicedToArray2.default)(key,2),key=value[0],value=value[1];return value instanceof Uint8Array?acc[key]=value.data:value instanceof Map?acc[key]=map2json(value):acc[key]=value,acc},{})}var header1=map2json(this.data.header1[0]),header2=map2json(this.data.header2),payload=map2json(this.data.payload[0]),signature=this.data.signature.reduce(function(str,v){return str+" "+v},"");return"".concat(JSON.stringify(header1,null,2),",\n").concat(JSON.stringify(header2,null,2),",\n").concat(JSON.stringify(payload,null,2),",\n").concat(signature)}},{key:"toString",value:function(){this.getHCertJson()}},{key:"decodeValue",value:function(valueSet,id){valueSet=valueSets[valueSet].json;return valueSet?valueSet.valueSetValues[id]?valueSet.valueSetValues[id].display:id:(console.warn("ValueSets not loaded for: "+id),id)}},{key:"withDecodedValues",value:function(){var greenpassJSON=this.getHCertJson(),schema={nam:{fnt:{description:"Standardised name(s)",decoder:null},fn:{description:"Name(s)",decoder:null},gnt:{description:"Standardised surname(s)",decoder:null},gn:{description:"Surname(s)",decoder:null}},ver:{description:"Schema version",decoder:null},dob:{description:"Date of birth",decoder:null}},testSchema=[{sc:{description:"Date and time of sample collection",field_id:"t-sc",decoder:dateFormat},ma:{description:"RAT test name and manufacturer",field_id:"t-ma",decoder:"test-manf"},dr:{description:"Date and time of test result",field_id:"t-dr",decoder:dateFormat},tt:{description:"Type of Test",field_id:"t-tt",decoder:"test-type"},nm:{description:"Nucleic acid amplification test name",field_id:"t-nm",decoder:null},co:{description:"Country of test",field_id:"t-co",decoder:"country-codes"},tc:{description:"Testing centre",field_id:"t-tc",decoder:null},ci:{description:"Unique certificate identifier (UVCI)",field_id:"t-ci",decoder:null},is:{description:"Certificate issuer",field_id:"t-is",decoder:null},tg:{description:"Disease or agent targeted",field_id:"t-tg",decoder:"disease-agent-targeted"},tr:{description:"Test result",field_id:"t-tr",decoder:"test-result"}}];if(greenpassJSON.v)schema.v=[{dn:{description:"Dose number",decoder:null},ma:{description:"Vaccine manufacturer or Marketing Authorization Holder",decoder:"vaccine-mah-manf"},vp:{description:"Vaccine or prophilaxis",decoder:"vaccine-prophilaxis"},dt:{description:"Date of vaccination",decoder:null},co:{description:"Country of vaccination",decoder:"country-codes"},ci:{description:"Unique certificate identifier (UVCI)",decoder:null},mp:{description:"Vaccine or medicinal product",decoder:"vaccine-medicinal-product"},is:{description:"Certificate issuer",decoder:null},sd:{description:"Total series of doses",decoder:null},tg:{description:"Disease or agent targeted",decoder:"disease-agent-targeted"}}];else if(greenpassJSON.r)schema.r=[{du:{description:"Certificate valid until",field_id:"r-du",decoder:null},co:{description:"Country",field_id:"r-co",decoder:"country-codes"},ci:{description:"Unique certificate identifier (UVCI)",field_id:"r-ci",decoder:null},is:{description:"Certificate issuer",field_id:"r-is",decoder:null},tg:{description:"Disease or agent targeted",field_id:"r-tg",decoder:"disease-agent-targeted"},df:{description:"Certificate valid from",field_id:"r-df",decoder:null},fr:{description:"Date of first positive NAA test result",field_id:"r-fr",decoder:null}}];else{if(!greenpassJSON.t)throw Error("unknown certificate type");schema.t=testSchema}for(var _i=0,_Object$keys=Object.keys(greenpassJSON);_i<_Object$keys.length;_i++){var g=_Object$keys[_i],group=null,schemagroup=null;switch(g){case"v":case"r":case"t":for(var group=greenpassJSON[g][0],schemagroup=schema[g][0],_i2=0,_Object$keys2=Object.keys(group);_i2<_Object$keys2.length;_i2++){var prop=_Object$keys2[_i2],_json=schemagroup[prop],decoder=schemagroup[prop].decoder;decoder?"function"==typeof decoder?_json.value=decoder(group[prop]):"string"==typeof decoder&&(_json.value=this.decodeValue(decoder,group[prop])):_json.value=group[prop]}break;case"nam":group=greenpassJSON[g],schemagroup=schema[g];for(var _i3=0,_Object$keys3=Object.keys(group);_i3<_Object$keys3.length;_i3++){var _prop=_Object$keys3[_i3],_json2=schemagroup[_prop],_decoder=schemagroup[_prop].decoder;_decoder?"function"==typeof _decoder?_json2.value=_decoder(group[_prop]):"string"==typeof _decoder&&(_json2.value=this.decodeValue(_decoder,group[_prop])):_json2.value=group[_prop]}break;case"dob":case"ver":schema[g].value=greenpassJSON[g]}}return schema}}]),EUGreenCertificate}();function dateFormat(date){var locale=navigator.language||"en",date=new Date(date);return Intl.DateTimeFormat(locale,{dateStyle:"medium",timeStyle:"long"}).format(date)}exports.EUGreenCertificate=EUGreenCertificate;var promises,valueSets={"test-manf":{abbr:"ma",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/test-manf.json",json:null},"country-codes":{abbr:"co",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/country-2-codes.json",json:null},"disease-agent-targeted":{abbr:"tg",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/disease-agent-targeted.json",json:null},"test-result":{abbr:"tr",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/test-result.json",json:null},"test-type":{abbr:"tt",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/test-type.json",json:null},"vaccine-mah-manf":{abbr:"ma",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/vaccine-mah-manf.json",json:null},"vaccine-medicinal-product":{abbr:"mp",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/vaccine-medicinal-product.json",json:null},"vaccine-prophilaxis":{abbr:"vp",url:"https://raw.githubusercontent.com/ehn-dcc-development/ehn-dcc-valuesets/release/2.0.0/vaccine-prophylaxis.json",json:null}};window.addEventListener("load",(promises=[],Object.keys(valueSets).forEach(function(k){var elem=valueSets[k];promises.push(fetch(elem.url).then(function(res){return res.json()}).then(function(json){return elem.json=json}))}),void Promise.all(promises).then(function(){console.info("Value sets loaded!")})))},{"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/defineProperty":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/slicedToArray":10,"@babel/runtime/helpers/typeof":11,base45:42,cbor:96,pako:216}],323:[function(require,module,exports){"use strict";function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getQRCanvas(){return document.getElementById("qr-canvas")}function toggleDecodedHCertView(checked){document.querySelector("#dgc-code").hidden=checked,document.querySelector("#dgc-hr").hidden=!checked}Object.defineProperty(exports,"__esModule",{value:!0}),exports.displayDecodedHCERT=function(greenpassJSON){var type=null;if("v"in greenpassJSON)type="v";else if("r"in greenpassJSON)type="r";else{if(!("t"in greenpassJSON))throw Error("invalid certificate type");type="t"}showDecodedHCertGroup(type),document.getElementById("dob").value=greenpassJSON.dob.value,document.getElementById("ver").innerText=greenpassJSON.ver.value;for(var _i=0,_Object$keys=Object.keys(greenpassJSON.nam);_i<_Object$keys.length;_i++){var p=_Object$keys[_i];document.getElementById(p).value=greenpassJSON.nam[p].value}for(var type_group=greenpassJSON[type][0],_i2=0,_Object$keys2=Object.keys(type_group);_i2<_Object$keys2.length;_i2++){var _p=_Object$keys2[_i2];document.getElementById(type+"-"+_p).value=type_group[_p].value}},exports.displayRawHCERT=function(json){document.querySelector("#dgc-json").textContent=json},exports.displayRawText=function(text){document.querySelector("#dgc-raw").textContent=text},exports.displaySignatureDetails=function(alg_decoder,alg){!0===signatureDetailsToggle.checked&&(signatureDetails.hidden=!1);document.getElementById("kid").innerText=alg_decoder;alg_decoder={"-37":"PS256 (RSASSA-PSS w/ SHA-256)","-7":"ES256 (ECDSA w/ SHA-256)"};document.getElementById("alg").innerText=alg_decoder[alg]||alg},exports.displaySignatureResult=function(isAuthentic){switch(document.getElementById("progress").classList.add("is-hidden"),isAuthentic){case null:break;case!1:document.getElementById("signature-invalid-notification").hidden=!1;break;case!0:document.getElementById("signature-verified-notification").hidden=!1}},exports.displaySigner=function(str){document.getElementById("cert-co").innerText=str},exports.getQRCanvas=getQRCanvas,exports.hideProgress=function(){document.getElementById("progress").classList.add("is-hidden")},exports.hideQRCanvas=function(){document.getElementById("drag-drop-text").hidden=!1,document.getElementsByClassName("canvas-wrapper")[0].classList.add("is-hidden")},exports.reset=function(){var _step,_iterator=function(o,F){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||F&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(document.getElementsByClassName("dgc input"));try{for(_iterator.s();!(_step=_iterator.n()).done;)_step.value.value=null}catch(err){_iterator.e(err)}finally{_iterator.f()}document.getElementById("dgc-json").innerText="",document.getElementById("error-bar").hidden=!0,document.getElementById("progress").classList.remove("is-hidden"),document.getElementById("signature-invalid-notification").hidden=!0,document.getElementById("signature-verified-notification").hidden=!0,document.getElementById("qr-decoded-content").innerText="",getQRCanvas().height+=0,document.getElementById("cert-type").innerText="",document.getElementById("common-group").hidden=!0,document.getElementById("vaccination-group").hidden=!0,document.getElementById("recovery-group").hidden=!0,document.getElementById("test-group").hidden=!0,signatureDetails.hidden=!0,document.getElementById("cert-co").innerText="unavailable",document.getElementById("kid").innerText="",document.getElementById("alg").innerText=""},exports.scannerVideo=exports.scanner=void 0,exports.setProgressText=function(msg){document.getElementById("progress-text").innerText=msg},exports.showDecodedHCertGroup=showDecodedHCertGroup,exports.showDecodedText=function(text){document.querySelector("#qr-decoded-content").innerText=text},exports.showErrorMessage=function(err,errtext){console.warn("NOT A DGC: "+err);errtext=errtext+"\n"+err;document.querySelector("#dgc-json").textContent=errtext,document.querySelector("#error-text").textContent=err,document.querySelector("#error-bar").hidden=!1,document.querySelector("#progress").classList.add("is-hidden")},exports.showQRCanvas=function(){document.getElementById("drag-drop-text").hidden=!0,document.getElementsByClassName("canvas-wrapper")[0].classList.remove("is-hidden")},exports.signatureDetailsToggle=void 0,exports.toggleDecodedHCertView=toggleDecodedHCertView,document.querySelector("#dgcHumanReadableToggle").addEventListener("click",function(event){toggleDecodedHCertView(event.target.checked)}),window.addEventListener("load",function(){toggleDecodedHCertView(document.querySelector("#dgcHumanReadableToggle").checked)});var signatureDetailsToggle=document.querySelector("#displaySignatureDetailsToggle");exports.signatureDetailsToggle=signatureDetailsToggle;var signatureDetails=document.querySelector("#signature-details-field");function showDecodedHCertGroup(type){document.getElementById("load-tip").hidden=!0;var vgroup=document.getElementById("vaccination-group"),rgroup=document.getElementById("recovery-group"),tgroup=document.getElementById("test-group"),cert_type=document.getElementById("cert-type");switch(type){case"v":vgroup.hidden=!1,cert_type.innerText="Vaccination";break;case"r":rgroup.hidden=!1,cert_type.innerText="Recovery";break;case"t":tgroup.hidden=!1,cert_type.innerText="Test";break;default:throw Error("invalid certificate type")}document.getElementById("common-group").hidden=!1,document.getElementById("person-group").hidden=!1}signatureDetailsToggle.addEventListener("click",function(checked){checked=checked.target.checked,signatureDetails.hidden=!checked});var scanner=document.getElementById("camera-stream");exports.scannerVideo=scanner;scanner=document.getElementById("qr-scanner");exports.scanner=scanner},{}],324:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIdentityFromKID=function(_x3){return _getIdentityFromKID.apply(this,arguments)},exports.verify=function(_x,_x2){return _verify.apply(this,arguments)};var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_x4=require("@fidm/x509"),cose=function(obj,cache){if(!cache&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};cache=_getRequireWildcardCache(cache);if(cache&&cache.has(obj))return cache.get(obj);var key,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj){var desc;"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key])}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(require("cose-js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _createForOfIteratorHelper(o,F){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||F&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _verify(){return(_verify=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(greenpassRawData,kid){var keys,eligible_keys,verified,_iterator,keyX,verifier;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("assets/it_dgc_public_keys.json");case 2:return verifier=_context.sent,_context.next=5,verifier.json();case 5:if(keys=_context.sent){_context.next=8;break}return _context.abrupt("return",null);case 8:if(eligible_keys=keys[kid]){_context.next=11;break}return _context.abrupt("return",!1);case 11:verified=!1,_iterator=_createForOfIteratorHelper(eligible_keys),_context.prev=13,_iterator.s();case 15:if((keyX=_iterator.n()).done){_context.next=35;break}return verifier=keyX.value,keyX=_x4.PublicKey.fromPEM("-----BEGIN PUBLIC KEY-----\n"+verifier+"\n-----END PUBLIC KEY-----\n"),verifier=keyX.keyRaw,keyX=verifier.slice(1,33),verifier=verifier.slice(33,65),_context.prev=21,verifier={key:{x:keyX,y:verifier}},_context.next=25,cose.sign.verify(greenpassRawData,verifier);case 25:return verified=!0,_context.abrupt("break",35);case 29:_context.prev=29,_context.t0=_context.catch(21),console.error(_context.t0.message),console.error(_context.t0.stack);case 33:_context.next=15;break;case 35:_context.next=40;break;case 37:_context.prev=37,_context.t1=_context.catch(13),_iterator.e(_context.t1);case 40:return _context.prev=40,_iterator.f(),_context.finish(40);case 43:return _context.abrupt("return",verified);case 44:case"end":return _context.stop()}},_callee,null,[[13,37,40,43],[21,29]])}))).apply(this,arguments)}function _getIdentityFromKID(){return(_getIdentityFromKID=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(kid){var certstore,eligible_certs,cert;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch("assets/it_dgc_certificates.json");case 2:return cert=_context2.sent,_context2.next=5,cert.json();case 5:if(certstore=_context2.sent){_context2.next=8;break}return _context2.abrupt("return",null);case 8:if(eligible_certs=certstore[kid]){_context2.next=11;break}return _context2.abrupt("return",!1);case 11:return cert="-----BEGIN CERTIFICATE-----\n".concat(eligible_certs[0],"\n-----END CERTIFICATE-----"),cert=_x4.Certificate.fromPEM(cert),_context2.abrupt("return",cert);case 14:case"end":return _context2.stop()}},_callee2)}))).apply(this,arguments)}},{"@babel/runtime/helpers/asyncToGenerator":3,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/typeof":11,"@babel/runtime/regenerator":13,"@fidm/x509":19,"cose-js":110}],325:[function(dropArea,module,exports){"use strict";var _interopRequireDefault=dropArea("@babel/runtime/helpers/interopRequireDefault"),_typeof=dropArea("@babel/runtime/helpers/typeof"),_regenerator=_interopRequireDefault(dropArea("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(dropArea("@babel/runtime/helpers/asyncToGenerator")),_jsqr=_interopRequireDefault(dropArea("jsqr")),_qrcode=_interopRequireDefault(dropArea("qrcode")),_qrScanner=_interopRequireDefault(dropArea("qr-scanner")),_DGC=dropArea("./DGC"),signature=_interopRequireWildcard(dropArea("./signature")),UI=_interopRequireWildcard(dropArea("./UI"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,cache){if(!cache&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};cache=_getRequireWildcardCache(cache);if(cache&&cache.has(obj))return cache.get(obj);var key,desc,newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(key in obj)"default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)&&((desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null)&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]);return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}console.log("");dropArea=document.getElementById("drop-area");dropArea.addEventListener("dragover",function(event){event.stopPropagation(),event.preventDefault(),event.dataTransfer.dropEffect="copy"}),dropArea.addEventListener("drop",function(fileList){fileList.stopPropagation(),fileList.preventDefault();fileList=fileList.dataTransfer.files;reader.readAsDataURL(fileList[0])}),document.querySelector("#file-selector").addEventListener("click",function(event){event.target.value=null}),document.querySelector("#file-selector").addEventListener("change",function(event){reader.readAsDataURL(event.target.files[0])});var reader=new FileReader;function loadDGCFromString(){return _loadDGCFromString.apply(this,arguments)}function _loadDGCFromString(){return(_loadDGCFromString=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(rawstring){var rawdgc,kid,algid,hrDGC;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(UI.showDecodedText(rawstring),rawdgc=UI.getQRCanvas(),function(str,canvas){canvas.width=600,canvas.height=600;_qrcode.default.toDataURL(str,{errorCorrectionLevel:"H",type:"image/png"}).then(function(qr){var img=new Image;img.src=qr,img.onload=function(){canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0)}}).catch(function(err){console.error("qr-code beautify",err)})}(rawstring,rawdgc),UI.showQRCanvas(),UI.setProgressText("Decoding Green Certificate"),rawstring){_context2.next=7;break}throw Error("Invalid DGC: "+rawstring);case 7:hrDGC=new _DGC.EUGreenCertificate(rawstring),rawdgc=hrDGC.getRawCwt(),kid=hrDGC.getKid(),algid=hrDGC.getSignAlgorithm(),UI.displayRawText(hrDGC.getEncodedString()),UI.displayRawHCERT(hrDGC.toRawString()),hrDGC=hrDGC.withDecodedValues(),UI.displayDecodedHCERT(hrDGC),UI.setProgressText("Verifying signature"),signature.verify(rawdgc,kid).then(function(isAuthentic){UI.displaySignatureResult(isAuthentic)}).catch(function(err){UI.setProgressText("Failed to load the signer certificate list.\nPerhaps your network is not available?\n"),window.setTimeout(function(){UI.hideProgress()},3500,null)}),signature.getIdentityFromKID(kid,algid).then(function(issuer){var subject;UI.displaySignatureDetails(kid,algid),issuer?(subject="".concat(issuer.subject.commonName," (").concat(issuer.subject.countryName,")"),issuer="".concat(issuer.issuer.commonName," (").concat(issuer.issuer.countryName,")"),UI.displaySigner("".concat(subject,", issued by ").concat(issuer))):UI.displaySigner("unknown")});case 18:case"end":return _context2.stop()}},_callee2)}))).apply(this,arguments)}reader.addEventListener("error",function(){alert("Error : Failed to read file")}),reader.addEventListener("load",function(){var _ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(e){var file,rawstring;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(UI.reset(),UI.setProgressText("Processing image data"),"data:image"!=(file=e.target.result).substr(0,10))return UI.hideQRCanvas(),UI.showErrorMessage(Error("file is not an image"),"Cannot load this file"),_context.abrupt("return");_context.next=7;break;case 7:return rawstring=null,_context.prev=8,_context.next=11,function(){return _decodeQR.apply(this,arguments)}(file);case 11:rawstring=_context.sent,console.log(rawstring),loadDGCFromString(rawstring).catch(function(err){UI.showErrorMessage(err,"This is not an EU Digital COVID Certificate")}),_context.next=20;break;case 16:_context.prev=16,_context.t0=_context.catch(8),UI.hideQRCanvas(),UI.showErrorMessage(_context.t0,"This file doesn't contain a valid QR-code");case 20:case"end":return _context.stop()}},_callee,null,[[8,16]])}));return function(_x){return _ref.apply(this,arguments)}}()),_qrScanner.default.WORKER_PATH="qr-scanner-worker.min.js";var qrScanner=new _qrScanner.default(UI.scannerVideo,function(rawstring){qrScanner.stop(),"vibrate"in navigator&&navigator.vibrate(200),UI.scanner.hidden=!0,console.log(rawstring),loadDGCFromString(rawstring).catch(function(err){UI.showErrorMessage(err,"This is not an EU Digital COVID Certificate"),UI.hideQRCanvas()})});function _imageDataUrlToImageData(){return(_imageDataUrlToImageData=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee3(image,context){return _regenerator.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",new Promise(function(resolve,reject){context.width=image.width,context.height=image.height,context.drawImage(image,0,0),context.width||(canvas.width=300,canvas.height=300,reject("not a valid image file")),resolve(context.getImageData(0,0,context.width,context.height))}));case 1:case"end":return _context3.stop()}},_callee3)}))).apply(this,arguments)}function _decodeQR(){return(_decodeQR=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee5(imageDataUrl){var decoded,img,imgdata;return _regenerator.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return decoded=null,_context5.prev=1,_context5.next=4,_qrScanner.default.scanImage(imageDataUrl);case 4:return decoded=_context5.sent,_context5.abrupt("return",decoded);case 8:return _context5.prev=8,_context5.t0=_context5.catch(1),img=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee4(file){return _regenerator.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",new Promise(function(resolve,img){file||img();img=new Image;img.src=file,resolve(img)}));case 1:case"end":return _context4.stop()}},_callee4)}));return function(_x6){return _ref2.apply(this,arguments)}}(),console.info("QrScanner detection failed, falling back to jsqr"),_context5.next=14,img(imageDataUrl);case 14:return img=_context5.sent,(imgdata=UI.getQRCanvas()).width=img.width,imgdata.height=img.height,imgdata=imgdata.getContext("2d"),_context5.next=21,function(){return _imageDataUrlToImageData.apply(this,arguments)}(img,imgdata);case 21:if(imgdata=_context5.sent,decoded=(0,_jsqr.default)(imgdata.data,imgdata.width,imgdata.height))return _context5.abrupt("return",decoded.data);_context5.next=27;break;case 27:throw Error("no QR-code detected");case 28:case"end":return _context5.stop()}},_callee5,null,[[1,8]])}))).apply(this,arguments)}document.getElementById("start-scan").addEventListener("click",function(event){UI.reset(),UI.hideQRCanvas(),UI.scanner.hidden=!1,qrScanner.start().catch(function(err){alert(err+"\nThe camera stream is only available on HTTPS"),UI.scanner.hidden=!1})})},{"./DGC":322,"./UI":323,"./signature":324,"@babel/runtime/helpers/asyncToGenerator":3,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/typeof":11,"@babel/runtime/regenerator":13,jsqr:207,"qr-scanner":252,qrcode:253}]},{},[325]);